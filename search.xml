<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>hexo å†™æ–‡ç« æ­¥éª¤</title>
      <link href="/2023/06/02/hexo-%E5%86%99%E6%96%87%E7%AB%A0%E6%AD%A5%E9%AA%A4/"/>
      <url>/2023/06/02/hexo-%E5%86%99%E6%96%87%E7%AB%A0%E6%AD%A5%E9%AA%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="hexoæ­å»ºåšå®¢é…ç½®æ³¨æ„äº‹é¡¹ï¼š"><a href="#hexoæ­å»ºåšå®¢é…ç½®æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="hexoæ­å»ºåšå®¢é…ç½®æ³¨æ„äº‹é¡¹ï¼š"></a>hexoæ­å»ºåšå®¢é…ç½®æ³¨æ„äº‹é¡¹ï¼š</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¹æ–‡ä»¶å¤¹è¿›è¡Œé…ç½®</span></span><br><span class="line">hexo init</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºæ–°æ–‡ç« </span></span><br><span class="line">hexo <span class="keyword">new</span> <span class="string">&quot;æ–‡ç« åç§°&quot;</span></span><br><span class="line">hexo n <span class="string">&quot;æ–‡ç« åç§°&quot;</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//æ¸…ç†hexoç¼“å­˜</span></span><br><span class="line">hexo clean</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡æ–°ç”Ÿæˆåšå®¢çš„é™æ€æ–‡ä»¶</span></span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ¬åœ°è¿è¡Œåšå®¢è‹¥æ— æ³•è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–ï¼šnpm install hexo-server --save</span></span><br><span class="line">hexo s</span><br><span class="line"></span><br><span class="line"><span class="comment">//éƒ¨ç½²åšå®¢åˆ°githubä»“åº“</span></span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>åœ¨blogçš„package.jsonä¸­ä¿®æ”¹ï¼š</p><p>â€œserverâ€: â€œhexo serverâ€ ğŸ‘‰ â€œserverâ€: â€œhexo clean &amp;&amp; hexo generate &amp;&amp; hexo serverâ€</p><p>æ­¤å æ‰§è¡Œnpm run server &#x3D; åŒæ—¶æ‰§è¡Œä»¥ä¸Šä¸‰ä¸ªå‘½ä»¤</p><h2 id="åšå®¢é…ç½®æ³¨æ„äº‹é¡¹ï¼š"><a href="#åšå®¢é…ç½®æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="åšå®¢é…ç½®æ³¨æ„äº‹é¡¹ï¼š"></a>åšå®¢é…ç½®æ³¨æ„äº‹é¡¹ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ–‡ç« å¤´éƒ¨ï¼š</span><br><span class="line">title: æ–‡ç« æ ‡é¢˜</span><br><span class="line">date: 2023-06-02 12:04:52</span><br><span class="line">tags: åšå®¢åˆ›å»º</span><br><span class="line">categories: åšå®¢åˆ›å»º</span><br><span class="line">cover: https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">titleã€å¿…éœ€ã€‘æ–‡ç« æ ‡é¢˜</span><br><span class="line">dateã€å¿…éœ€ã€‘æ–‡ç« åˆ›å»ºæ—¥æœŸ</span><br><span class="line">updatedã€å¯é€‰ã€‘æ–‡ç« æ›´æ–°æ—¥æœŸ</span><br><span class="line">tagsã€å¯é€‰ã€‘æ–‡ç« æ ‡ç­¾</span><br><span class="line">categoriesã€å¯é€‰ã€‘æ–‡ç« åˆ†ç±»</span><br><span class="line">keywordsã€å¯é€‰ã€‘æ–‡ç« å…³é”®å­—</span><br><span class="line">descriptionã€å¯é€‰ã€‘æ–‡ç« æè¿°</span><br><span class="line">top_imgã€å¯é€‰ã€‘æ–‡ç« é¡¶éƒ¨å›¾ç‰‡</span><br><span class="line">coverã€å¯é€‰ã€‘æ–‡ç« ç¼©ç•¥å›¾(å¦‚æœæ²¡æœ‰è®¾ç½®top_img,æ–‡ç« é¡µé¡¶éƒ¨å°†æ˜¾ç¤ºç¼©ç•¥å›¾ï¼Œå¯è®¾ä¸ºfalse/å›¾ç‰‡åœ°å€/ç•™ç©º)</span><br><span class="line">commentsã€å¯é€‰ã€‘æ˜¾ç¤ºæ–‡ç« è¯„è®ºæ¨¡å—(é»˜è®¤ true)</span><br><span class="line">tocã€å¯é€‰ã€‘æ˜¾ç¤ºæ–‡ç« TOC(é»˜è®¤ä¸ºè®¾ç½®ä¸­tocçš„enableé…ç½®)</span><br><span class="line">toc_numberã€å¯é€‰ã€‘æ˜¾ç¤ºtoc_number(é»˜è®¤ä¸ºè®¾ç½®ä¸­tocçš„numberé…ç½®)</span><br><span class="line">toc_style_simpleã€å¯é€‰ã€‘æ˜¾ç¤º toc ç®€æ´æ¨¡å¼</span><br><span class="line">copyrightã€å¯é€‰ã€‘æ˜¾ç¤ºæ–‡ç« ç‰ˆæƒæ¨¡å—(é»˜è®¤ä¸ºè®¾ç½®ä¸­post_copyrightçš„enableé…ç½®)</span><br><span class="line">copyright_authorã€å¯é€‰ã€‘æ–‡ç« ç‰ˆæƒæ¨¡å—çš„æ–‡ç« ä½œè€…</span><br><span class="line">copyright_author_hrefã€å¯é€‰ã€‘æ–‡ç« ç‰ˆæƒæ¨¡å—çš„æ–‡ç« ä½œè€…é“¾æ¥</span><br><span class="line">copyright_urlã€å¯é€‰ã€‘æ–‡ç« ç‰ˆæƒæ¨¡å—çš„æ–‡ç« è¿ç»“é“¾æ¥</span><br><span class="line">copyright_infoã€å¯é€‰ã€‘æ–‡ç« ç‰ˆæƒæ¨¡å—çš„ç‰ˆæƒå£°æ˜æ–‡å­—</span><br><span class="line">mathjaxã€å¯é€‰ã€‘æ˜¾ç¤ºmathjax(å½“è®¾ç½® mathjax çš„ per_page: false æ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false )</span><br><span class="line">katexã€å¯é€‰ã€‘æ˜¾ç¤º katex (å½“è®¾ç½® katex çš„ per_page: false æ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false )</span><br><span class="line">aplayerã€å¯é€‰ã€‘åœ¨éœ€è¦çš„é¡µé¢åŠ è½½ aplayer çš„ js å’Œ css,è¯·å‚è€ƒæ–‡ç« ä¸‹é¢çš„éŸ³ä¹ é…ç½®</span><br><span class="line">highlight_shrinkã€å¯é€‰ã€‘é…ç½®ä»£ç æ¡†æ˜¯å¦å±•å¼€(true/false)(é»˜è®¤ä¸ºè®¾ç½®ä¸­ highlight_shrink çš„é…ç½®)</span><br><span class="line">asideã€å¯é€‰ã€‘æ˜¾ç¤ºä¾§è¾¹æ  (é»˜è®¤ true)</span><br><span class="line">abcjsã€å¯é€‰ã€‘åŠ è½½ abcjs (å½“è®¾ç½® abcjs çš„ per_page: false æ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä½œè€…: Jerry</span><br><span class="line">é€£çµ: https://butterfly.js.org/posts/dc584b87/#Post-Front-matter</span><br><span class="line">ä¾†æº: Butterfly</span><br><span class="line">è‘—ä½œæ¬Šæ­¸ä½œè€…æ‰€æœ‰ã€‚å•†æ¥­è½‰è¼‰è«‹è¯çµ¡ä½œè€…ç²å¾—æˆæ¬Šï¼Œéå•†æ¥­è½‰è¼‰è«‹è¨»æ˜å‡ºè™•ã€‚</span><br></pre></td></tr></table></figure><h2 id="å¯¹åšå®¢è¿›è¡Œgitç‰ˆæœ¬æ§åˆ¶ï¼š"><a href="#å¯¹åšå®¢è¿›è¡Œgitç‰ˆæœ¬æ§åˆ¶ï¼š" class="headerlink" title="å¯¹åšå®¢è¿›è¡Œgitç‰ˆæœ¬æ§åˆ¶ï¼š"></a>å¯¹åšå®¢è¿›è¡Œgitç‰ˆæœ¬æ§åˆ¶ï¼š</h2><p>å°†æœ¬åœ°blogæ–‡ä»¶å¤¹æ¨é€åˆ°ä»“åº“</p><p>å½“éœ€è¦é‡æ–°æ‹‰å–blogæ–‡ä»¶å¤¹æ—¶ï¼Œåªéœ€è¦ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//è¿›å…¥æƒ³è¦æ”¾ç½®blogçš„ç»ˆç«¯</span><br><span class="line">git clone ä»“åº“é“¾æ¥</span><br><span class="line">//å®‰è£…ä¾èµ–</span><br><span class="line">cd blog</span><br><span class="line">npm install</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><h2 id="hexo-å†™æ–‡ç« æ­¥éª¤ï¼š"><a href="#hexo-å†™æ–‡ç« æ­¥éª¤ï¼š" class="headerlink" title="hexo å†™æ–‡ç« æ­¥éª¤ï¼š"></a>hexo å†™æ–‡ç« æ­¥éª¤ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">donn@Macc blog % hexo new &quot;ç®—æ³•å°ç»“&quot;</span><br><span class="line"></span><br><span class="line">INFO Validating config</span><br><span class="line"></span><br><span class="line">INFO Created: /opt/blog/source/_posts/ç®—æ³•å°ç»“.md</span><br></pre></td></tr></table></figure><ol><li><p>hexo new â€œæ–‡ç« åç§°â€</p></li><li><p>åœ¨å¯¹åº”æ–‡ä»¶ä¸­å†™å†…å®¹</p></li><li><p>å®Œæˆéƒ¨ç½²ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo g -c</span><br><span class="line">hexo s</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></li></ol><p>hexo dä¹‹åå‡ºç°æŠ¥é”™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fatal: unable to access &#x27;https://github.com/Tangjiayang/Tangjiayang.github.io.git/&#x27;: Failed to connect to github.com port 443 after 75012 ms: Couldn&#x27;t connect to server</span><br><span class="line">FATAL Something&#x27;s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html</span><br><span class="line">Error: Spawn failed</span><br><span class="line">    at ChildProcess.&lt;anonymous&gt; (/opt/blog/node_modules/hexo-util/lib/spawn.js:51:21)</span><br><span class="line">    at ChildProcess.emit (node:events:511:28)</span><br><span class="line">    at ChildProcess._handle.onexit (node:internal/child_process:293:12)</span><br></pre></td></tr></table></figure><p>è§£å†³æ–¹æ¡ˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å–æ¶ˆå…¨å±€ä»£ç†ï¼š</span><br><span class="line">git config --global --unset http.proxy</span><br><span class="line">git config --global --unset https.proxy</span><br></pre></td></tr></table></figure><p>æ–‡ç« æ“ä½œï¼š</p><p>â€‹æ–‡ç« ç½®é¡¶ï¼š</p><p>â€‹æ·»åŠ é…ç½®      sticky: 1</p>]]></content>
      
      
      
        <tags>
            
            <tag> åšå®¢åˆ›å»º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatis-Plus</title>
      <link href="/2023/06/02/MyBatis-Plus/"/>
      <url>/2023/06/02/MyBatis-Plus/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€MyBatis-Plus"><a href="#ä¸€ã€MyBatis-Plus" class="headerlink" title="ä¸€ã€MyBatis-Plus"></a>ä¸€ã€MyBatis-Plus</h1><h2 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1.ç®€ä»‹"></a>1.ç®€ä»‹</h2><p><a href="https://github.com/baomidou/mybatis-plus">MyBatis-Plus (opens new window)</a>ï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª <a href="https://www.mybatis.org/mybatis-3/">MyBatis (opens new window)</a>çš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚</p><blockquote><p>æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯æˆä¸º MyBatis æœ€å¥½çš„æ­æ¡£ï¼Œå°±åƒ <a href="https://baomidou.com/img/contra.jpg">é­‚æ–—ç½—</a> ä¸­çš„ 1Pã€2Pï¼ŒåŸºå‹æ­é…ï¼Œæ•ˆç‡ç¿»å€ã€‚</p></blockquote><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/relationship-with-mybatis.png" alt="img"></p><h2 id="2-ç‰¹æ€§"><a href="#2-ç‰¹æ€§" class="headerlink" title="2.ç‰¹æ€§"></a>2.ç‰¹æ€§</h2><ul><li><strong>æ— ä¾µå…¥</strong>ï¼šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œå¼•å…¥å®ƒä¸ä¼šå¯¹ç°æœ‰å·¥ç¨‹äº§ç”Ÿå½±å“ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘</li><li><strong>æŸè€—å°</strong>ï¼šå¯åŠ¨å³ä¼šè‡ªåŠ¨æ³¨å…¥åŸºæœ¬ CURDï¼Œæ€§èƒ½åŸºæœ¬æ— æŸè€—ï¼Œç›´æ¥é¢å‘å¯¹è±¡æ“ä½œ</li><li><strong>å¼ºå¤§çš„ CRUD æ“ä½œ</strong>ï¼šå†…ç½®é€šç”¨ Mapperã€é€šç”¨ Serviceï¼Œä»…ä»…é€šè¿‡å°‘é‡é…ç½®å³å¯å®ç°å•è¡¨å¤§éƒ¨åˆ† CRUD æ“ä½œï¼Œæ›´æœ‰å¼ºå¤§çš„æ¡ä»¶æ„é€ å™¨ï¼Œæ»¡è¶³å„ç±»ä½¿ç”¨éœ€æ±‚</li><li><strong>æ”¯æŒ Lambda å½¢å¼è°ƒç”¨</strong>ï¼šé€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæ–¹ä¾¿çš„ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™</li><li><strong>æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼šæ”¯æŒå¤šè¾¾ 4 ç§ä¸»é”®ç­–ç•¥ï¼ˆå†…å«åˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ - Sequenceï¼‰ï¼Œå¯è‡ªç”±é…ç½®ï¼Œå®Œç¾è§£å†³ä¸»é”®é—®é¢˜</li><li><strong>æ”¯æŒ ActiveRecord æ¨¡å¼</strong>ï¼šæ”¯æŒ ActiveRecord å½¢å¼è°ƒç”¨ï¼Œå®ä½“ç±»åªéœ€ç»§æ‰¿ Model ç±»å³å¯è¿›è¡Œå¼ºå¤§çš„ CRUD æ“ä½œ</li><li><strong>æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œ</strong>ï¼šæ”¯æŒå…¨å±€é€šç”¨æ–¹æ³•æ³¨å…¥ï¼ˆ Write once, use anywhere ï¼‰</li><li><strong>å†…ç½®ä»£ç ç”Ÿæˆå™¨</strong>ï¼šé‡‡ç”¨ä»£ç æˆ–è€… Maven æ’ä»¶å¯å¿«é€Ÿç”Ÿæˆ Mapper ã€ Model ã€ Service ã€ Controller å±‚ä»£ç ï¼Œæ”¯æŒæ¨¡æ¿å¼•æ“ï¼Œæ›´æœ‰è¶…å¤šè‡ªå®šä¹‰é…ç½®ç­‰æ‚¨æ¥ä½¿ç”¨</li><li><strong>å†…ç½®åˆ†é¡µæ’ä»¶</strong>ï¼šåŸºäº MyBatis ç‰©ç†åˆ†é¡µï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒå…·ä½“æ“ä½œï¼Œé…ç½®å¥½æ’ä»¶ä¹‹åï¼Œå†™åˆ†é¡µç­‰åŒäºæ™®é€š List æŸ¥è¯¢</li><li><strong>åˆ†é¡µæ’ä»¶æ”¯æŒå¤šç§æ•°æ®åº“</strong>ï¼šæ”¯æŒ MySQLã€MariaDBã€Oracleã€DB2ã€H2ã€HSQLã€SQLiteã€Postgreã€SQLServer ç­‰å¤šç§æ•°æ®åº“</li><li><strong>å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶</strong>ï¼šå¯è¾“å‡º SQL è¯­å¥ä»¥åŠå…¶æ‰§è¡Œæ—¶é—´ï¼Œå»ºè®®å¼€å‘æµ‹è¯•æ—¶å¯ç”¨è¯¥åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿæªå‡ºæ…¢æŸ¥è¯¢</li><li><strong>å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶</strong>ï¼šæä¾›å…¨è¡¨ delete ã€ update æ“ä½œæ™ºèƒ½åˆ†æé˜»æ–­ï¼Œä¹Ÿå¯è‡ªå®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œé¢„é˜²è¯¯æ“ä½œ</li></ul><h2 id="3-æ”¯æŒæ•°æ®åº“"><a href="#3-æ”¯æŒæ•°æ®åº“" class="headerlink" title="3.æ”¯æŒæ•°æ®åº“"></a>3.æ”¯æŒæ•°æ®åº“</h2><blockquote><p>ä»»ä½•èƒ½ä½¿ç”¨ <code>MyBatis</code> è¿›è¡Œ CRUD, å¹¶ä¸”æ”¯æŒæ ‡å‡† SQL çš„æ•°æ®åº“ï¼Œå…·ä½“æ”¯æŒæƒ…å†µå¦‚ä¸‹ï¼Œå¦‚æœä¸åœ¨ä¸‹åˆ—è¡¨æŸ¥çœ‹åˆ†é¡µéƒ¨åˆ†æ•™ç¨‹ PR æ‚¨çš„æ”¯æŒã€‚</p></blockquote><ul><li>MySQLï¼ŒOracleï¼ŒDB2ï¼ŒH2ï¼ŒHSQLï¼ŒSQLiteï¼ŒPostgreSQLï¼ŒSQLServerï¼ŒPhoenixï¼ŒGauss ï¼ŒClickHouseï¼ŒSybaseï¼ŒOceanBaseï¼ŒFirebirdï¼ŒCubridï¼ŒGoldilocksï¼Œcsiidb</li><li>è¾¾æ¢¦æ•°æ®åº“ï¼Œè™šè°·æ•°æ®åº“ï¼Œäººå¤§é‡‘ä»“æ•°æ®åº“ï¼Œå—å¤§é€šç”¨(ååº“)æ•°æ®åº“ï¼Œå—å¤§é€šç”¨æ•°æ®åº“ï¼Œç¥é€šæ•°æ®åº“ï¼Œç€šé«˜æ•°æ®åº“</li></ul><h2 id="4-æ¡†æ¶ç»“æ„"><a href="#4-æ¡†æ¶ç»“æ„" class="headerlink" title="4.æ¡†æ¶ç»“æ„"></a>4.æ¡†æ¶ç»“æ„</h2><p>![image-20230517103049072](&#x2F;Users&#x2F;donn&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230517103049072.png)</p><h2 id="5-å®˜æ–¹åœ°å€"><a href="#5-å®˜æ–¹åœ°å€" class="headerlink" title="5.å®˜æ–¹åœ°å€"></a>5.å®˜æ–¹åœ°å€</h2><blockquote><p><strong>å®˜æ–¹ç½‘ç«™ï¼š</strong><a href="https://baomidou.com/">https://baomidou.com/</a></p><p><strong>å®˜æ–¹æ–‡æ¡£ï¼š</strong><a href="https://baomidou.com/pages/24112f/">https://baomidou.com/pages/24112f/</a></p></blockquote><h1 id="äºŒã€å…¥é—¨æ¡ˆä¾‹"><a href="#äºŒã€å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="äºŒã€å…¥é—¨æ¡ˆä¾‹"></a>äºŒã€å…¥é—¨æ¡ˆä¾‹</h1><h2 id="1-å¼€å‘ç¯å¢ƒ"><a href="#1-å¼€å‘ç¯å¢ƒ" class="headerlink" title="1.å¼€å‘ç¯å¢ƒ"></a>1.å¼€å‘ç¯å¢ƒ</h2><ul><li><strong>IDEï¼šIDEA 2019.3.5</strong></li><li><strong>JDKï¼šJDK8+</strong></li><li><strong>æ„å»ºå·¥å…·ï¼šMaven 3.5.4</strong></li><li><strong>MySQLï¼šMySQL 8.0.24</strong></li><li><strong>Navicatï¼šNavicat Premium 15</strong></li><li><strong>Spring Bootï¼š2.6.7</strong></li><li><strong>MyBatis-Plusï¼š3.5.1</strong></li></ul><h2 id="2-å»ºåº“å»ºè¡¨"><a href="#2-å»ºåº“å»ºè¡¨" class="headerlink" title="2.å»ºåº“å»ºè¡¨"></a>2.å»ºåº“å»ºè¡¨</h2><ul><li><p><strong>æ‰“å¼€Navicatè¿è¡Œä»¥ä¸‹SQLè„šæœ¬è¿›è¡Œå»ºåº“å»ºè¡¨</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `mybatis_plus` <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span>; </span><br><span class="line">use `mybatis_plus`; </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">user</span>` ( </span><br><span class="line">    `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ä¸»é”®ID&#x27;</span>, </span><br><span class="line">    `name` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å§“å&#x27;</span>, </span><br><span class="line">    `age` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å¹´é¾„&#x27;</span>, </span><br><span class="line">    `email` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;é‚®ç®±&#x27;</span>, </span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (`id`) </span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ’å…¥å‡ æ¡æµ‹è¯•æ•°æ®</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> (id, name, age, email) <span class="keyword">VALUES</span> </span><br><span class="line">(<span class="number">1</span>, <span class="string">&#x27;Jone&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;test1@baomidou.com&#x27;</span>), </span><br><span class="line">(<span class="number">2</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;test2@baomidou.com&#x27;</span>), </span><br><span class="line">(<span class="number">3</span>, <span class="string">&#x27;Tom&#x27;</span>, <span class="number">28</span>, <span class="string">&#x27;test3@baomidou.com&#x27;</span>), </span><br><span class="line">(<span class="number">4</span>, <span class="string">&#x27;Sandy&#x27;</span>, <span class="number">21</span>, <span class="string">&#x27;test4@baomidou.com&#x27;</span>), </span><br><span class="line">(<span class="number">5</span>, <span class="string">&#x27;Billie&#x27;</span>, <span class="number">24</span>, <span class="string">&#x27;test5@baomidou.com&#x27;</span>);</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-åˆ›å»ºå·¥ç¨‹"><a href="#3-åˆ›å»ºå·¥ç¨‹" class="headerlink" title="3.åˆ›å»ºå·¥ç¨‹"></a>3.åˆ›å»ºå·¥ç¨‹</h2><ul><li><p><strong>ä½¿ç”¨<code>Spring Initializer</code>å¿«é€Ÿåˆå§‹åŒ–ä¸€ä¸ª Spring Boot å·¥ç¨‹</strong></p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519140839640.png" alt="image-20220519140839640" style="zoom:80%;" /><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519141335981.png" alt="image-20220519141335981" style="zoom:80%;" /><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519141737405.png" alt="image-20220519141737405" style="zoom:80%;" /><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519141849937.png" alt="image-20220519141849937" style="zoom:80%;" /></li><li><p><strong>å¼•å…¥<code>MyBatis-Plus</code>çš„ä¾èµ–</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å…¶ä»–ç›¸å…³ä¾èµ–ï¼š</span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.31<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>å®‰è£…<code>Lombok</code>æ’ä»¶</strong></p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519143257305.png" alt="image-20220519143257305" style="zoom:80%;" /></li></ul><h2 id="4-é…ç½®ç¼–ç "><a href="#4-é…ç½®ç¼–ç " class="headerlink" title="4.é…ç½®ç¼–ç "></a>4.é…ç½®ç¼–ç </h2><ul><li><p><strong>é…ç½®<code>application.yml</code>æ–‡ä»¶</strong></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#é…ç½®ç«¯å£</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="comment">#é…ç½®æ•°æ®æº</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="comment">#é…ç½®æ•°æ®æºç±»å‹</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.zaxxer.hikari.HikariDataSource</span></span><br><span class="line">    <span class="comment">#é…ç½®è¿æ¥æ•°æ®åº“çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line">    <span class="attr">username:</span> &#123;<span class="string">username</span>&#125;</span><br><span class="line">    <span class="attr">password:</span> &#123;<span class="string">password</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#MyBatis-Plusç›¸å…³é…ç½®</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment">#é…ç½®æ—¥å¿—</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br></pre></td></tr></table></figure></li><li><p><strong>åœ¨ Spring Boot å¯åŠ¨ç±»ä¸­æ·»åŠ  <code>@MapperScan</code> æ³¨è§£ï¼Œæ‰«æ Mapper æ–‡ä»¶å¤¹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;æŒ‡å®šMapperæ¥å£æ‰€åœ¨çš„åŒ…&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusDemoApplication</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">SpringApplication.run(MybatisPlusDemoApplication.class, args);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™å®ä½“ç±» <code>User.java</code>ï¼ˆæ­¤å¤„ä½¿ç”¨äº† Lombok ç®€åŒ–ä»£ç ï¼‰</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™ Mapper åŒ…ä¸‹çš„ <code>UserMapper</code>æ¥å£</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="5-æµ‹è¯•æŸ¥è¯¢"><a href="#5-æµ‹è¯•æŸ¥è¯¢" class="headerlink" title="5.æµ‹è¯•æŸ¥è¯¢"></a>5.æµ‹è¯•æŸ¥è¯¢</h2><ul><li><p><strong>ç¼–å†™ä¸€ä¸ªæµ‹è¯•ç±»<code>MyBatisPlusTest.java</code></strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisPlusTest</span> &#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•æŸ¥è¯¢æ‰€æœ‰æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testSelectList</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//é€šè¿‡æ¡ä»¶æ„é€ å™¨æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆï¼Œè‹¥æ²¡æœ‰æ¡ä»¶ï¼Œåˆ™å¯ä»¥è®¾ç½®nullä¸ºå‚æ•°</span></span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(<span class="literal">null</span>);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ§åˆ¶å°æ‰“å°æŸ¥è¯¢ç»“æœ</strong></p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519150454211.png" alt="image-20220519150454211"></p></li></ul><h1 id="ä¸‰ã€å¢åˆ æ”¹æŸ¥"><a href="#ä¸‰ã€å¢åˆ æ”¹æŸ¥" class="headerlink" title="ä¸‰ã€å¢åˆ æ”¹æŸ¥"></a>ä¸‰ã€å¢åˆ æ”¹æŸ¥</h1><h2 id="1-BaseMapper-lt-T-gt"><a href="#1-BaseMapper-lt-T-gt" class="headerlink" title="1.BaseMapper&lt;T&gt;"></a>1.BaseMapper&lt;T&gt;</h2><blockquote><p>è¯´æ˜:</p><ul><li>é€šç”¨ CRUD å°è£…BaseMapper æ¥å£ï¼Œä¸º <code>Mybatis-Plus</code> å¯åŠ¨æ—¶è‡ªåŠ¨è§£æå®ä½“è¡¨å…³ç³»æ˜ å°„è½¬æ¢ä¸º <code>Mybatis</code> å†…éƒ¨å¯¹è±¡æ³¨å…¥å®¹å™¨</li><li>æ³›å‹ <code>T</code> ä¸ºä»»æ„å®ä½“å¯¹è±¡</li><li>å‚æ•° <code>Serializable</code> ä¸ºä»»æ„ç±»å‹ä¸»é”® <code>Mybatis-Plus</code> ä¸æ¨èä½¿ç”¨å¤åˆä¸»é”®çº¦å®šæ¯ä¸€å¼ è¡¨éƒ½æœ‰è‡ªå·±çš„å”¯ä¸€ <code>id</code> ä¸»é”®</li><li>å¯¹è±¡ <code>Wrapper</code> ä¸ºæ¡ä»¶æ„é€ å™¨</li></ul></blockquote><p>MyBatis-Plusä¸­çš„åŸºæœ¬CRUDåœ¨å†…ç½®çš„BaseMapperä¸­éƒ½å·²å¾—åˆ°äº†å®ç°ï¼Œå› æ­¤æˆ‘ä»¬ç»§æ‰¿è¯¥æ¥å£ä»¥åå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><p>æœ¬æ¬¡æ¼”ç¤ºçš„CRUDæ“ä½œä¸åŒ…å«å‚æ•°å¸¦æœ‰æ¡ä»¶æ„é€ å™¨çš„æ–¹æ³•ï¼Œå…³äºæ¡ä»¶æ„é€ å™¨å°†å•ç‹¬åœ¨ä¸€ä¸ªç« èŠ‚è¿›è¡Œæ¼”ç¤ºã€‚</p><hr><blockquote><p><strong>BaseMapperä¸­æä¾›çš„CRUDæ–¹æ³•ï¼š</strong></p></blockquote><ul><li><p><strong>å¢åŠ ï¼šInsert</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ’å…¥ä¸€æ¡è®°å½•</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">insert</span><span class="params">(T entity)</span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>åˆ é™¤ï¼šDelete</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ® entity æ¡ä»¶ï¼Œåˆ é™¤è®°å½•</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">delete</span><span class="params">(<span class="meta">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; wrapper)</span>;</span><br><span class="line"><span class="comment">// åˆ é™¤ï¼ˆæ ¹æ®ID æ‰¹é‡åˆ é™¤ï¼‰</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">deleteBatchIds</span><span class="params">(<span class="meta">@Param(Constants.COLLECTION)</span> Collection&lt;? extends Serializable&gt; idList)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® ID åˆ é™¤</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">deleteById</span><span class="params">(Serializable id)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® columnMap æ¡ä»¶ï¼Œåˆ é™¤è®°å½•</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">deleteByMap</span><span class="params">(<span class="meta">@Param(Constants.COLUMN_MAP)</span> Map&lt;String, Object&gt; columnMap)</span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>ä¿®æ”¹ï¼šUpdate</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ® whereWrapper æ¡ä»¶ï¼Œæ›´æ–°è®°å½•</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">update</span><span class="params">(<span class="meta">@Param(Constants.ENTITY)</span> T updateEntity, <span class="meta">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; whereWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® ID ä¿®æ”¹</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">updateById</span><span class="params">(<span class="meta">@Param(Constants.ENTITY)</span> T entity)</span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>æŸ¥è¯¢ï¼šSelete</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ® ID æŸ¥è¯¢</span></span><br><span class="line">T <span class="title function_">selectById</span><span class="params">(Serializable id)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•</span></span><br><span class="line">T <span class="title function_">selectOne</span><span class="params">(<span class="meta">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢ï¼ˆæ ¹æ®ID æ‰¹é‡æŸ¥è¯¢ï¼‰</span></span><br><span class="line">List&lt;T&gt; <span class="title function_">selectBatchIds</span><span class="params">(<span class="meta">@Param(Constants.COLLECTION)</span> Collection&lt;? extends Serializable&gt; idList)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•</span></span><br><span class="line">List&lt;T&gt; <span class="title function_">selectList</span><span class="params">(<span class="meta">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢ï¼ˆæ ¹æ® columnMap æ¡ä»¶ï¼‰</span></span><br><span class="line">List&lt;T&gt; <span class="title function_">selectByMap</span><span class="params">(<span class="meta">@Param(Constants.COLUMN_MAP)</span> Map&lt;String, Object&gt; columnMap)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•</span></span><br><span class="line">List&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">selectMaps</span><span class="params">(<span class="meta">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•ã€‚æ³¨æ„ï¼š åªè¿”å›ç¬¬ä¸€ä¸ªå­—æ®µçš„å€¼</span></span><br><span class="line">List&lt;Object&gt; <span class="title function_">selectObjs</span><span class="params">(<span class="meta">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•ï¼ˆå¹¶ç¿»é¡µï¼‰</span></span><br><span class="line">IPage&lt;T&gt; <span class="title function_">selectPage</span><span class="params">(IPage&lt;T&gt; page, <span class="meta">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•ï¼ˆå¹¶ç¿»é¡µï¼‰</span></span><br><span class="line">IPage&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">selectMapsPage</span><span class="params">(IPage&lt;T&gt; page, <span class="meta">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢æ€»è®°å½•æ•°</span></span><br><span class="line">Integer <span class="title function_">selectCount</span><span class="params">(<span class="meta">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br></pre></td></tr></table></figure></li></ul><h2 id="2-è°ƒç”¨Mapperå±‚å®ç°CRUD"><a href="#2-è°ƒç”¨Mapperå±‚å®ç°CRUD" class="headerlink" title="2.è°ƒç”¨Mapperå±‚å®ç°CRUD"></a>2.è°ƒç”¨Mapperå±‚å®ç°CRUD</h2><h3 id="2-1æ’å…¥"><a href="#2-1æ’å…¥" class="headerlink" title="2.1æ’å…¥"></a>2.1æ’å…¥</h3><hr><blockquote><p><strong>æœ€ç»ˆæ‰§è¡Œçš„ç»“æœï¼Œæ‰€è·å–çš„idä¸º1527206783590903810</strong></p><p><strong>è¿™æ˜¯å› ä¸ºMyBatis-Plusåœ¨å®ç°æ’å…¥æ•°æ®æ—¶ï¼Œä¼šé»˜è®¤åŸºäºé›ªèŠ±ç®—æ³•çš„ç­–ç•¥ç”Ÿæˆid</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æµ‹è¯•æ’å…¥ä¸€æ¡æ•°æ®</span></span><br><span class="line"><span class="comment">  * MyBatis-Plusåœ¨å®ç°æ’å…¥æ•°æ®æ—¶ï¼Œä¼šé»˜è®¤åŸºäºé›ªèŠ±ç®—æ³•çš„ç­–ç•¥ç”Ÿæˆid</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testInsert</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setName(<span class="string">&quot;Vz&quot;</span>);</span><br><span class="line">    user.setAge(<span class="number">21</span>);</span><br><span class="line">    user.setEmail(<span class="string">&quot;vz@oz6.cn&quot;</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.insert(user);</span><br><span class="line">    System.out.println(result &gt; <span class="number">0</span> ? <span class="string">&quot;æ·»åŠ æˆåŠŸï¼&quot;</span> : <span class="string">&quot;æ·»åŠ å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å—å½±å“çš„è¡Œæ•°ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">    <span class="comment">//1527206783590903810ï¼ˆå½“å‰ id ä¸ºé›ªèŠ±ç®—æ³•è‡ªåŠ¨ç”Ÿæˆçš„idï¼‰</span></span><br><span class="line">    System.out.println(<span class="string">&quot;idè‡ªåŠ¨è·å–&quot;</span> + user.getId());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-2åˆ é™¤"><a href="#2-2åˆ é™¤" class="headerlink" title="2.2åˆ é™¤"></a>2.2åˆ é™¤</h3><hr><h4 id="aã€æ ¹æ®IDåˆ é™¤æ•°æ®"><a href="#aã€æ ¹æ®IDåˆ é™¤æ•°æ®" class="headerlink" title="aã€æ ¹æ®IDåˆ é™¤æ•°æ®"></a>aã€æ ¹æ®IDåˆ é™¤æ•°æ®</h4><blockquote><p><strong>è°ƒç”¨æ–¹æ³•ï¼šint deleteById(Serializable id);</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æµ‹è¯•æ ¹æ®idåˆ é™¤ä¸€æ¡æ•°æ®</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeleteById</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.deleteById(<span class="number">1527206783590903810L</span>);</span><br><span class="line">    System.out.println(result &gt; <span class="number">0</span> ? <span class="string">&quot;åˆ é™¤æˆåŠŸï¼&quot;</span> : <span class="string">&quot;åˆ é™¤å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å—å½±å“çš„è¡Œæ•°ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="bã€æ ¹æ®IDæ‰¹é‡åˆ é™¤æ•°æ®"><a href="#bã€æ ¹æ®IDæ‰¹é‡åˆ é™¤æ•°æ®" class="headerlink" title="bã€æ ¹æ®IDæ‰¹é‡åˆ é™¤æ•°æ®"></a>bã€æ ¹æ®IDæ‰¹é‡åˆ é™¤æ•°æ®</h4><blockquote><p><strong>è°ƒç”¨æ–¹æ³•ï¼šint deleteBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æµ‹è¯•é€šè¿‡idæ‰¹é‡åˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeleteBatchIds</span><span class="params">()</span>&#123;</span><br><span class="line">    List&lt;Long&gt; ids = Arrays.asList(<span class="number">6L</span>,<span class="number">7L</span>,<span class="number">8L</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.deleteBatchIds(ids);</span><br><span class="line">    System.out.println(result &gt; <span class="number">0</span> ? <span class="string">&quot;åˆ é™¤æˆåŠŸï¼&quot;</span> : <span class="string">&quot;åˆ é™¤å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å—å½±å“çš„è¡Œæ•°ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="cã€æ ¹æ®Mapæ¡ä»¶åˆ é™¤æ•°æ®"><a href="#cã€æ ¹æ®Mapæ¡ä»¶åˆ é™¤æ•°æ®" class="headerlink" title="cã€æ ¹æ®Mapæ¡ä»¶åˆ é™¤æ•°æ®"></a>cã€æ ¹æ®Mapæ¡ä»¶åˆ é™¤æ•°æ®</h4><blockquote><p><strong>è°ƒç”¨æ–¹æ³•ï¼šint deleteByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * æµ‹è¯•æ ¹æ®Mapé›†åˆä¸­æ‰€è®¾ç½®çš„æ¡ä»¶åˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeleteByMap</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//å½“å‰æ¼”ç¤ºä¸ºæ ¹æ®nameå’Œageåˆ é™¤æ•°æ®</span></span><br><span class="line">    <span class="comment">//æ‰§è¡ŒSQLä¸ºï¼šDELETE FROM user WHERE name = ? AND age = ?</span></span><br><span class="line">    Map&lt;String,Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;Vz&quot;</span>);</span><br><span class="line">    map.put(<span class="string">&quot;age&quot;</span>,<span class="number">21</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.deleteByMap(map);</span><br><span class="line">    System.out.println(result &gt; <span class="number">0</span> ? <span class="string">&quot;åˆ é™¤æˆåŠŸï¼&quot;</span> : <span class="string">&quot;åˆ é™¤å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å—å½±å“çš„è¡Œæ•°ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-3ä¿®æ”¹"><a href="#2-3ä¿®æ”¹" class="headerlink" title="2.3ä¿®æ”¹"></a>2.3ä¿®æ”¹</h3><blockquote><p><strong>è°ƒç”¨æ–¹æ³•ï¼šint updateById(@Param(Constants.ENTITY) T entity);</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æµ‹è¯•æ ¹æ®idä¿®æ”¹ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdateById</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//æ‰§è¡ŒSQLä¸ºï¼š UPDATE user SET name=?, age=?, email=? WHERE id=?</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setId(<span class="number">6L</span>);</span><br><span class="line">    user.setName(<span class="string">&quot;VzUpdate&quot;</span>);</span><br><span class="line">    user.setAge(<span class="number">18</span>);</span><br><span class="line">    user.setEmail(<span class="string">&quot;Vz@sina.com&quot;</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.updateById(user);</span><br><span class="line">    System.out.println(result &gt; <span class="number">0</span> ? <span class="string">&quot;ä¿®æ”¹æˆåŠŸï¼&quot;</span> : <span class="string">&quot;ä¿®æ”¹å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å—å½±å“çš„è¡Œæ•°ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-4æŸ¥è¯¢"><a href="#2-4æŸ¥è¯¢" class="headerlink" title="2.4æŸ¥è¯¢"></a>2.4æŸ¥è¯¢</h3><hr><h4 id="aã€æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯"><a href="#aã€æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="aã€æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯"></a>aã€æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</h4><blockquote><p><strong>è°ƒç”¨æ–¹æ³•ï¼šT selectById(Serializable id);</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æµ‹è¯•æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·æ•°æ®</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectById</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.selectById(<span class="number">1L</span>);</span><br><span class="line">    System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="bã€æ ¹æ®å¤šä¸ªIDæŸ¥è¯¢å¤šä¸ªç”¨æˆ·ä¿¡æ¯"><a href="#bã€æ ¹æ®å¤šä¸ªIDæŸ¥è¯¢å¤šä¸ªç”¨æˆ·ä¿¡æ¯" class="headerlink" title="bã€æ ¹æ®å¤šä¸ªIDæŸ¥è¯¢å¤šä¸ªç”¨æˆ·ä¿¡æ¯"></a>bã€æ ¹æ®å¤šä¸ªIDæŸ¥è¯¢å¤šä¸ªç”¨æˆ·ä¿¡æ¯</h4><blockquote><p><strong>è°ƒç”¨æ–¹æ³•ï¼šList<T> selectBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æ ¹æ®å¤šä¸ªidæŸ¥è¯¢ç”¨æˆ·æ•°æ®</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectBatchIds</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//æ‰§è¡ŒSQLä¸ºï¼šSELECT id,name,age,email FROM user WHERE id IN ( ? , ? , ? )</span></span><br><span class="line">    List&lt;Long&gt; ids = Arrays.asList(<span class="number">1L</span>,<span class="number">2L</span>,<span class="number">3L</span>);</span><br><span class="line">    List&lt;User&gt; users = userMapper.selectBatchIds(ids);</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="cã€æ ¹æ®Mapæ¡ä»¶æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯"><a href="#cã€æ ¹æ®Mapæ¡ä»¶æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="cã€æ ¹æ®Mapæ¡ä»¶æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯"></a>cã€æ ¹æ®Mapæ¡ä»¶æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</h4><blockquote><p><strong>è°ƒç”¨æ–¹æ³•ï¼šList<T> selectByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æ ¹æ®Mapæ‰€è®¾ç½®çš„æ¡ä»¶æŸ¥è¯¢ç”¨æˆ·</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectByMap</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//æ‰§è¡ŒSQLä¸ºï¼šSELECT id,name,age,email FROM user WHERE age = ?</span></span><br><span class="line">    Map&lt;String,Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;age&quot;</span>,<span class="number">18</span>);</span><br><span class="line">    List&lt;User&gt; users = userMapper.selectByMap(map);</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="dã€æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯"><a href="#dã€æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="dã€æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯"></a>dã€æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯</h4><blockquote><p><strong>è°ƒç”¨æ–¹æ³•ï¼šList<T> selectList(@Param(Constants.WRAPPER) Wrapper<T> queryWrapper);</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æµ‹è¯•æŸ¥è¯¢æ‰€æœ‰æ•°æ®</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testSelectList</span><span class="params">()</span>&#123;</span><br><span class="line">    List&lt;User&gt; users = userMapper.selectList(<span class="literal">null</span>);</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-é€šç”¨Service"><a href="#3-é€šç”¨Service" class="headerlink" title="3.é€šç”¨Service"></a>3.é€šç”¨Service</h2><blockquote><p>è¯´æ˜:</p><ul><li>é€šç”¨ Service CRUD å°è£…<code>IService</code>æ¥å£ï¼Œè¿›ä¸€æ­¥å°è£… CRUD é‡‡ç”¨ <code>get æŸ¥è¯¢å•è¡Œ</code> <code>remove åˆ é™¤</code> <code>list æŸ¥è¯¢é›†åˆ</code> <code>page åˆ†é¡µ</code> å‰ç¼€å‘½åæ–¹å¼åŒºåˆ† <code>Mapper</code> å±‚é¿å…æ··æ·†ï¼Œ</li><li>æ³›å‹ <code>T</code> ä¸ºä»»æ„å®ä½“å¯¹è±¡</li><li>å»ºè®®å¦‚æœå­˜åœ¨è‡ªå®šä¹‰é€šç”¨ Service æ–¹æ³•çš„å¯èƒ½ï¼Œè¯·åˆ›å»ºè‡ªå·±çš„ <code>IBaseService</code> ç»§æ‰¿ <code>Mybatis-Plus</code> æä¾›çš„åŸºç±»</li><li>å¯¹è±¡ <code>Wrapper</code> ä¸º æ¡ä»¶æ„é€ å™¨</li></ul></blockquote><p>MyBatis-Plusä¸­æœ‰ä¸€ä¸ªæ¥å£ **<code>IService</code>**å’Œå…¶å®ç°ç±» **<code>ServiceImpl</code>**ï¼Œå°è£…äº†å¸¸è§çš„ä¸šåŠ¡å±‚é€»è¾‘ï¼Œè¯¦æƒ…æŸ¥çœ‹æºç IServiceå’ŒServiceImpl</p><p>å› æ­¤æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ä»…éœ€åœ¨è‡ªå·±å®šä¹‰çš„**<code>Service</code><strong>æ¥å£ä¸­ç»§æ‰¿</strong><code>IService</code><strong>æ¥å£ï¼Œåœ¨è‡ªå·±çš„å®ç°ç±»ä¸­å®ç°è‡ªå·±çš„Serviceå¹¶ç»§æ‰¿</strong><code>ServiceImpl</code>**å³å¯</p><hr><blockquote><p><strong>IServiceä¸­çš„CRUDæ–¹æ³•</strong></p></blockquote><ul><li><p><strong>å¢åŠ ï¼šSaveã€SaveOrUpdate</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ’å…¥ä¸€æ¡è®°å½•ï¼ˆé€‰æ‹©å­—æ®µï¼Œç­–ç•¥æ’å…¥ï¼‰</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">save</span><span class="params">(T entity)</span>;</span><br><span class="line"><span class="comment">// æ’å…¥ï¼ˆæ‰¹é‡ï¼‰</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">saveBatch</span><span class="params">(Collection&lt;T&gt; entityList)</span>;</span><br><span class="line"><span class="comment">// æ’å…¥ï¼ˆæ‰¹é‡ï¼‰</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">saveBatch</span><span class="params">(Collection&lt;T&gt; entityList, <span class="type">int</span> batchSize)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TableId æ³¨è§£å­˜åœ¨æ›´æ–°è®°å½•ï¼Œå¦æ’å…¥ä¸€æ¡è®°å½•</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">saveOrUpdate</span><span class="params">(T entity)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ®updateWrapperå°è¯•æ›´æ–°ï¼Œå¦ç»§ç»­æ‰§è¡ŒsaveOrUpdate(T)æ–¹æ³•</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">saveOrUpdate</span><span class="params">(T entity, Wrapper&lt;T&gt; updateWrapper)</span>;</span><br><span class="line"><span class="comment">// æ‰¹é‡ä¿®æ”¹æ’å…¥</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">saveOrUpdateBatch</span><span class="params">(Collection&lt;T&gt; entityList)</span>;</span><br><span class="line"><span class="comment">// æ‰¹é‡ä¿®æ”¹æ’å…¥</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">saveOrUpdateBatch</span><span class="params">(Collection&lt;T&gt; entityList, <span class="type">int</span> batchSize)</span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>åˆ é™¤ï¼šRemove</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ® entity æ¡ä»¶ï¼Œåˆ é™¤è®°å½•</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® ID åˆ é™¤</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">removeById</span><span class="params">(Serializable id)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® columnMap æ¡ä»¶ï¼Œåˆ é™¤è®°å½•</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">removeByMap</span><span class="params">(Map&lt;String, Object&gt; columnMap)</span>;</span><br><span class="line"><span class="comment">// åˆ é™¤ï¼ˆæ ¹æ®ID æ‰¹é‡åˆ é™¤ï¼‰</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">removeByIds</span><span class="params">(Collection&lt;? extends Serializable&gt; idList)</span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>ä¿®æ”¹ï¼šUpdate</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ® UpdateWrapper æ¡ä»¶ï¼Œæ›´æ–°è®°å½• éœ€è¦è®¾ç½®sqlset</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">update</span><span class="params">(Wrapper&lt;T&gt; updateWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® whereWrapper æ¡ä»¶ï¼Œæ›´æ–°è®°å½•</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">update</span><span class="params">(T updateEntity, Wrapper&lt;T&gt; whereWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® ID é€‰æ‹©ä¿®æ”¹</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">updateById</span><span class="params">(T entity)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ®ID æ‰¹é‡æ›´æ–°</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">updateBatchById</span><span class="params">(Collection&lt;T&gt; entityList)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ®ID æ‰¹é‡æ›´æ–°</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">updateBatchById</span><span class="params">(Collection&lt;T&gt; entityList, <span class="type">int</span> batchSize)</span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>æŸ¥è¯¢ï¼šGetã€Listã€Count</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ® ID æŸ¥è¯¢</span></span><br><span class="line">T <span class="title function_">getById</span><span class="params">(Serializable id)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapperï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•ã€‚ç»“æœé›†ï¼Œå¦‚æœæ˜¯å¤šä¸ªä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œéšæœºå–ä¸€æ¡åŠ ä¸Šé™åˆ¶æ¡ä»¶ wrapper.last(&quot;LIMIT 1&quot;)</span></span><br><span class="line">T <span class="title function_">getOne</span><span class="params">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapperï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•</span></span><br><span class="line">T <span class="title function_">getOne</span><span class="params">(Wrapper&lt;T&gt; queryWrapper, <span class="type">boolean</span> throwEx)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapperï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•</span></span><br><span class="line">Map&lt;String, Object&gt; <span class="title function_">getMap</span><span class="params">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapperï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•</span></span><br><span class="line">&lt;V&gt; V <span class="title function_">getObj</span><span class="params">(Wrapper&lt;T&gt; queryWrapper, Function&lt;? <span class="built_in">super</span> Object, V&gt; mapper)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢æ‰€æœ‰</span></span><br><span class="line">List&lt;T&gt; <span class="title function_">list</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢åˆ—è¡¨</span></span><br><span class="line">List&lt;T&gt; <span class="title function_">list</span><span class="params">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢ï¼ˆæ ¹æ®ID æ‰¹é‡æŸ¥è¯¢ï¼‰</span></span><br><span class="line">Collection&lt;T&gt; <span class="title function_">listByIds</span><span class="params">(Collection&lt;? extends Serializable&gt; idList)</span>;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢ï¼ˆæ ¹æ® columnMap æ¡ä»¶ï¼‰</span></span><br><span class="line">Collection&lt;T&gt; <span class="title function_">listByMap</span><span class="params">(Map&lt;String, Object&gt; columnMap)</span>;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢æ‰€æœ‰åˆ—è¡¨</span></span><br><span class="line">List&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">listMaps</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢åˆ—è¡¨</span></span><br><span class="line">List&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">listMaps</span><span class="params">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢å…¨éƒ¨è®°å½•</span></span><br><span class="line">List&lt;Object&gt; <span class="title function_">listObjs</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢å…¨éƒ¨è®°å½•</span></span><br><span class="line">&lt;V&gt; List&lt;V&gt; <span class="title function_">listObjs</span><span class="params">(Function&lt;? <span class="built_in">super</span> Object, V&gt; mapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•</span></span><br><span class="line">List&lt;Object&gt; <span class="title function_">listObjs</span><span class="params">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•</span></span><br><span class="line">&lt;V&gt; List&lt;V&gt; <span class="title function_">listObjs</span><span class="params">(Wrapper&lt;T&gt; queryWrapper, Function&lt;? <span class="built_in">super</span> Object, V&gt; mapper)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢æ€»è®°å½•æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">count</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢æ€»è®°å½•æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">count</span><span class="params">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>åˆ†é¡µï¼šPage</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ® ID æŸ¥è¯¢</span></span><br><span class="line">T <span class="title function_">getById</span><span class="params">(Serializable id)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapperï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•ã€‚ç»“æœé›†ï¼Œå¦‚æœæ˜¯å¤šä¸ªä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œéšæœºå–ä¸€æ¡åŠ ä¸Šé™åˆ¶æ¡ä»¶ wrapper.last(&quot;LIMIT 1&quot;)</span></span><br><span class="line">T <span class="title function_">getOne</span><span class="params">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapperï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•</span></span><br><span class="line">T <span class="title function_">getOne</span><span class="params">(Wrapper&lt;T&gt; queryWrapper, <span class="type">boolean</span> throwEx)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapperï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•</span></span><br><span class="line">Map&lt;String, Object&gt; <span class="title function_">getMap</span><span class="params">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ® Wrapperï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•</span></span><br><span class="line">&lt;V&gt; V <span class="title function_">getObj</span><span class="params">(Wrapper&lt;T&gt; queryWrapper, Function&lt;? <span class="built_in">super</span> Object, V&gt; mapper)</span>;</span><br></pre></td></tr></table></figure></li></ul><h2 id="4-è°ƒç”¨Serviceå±‚æ“ä½œæ•°æ®"><a href="#4-è°ƒç”¨Serviceå±‚æ“ä½œæ•°æ®" class="headerlink" title="4.è°ƒç”¨Serviceå±‚æ“ä½œæ•°æ®"></a>4.è°ƒç”¨Serviceå±‚æ“ä½œæ•°æ®</h2><blockquote><p>æˆ‘ä»¬åœ¨è‡ªå·±çš„Serviceæ¥å£ä¸­é€šè¿‡ç»§æ‰¿MyBatis-Plusæä¾›çš„IServiceæ¥å£ï¼Œä¸ä»…å¯ä»¥è·å¾—å…¶æä¾›çš„CRUDæ–¹æ³•ï¼Œè€Œä¸”è¿˜å¯ä»¥ä½¿ç”¨è‡ªèº«å®šä¹‰çš„æ–¹æ³•ã€‚</p></blockquote><ul><li><p><strong>åˆ›å»º<code>UserService</code>å¹¶ç»§æ‰¿<code>IService</code></strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * UserServiceç»§æ‰¿IServiceæ¨¡æ¿æä¾›çš„åŸºç¡€åŠŸèƒ½ </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;User&gt; &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>åˆ›å»º<code>UserService</code>çš„å®ç°ç±»å¹¶ç»§æ‰¿<code>ServiceImpl</code></strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * ServiceImplå®ç°äº†IServiceï¼Œæä¾›äº†IServiceä¸­åŸºç¡€åŠŸèƒ½çš„å®ç° </span></span><br><span class="line"><span class="comment">  * è‹¥ServiceImplæ— æ³•æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è‡ªå®šçš„UserServiceå®šä¹‰æ–¹æ³•ï¼Œå¹¶åœ¨å®ç°ç±»ä¸­å®ç°</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;UserMapper,User&gt; <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æµ‹è¯•æŸ¥è¯¢è®°å½•æ•°</strong></p><blockquote><p><strong>è°ƒç”¨æ–¹æ³•ï¼šint count();</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetCount</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢æ€»è®°å½•æ•°</span></span><br><span class="line">    <span class="comment">//æ‰§è¡Œçš„SQLä¸ºï¼šSELECT COUNT( * ) FROM user</span></span><br><span class="line">    <span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> userService.count();</span><br><span class="line">    System.out.println(<span class="string">&quot;æ€»è®°å½•æ•°ï¼š&quot;</span> + count);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æµ‹è¯•æ‰¹é‡æ’å…¥æ•°æ®</strong></p><blockquote><p><strong>è°ƒç”¨æ–¹æ³•ï¼šboolean saveBatch(Collection<T> entityList);</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">    List&lt;User&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setName(<span class="string">&quot;Vz&quot;</span>+i);</span><br><span class="line">        user.setAge(<span class="number">20</span>+i);</span><br><span class="line">        list.add(user);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> userService.saveBatch(list);</span><br><span class="line">    System.out.println(b ? <span class="string">&quot;æ·»åŠ æˆåŠŸï¼&quot;</span> : <span class="string">&quot;æ·»åŠ å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="å››ã€å¸¸ç”¨æ³¨è§£"><a href="#å››ã€å¸¸ç”¨æ³¨è§£" class="headerlink" title="å››ã€å¸¸ç”¨æ³¨è§£"></a>å››ã€å¸¸ç”¨æ³¨è§£</h1><blockquote><p>MyBatis-Plusæä¾›çš„æ³¨è§£å¯ä»¥å¸®æˆ‘ä»¬è§£å†³ä¸€äº›æ•°æ®åº“ä¸å®ä½“ä¹‹é—´ç›¸äº’æ˜ å°„çš„é—®é¢˜ã€‚</p></blockquote><h2 id="1-TableName"><a href="#1-TableName" class="headerlink" title="1.@TableName"></a>1.@TableName</h2><blockquote><p>ç»è¿‡ä»¥ä¸Šçš„æµ‹è¯•ï¼Œåœ¨ä½¿ç”¨MyBatis-Pluså®ç°åŸºæœ¬çš„CRUDæ—¶ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰æŒ‡å®šè¦æ“ä½œçš„è¡¨ï¼Œåªæ˜¯åœ¨Mapperæ¥å£ç»§æ‰¿BaseMapperæ—¶ï¼Œè®¾ç½®äº†æ³›å‹Userï¼Œè€Œæ“ä½œçš„è¡¨ä¸ºuserè¡¨ï¼Œç”±æ­¤å¾—å‡ºç»“è®ºï¼ŒMyBatis-Plusåœ¨ç¡®å®šæ“ä½œçš„è¡¨æ—¶ï¼Œç”±BaseMapperçš„æ³›å‹å†³å®šï¼Œå³å®ä½“ç±»å‹å†³å®šï¼Œä¸”é»˜è®¤æ“ä½œçš„è¡¨åå’Œå®ä½“ç±»å‹çš„ç±»åä¸€è‡´ã€‚</p></blockquote><h3 id="1-1å¼•å‡ºé—®é¢˜"><a href="#1-1å¼•å‡ºé—®é¢˜" class="headerlink" title="1.1å¼•å‡ºé—®é¢˜"></a>1.1å¼•å‡ºé—®é¢˜</h3><hr><blockquote><p><strong>è‹¥å®ä½“ç±»ç±»å‹çš„ç±»åå’Œè¦æ“ä½œçš„è¡¨çš„è¡¨åä¸ä¸€è‡´ï¼Œä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ</strong></p></blockquote><ul><li><p>æˆ‘ä»¬å°†è¡¨<code>user</code>æ›´åä¸º<code>t_user</code>ï¼Œæµ‹è¯•æŸ¥è¯¢åŠŸèƒ½</p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520093844842.png" alt="image-20220520093844842"></p></li><li><p>ç¨‹åºæŠ›å‡ºå¼‚å¸¸ï¼Œ<strong>Table â€˜mybatis_plus.userâ€™ doesnâ€™t exist</strong>ï¼Œå› ä¸ºç°åœ¨çš„è¡¨åä¸º<code>t_user</code>ï¼Œè€Œé»˜è®¤æ“ä½œçš„è¡¨åå’Œå®ä½“ç±»å‹çš„ç±»åä¸€è‡´ï¼Œå³<code>user</code>è¡¨</p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520094126411.png" alt="image-20220520094126411"></p></li></ul><h3 id="1-2è§£å†³é—®é¢˜"><a href="#1-2è§£å†³é—®é¢˜" class="headerlink" title="1.2è§£å†³é—®é¢˜"></a>1.2è§£å†³é—®é¢˜</h3><hr><h4 id="aã€ä½¿ç”¨æ³¨è§£è§£å†³é—®é¢˜"><a href="#aã€ä½¿ç”¨æ³¨è§£è§£å†³é—®é¢˜" class="headerlink" title="aã€ä½¿ç”¨æ³¨è§£è§£å†³é—®é¢˜"></a>aã€ä½¿ç”¨æ³¨è§£è§£å†³é—®é¢˜</h4><blockquote><p><strong>åœ¨å®ä½“ç±»ç±»å‹ä¸Šæ·»åŠ <code>@TableName(&quot;t_user&quot;)</code>ï¼Œæ ‡è¯†å®ä½“ç±»å¯¹åº”çš„è¡¨ï¼Œå³å¯æˆåŠŸæ‰§è¡ŒSQLè¯­å¥</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName(&quot;t_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="bã€ä½¿ç”¨å…¨å±€é…ç½®è§£å†³é—®é¢˜"><a href="#bã€ä½¿ç”¨å…¨å±€é…ç½®è§£å†³é—®é¢˜" class="headerlink" title="bã€ä½¿ç”¨å…¨å±€é…ç½®è§£å†³é—®é¢˜"></a>bã€ä½¿ç”¨å…¨å±€é…ç½®è§£å†³é—®é¢˜</h4><blockquote><p><strong>åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ä»¥ä¸Šçš„é—®é¢˜ï¼Œå³å®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨éƒ½æœ‰å›ºå®šçš„å‰ç¼€ï¼Œä¾‹å¦‚ <code>t_</code> æˆ– <code>tbl_</code> æ­¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨MyBatis-Plusæä¾›çš„å…¨å±€é…ç½®ï¼Œä¸ºå®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨åè®¾ç½®é»˜è®¤çš„å‰ç¼€ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦åœ¨æ¯ä¸ªå®ä½“ç±»ä¸Šé€šè¿‡@TableNameæ ‡è¯†å®ä½“ç±»å¯¹åº”çš„è¡¨</strong></p></blockquote><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="comment"># è®¾ç½®å®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨çš„ç»Ÿä¸€å‰ç¼€</span></span><br><span class="line">      <span class="attr">table-prefix:</span> <span class="string">t_</span></span><br></pre></td></tr></table></figure><h2 id="2-TableId"><a href="#2-TableId" class="headerlink" title="2.@TableId"></a>2.@TableId</h2><blockquote><p><strong>ç»è¿‡ä»¥ä¸Šçš„æµ‹è¯•ï¼ŒMyBatis-Plusåœ¨å®ç°CRUDæ—¶ï¼Œä¼šé»˜è®¤å°†idä½œä¸ºä¸»é”®åˆ—ï¼Œå¹¶åœ¨æ’å…¥æ•°æ®æ—¶ï¼Œé»˜è®¤åŸºäºé›ªèŠ±ç®—æ³•çš„ç­–ç•¥ç”Ÿæˆid</strong></p></blockquote><h3 id="2-1å¼•å‡ºé—®é¢˜"><a href="#2-1å¼•å‡ºé—®é¢˜" class="headerlink" title="2.1å¼•å‡ºé—®é¢˜"></a>2.1å¼•å‡ºé—®é¢˜</h3><hr><blockquote><p><strong>è‹¥å®ä½“ç±»å’Œè¡¨ä¸­è¡¨ç¤ºä¸»é”®çš„ä¸æ˜¯idï¼Œè€Œæ˜¯å…¶ä»–å­—æ®µï¼Œä¾‹å¦‚uidï¼ŒMyBatis-Plusä¼šè‡ªåŠ¨è¯†åˆ«uidä¸ºä¸»é”®åˆ—å—ï¼Ÿ</strong></p></blockquote><ul><li><p>æˆ‘ä»¬å®ä½“ç±»ä¸­çš„å±æ€§<code>id</code>æ”¹ä¸º<code>uid</code>ï¼Œå°†è¡¨ä¸­çš„å­—æ®µ<code>id</code>ä¹Ÿæ”¹ä¸º<code>uid</code>ï¼Œæµ‹è¯•æ·»åŠ åŠŸèƒ½</p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520100939157.png" alt="image-20220520100939157"></p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520100715109.png" alt="image-20220520100715109"></p></li><li><p>ç¨‹åºæŠ›å‡ºå¼‚å¸¸ï¼Œ<strong>Field â€˜uidâ€™ doesnâ€™t have a default value</strong>ï¼Œè¯´æ˜MyBatis-Plusæ²¡æœ‰å°†<code>uid</code>ä½œä¸ºä¸»é”®èµ‹å€¼</p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520101317761.png" alt="image-20220520101317761"></p></li></ul><h3 id="2-2è§£å†³é—®é¢˜"><a href="#2-2è§£å†³é—®é¢˜" class="headerlink" title="2.2è§£å†³é—®é¢˜"></a>2.2è§£å†³é—®é¢˜</h3><hr><blockquote><p><strong>åœ¨å®ä½“ç±»ä¸­uidå±æ€§ä¸Šé€šè¿‡<code>@TableId</code>å°†å…¶æ ‡è¯†ä¸ºä¸»é”®ï¼Œå³å¯æˆåŠŸæ‰§è¡ŒSQLè¯­å¥</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Date</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@TableId</span></span><br><span class="line">    <span class="keyword">private</span> Long uid;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-3-TableIdçš„valueå±æ€§"><a href="#2-3-TableIdçš„valueå±æ€§" class="headerlink" title="2.3@TableIdçš„valueå±æ€§"></a>2.3@TableIdçš„valueå±æ€§</h3><hr><blockquote><p>è‹¥å®ä½“ç±»ä¸­ä¸»é”®å¯¹åº”çš„å±æ€§ä¸ºidï¼Œè€Œè¡¨ä¸­è¡¨ç¤ºä¸»é”®çš„å­—æ®µä¸ºuidï¼Œæ­¤æ—¶è‹¥åªåœ¨å±æ€§idä¸Šæ·»åŠ æ³¨è§£@TableIdï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸**Unknown column â€˜idâ€™ in â€˜field listâ€™**ï¼Œå³MyBatis-Plusä»ç„¶ä¼šå°†idä½œä¸ºè¡¨çš„ä¸»é”®æ“ä½œï¼Œè€Œè¡¨ä¸­è¡¨ç¤ºä¸»é”®çš„æ˜¯å­—æ®µuidæ­¤æ—¶éœ€è¦é€šè¿‡@TableIdæ³¨è§£çš„valueå±æ€§ï¼ŒæŒ‡å®šè¡¨ä¸­çš„ä¸»é”®å­—æ®µï¼Œ<code>@TableId(&quot;uid&quot;)</code>æˆ–<code>@TableId(value=&quot;uid&quot;)</code></p></blockquote><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520103030977.png" alt="image-20220520103030977"></p><h3 id="2-4-TableIdçš„typeå±æ€§"><a href="#2-4-TableIdçš„typeå±æ€§" class="headerlink" title="2.4@TableIdçš„typeå±æ€§"></a>2.4@TableIdçš„typeå±æ€§</h3><hr><blockquote><p><strong>typeå±æ€§ç”¨æ¥å®šä¹‰ä¸»é”®ç­–ç•¥ï¼šé»˜è®¤é›ªèŠ±ç®—æ³•</strong></p></blockquote><p><strong>å¸¸ç”¨çš„ä¸»é”®ç­–ç•¥ï¼š</strong></p><table><thead><tr><th align="center">å€¼</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">IdType.ASSIGN_IDï¼ˆé»˜è®¤ï¼‰</td><td align="center">åŸºäºé›ªèŠ±ç®—æ³•çš„ç­–ç•¥ç”Ÿæˆæ•°æ®idï¼Œä¸æ•°æ®åº“idæ˜¯å¦è®¾ç½®è‡ªå¢æ— å…³</td></tr><tr><td align="center">IdType.AUTO</td><td align="center">ä½¿ç”¨æ•°æ®åº“çš„è‡ªå¢ç­–ç•¥ï¼Œæ³¨æ„ï¼Œè¯¥ç±»å‹è¯·ç¡®ä¿æ•°æ®åº“è®¾ç½®äº†idè‡ªå¢ï¼Œ</td></tr></tbody></table><p><strong>é…ç½®å…¨å±€ä¸»é”®ç­–ç•¥ï¼š</strong></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#MyBatis-Plusç›¸å…³é…ç½®</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment">#é…ç½®æ—¥å¿—</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="comment">#é…ç½®mpçš„ä¸»é”®ç­–ç•¥ä¸ºè‡ªå¢</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">auto</span></span><br><span class="line">      <span class="comment"># è®¾ç½®å®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨çš„ç»Ÿä¸€å‰ç¼€</span></span><br><span class="line">      <span class="attr">table-prefix:</span> <span class="string">t_</span></span><br></pre></td></tr></table></figure><h2 id="3-TbaleField"><a href="#3-TbaleField" class="headerlink" title="3.@TbaleField"></a>3.@TbaleField</h2><blockquote><p>ç»è¿‡ä»¥ä¸Šçš„æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒMyBatis-Plusåœ¨æ‰§è¡ŒSQLè¯­å¥æ—¶ï¼Œè¦ä¿è¯å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸€è‡´</p><p>å¦‚æœå®ä½“ç±»ä¸­çš„å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„æƒ…å†µï¼Œä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</p></blockquote><h3 id="3-1æƒ…å†µä¸€"><a href="#3-1æƒ…å†µä¸€" class="headerlink" title="3.1æƒ…å†µä¸€"></a>3.1æƒ…å†µä¸€</h3><hr><p>è‹¥å®ä½“ç±»ä¸­çš„å±æ€§ä½¿ç”¨çš„æ˜¯é©¼å³°å‘½åé£æ ¼ï¼Œè€Œè¡¨ä¸­çš„å­—æ®µä½¿ç”¨çš„æ˜¯ä¸‹åˆ’çº¿å‘½åé£æ ¼</p><p>ä¾‹å¦‚å®ä½“ç±»å±æ€§<code>userName</code>ï¼Œè¡¨ä¸­å­—æ®µ<code>user_name</code></p><p>æ­¤æ—¶MyBatis-Plusä¼š<strong>è‡ªåŠ¨</strong>å°†ä¸‹åˆ’çº¿å‘½åé£æ ¼è½¬åŒ–ä¸ºé©¼å³°å‘½åé£æ ¼</p><p>ç›¸å½“äºåœ¨MyBatisä¸­é…ç½®</p><h3 id="3-2æƒ…å†µäºŒ"><a href="#3-2æƒ…å†µäºŒ" class="headerlink" title="3.2æƒ…å†µäºŒ"></a>3.2æƒ…å†µäºŒ</h3><hr><blockquote><p>è‹¥å®ä½“ç±»ä¸­çš„å±æ€§å’Œè¡¨ä¸­çš„å­—æ®µä¸æ»¡è¶³æƒ…å†µ1</p><p>ä¾‹å¦‚å®ä½“ç±»å±æ€§<code>name</code>ï¼Œè¡¨ä¸­å­—æ®µ<code>username</code></p><p>æ­¤æ—¶éœ€è¦åœ¨å®ä½“ç±»å±æ€§ä¸Šä½¿ç”¨<code>@TableField(&quot;username&quot;)</code>è®¾ç½®å±æ€§æ‰€å¯¹åº”çš„å­—æ®µå</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(&quot;uid&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@TableField(&quot;username&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-TableLogic"><a href="#4-TableLogic" class="headerlink" title="4.@TableLogic"></a>4.@TableLogic</h2><h3 id="4-1é€»è¾‘åˆ é™¤"><a href="#4-1é€»è¾‘åˆ é™¤" class="headerlink" title="4.1é€»è¾‘åˆ é™¤"></a>4.1é€»è¾‘åˆ é™¤</h3><hr><blockquote><p>ç‰©ç†åˆ é™¤ï¼šçœŸå®åˆ é™¤ï¼Œå°†å¯¹åº”æ•°æ®ä»æ•°æ®åº“ä¸­åˆ é™¤ï¼Œä¹‹åæŸ¥è¯¢ä¸åˆ°æ­¤æ¡è¢«åˆ é™¤çš„æ•°æ®</p><p>é€»è¾‘åˆ é™¤ï¼šå‡åˆ é™¤ï¼Œå°†å¯¹åº”æ•°æ®ä¸­ä»£è¡¨æ˜¯å¦è¢«åˆ é™¤å­—æ®µçš„çŠ¶æ€ä¿®æ”¹ä¸ºâ€œè¢«åˆ é™¤çŠ¶æ€â€ï¼Œä¹‹ååœ¨æ•°æ®åº“ä¸­ä»æ—§èƒ½çœ‹åˆ°æ­¤æ¡æ•°æ®è®°å½•</p><p>ä½¿ç”¨åœºæ™¯ï¼šå¯ä»¥è¿›è¡Œæ•°æ®æ¢å¤</p></blockquote><h3 id="4-2å®ç°é€»è¾‘åˆ é™¤"><a href="#4-2å®ç°é€»è¾‘åˆ é™¤" class="headerlink" title="4.2å®ç°é€»è¾‘åˆ é™¤"></a>4.2å®ç°é€»è¾‘åˆ é™¤</h3><hr><ul><li><p><strong>æ•°æ®åº“ä¸­åˆ›å»ºé€»è¾‘åˆ é™¤çŠ¶æ€åˆ—ï¼Œè®¾ç½®é»˜è®¤å€¼ä¸º0</strong></p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520134529809.png" alt="image-20220520134529809"></p></li><li><p><strong>å®ä½“ç±»ä¸­æ·»åŠ é€»è¾‘åˆ é™¤å±æ€§</strong></p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520134636112.png" alt="image-20220520134636112"></p></li><li><p><strong>æµ‹è¯•åˆ é™¤åŠŸèƒ½ï¼ŒçœŸæ­£æ‰§è¡Œçš„æ˜¯ä¿®æ”¹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeleteById</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.deleteById(<span class="number">1527472864163348482L</span>);</span><br><span class="line">    System.out.println(result &gt; <span class="number">0</span> ? <span class="string">&quot;åˆ é™¤æˆåŠŸï¼&quot;</span> : <span class="string">&quot;åˆ é™¤å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å—å½±å“çš„è¡Œæ•°ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520135637388.png" alt="image-20220520135637388"></p></li><li><p><strong>æ­¤æ—¶æ‰§è¡ŒæŸ¥è¯¢æ–¹æ³•ï¼ŒæŸ¥è¯¢çš„ç»“æœä¸ºè‡ªåŠ¨æ·»åŠ æ¡ä»¶<code>is_deleted=0</code></strong></p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520140036445.png" alt="image-20220520140036445"></p></li></ul><h1 id="äº”ã€æ¡ä»¶æ„é€ å™¨"><a href="#äº”ã€æ¡ä»¶æ„é€ å™¨" class="headerlink" title="äº”ã€æ¡ä»¶æ„é€ å™¨"></a>äº”ã€æ¡ä»¶æ„é€ å™¨</h1><h2 id="1-Wrapperä»‹ç»"><a href="#1-Wrapperä»‹ç»" class="headerlink" title="1.Wrapperä»‹ç»"></a>1.Wrapperä»‹ç»</h2><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521092812125.png" alt="image-20220521092812125"></p><ul><li><p><code>Wrapper</code> ï¼š æ¡ä»¶æ„é€ æŠ½è±¡ç±»ï¼Œæœ€é¡¶ç«¯çˆ¶ç±»</p><ul><li><p><code>AbstractWrapper </code>ï¼š ç”¨äºæŸ¥è¯¢æ¡ä»¶å°è£…ï¼Œç”Ÿæˆ sql çš„ where æ¡ä»¶</p><ul><li><p><code>QueryWrapper </code>ï¼š æŸ¥è¯¢æ¡ä»¶å°è£…</p></li><li><p><code>UpdateWrapper </code>ï¼š Update æ¡ä»¶å°è£…</p></li><li><p><code>AbstractLambdaWrapper </code>ï¼š ä½¿ç”¨Lambda è¯­æ³•</p><ul><li><p><code>LambdaQueryWrapper </code>ï¼šç”¨äºLambdaè¯­æ³•ä½¿ç”¨çš„æŸ¥è¯¢Wrapper</p></li><li><p><code>LambdaUpdateWrapper </code>ï¼š Lambda æ›´æ–°å°è£…Wrapper</p></li></ul></li></ul></li></ul></li></ul><h2 id="2-QueryWrapper"><a href="#2-QueryWrapper" class="headerlink" title="2.QueryWrapper"></a>2.QueryWrapper</h2><ul><li><p><strong>ç»„è£…æŸ¥è¯¢æ¡ä»¶</strong></p><blockquote><p><strong>æ‰§è¡ŒSQLï¼š</strong>SELECT uid AS id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted&#x3D;0 AND (username LIKE ? AND age BETWEEN ? AND ? AND email IS NOT NULL)</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢ç”¨æˆ·ååŒ…å«aï¼Œå¹´é¾„åœ¨20åˆ°30ä¹‹é—´ï¼Œé‚®ç®±ä¿¡æ¯ä¸ä¸ºnullçš„ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    QueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.like(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;a&quot;</span>).between(<span class="string">&quot;age&quot;</span>,<span class="number">20</span>,<span class="number">30</span>).isNotNull(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">    List&lt;User&gt; users = userMapper.selectList(queryWrapper);</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç»„è£…æ’åºæ¡ä»¶</strong></p><blockquote><p><strong>æ‰§è¡ŒSQLï¼š</strong>SELECT uid AS id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted&#x3D;0 ORDER BY age DESC,id ASC</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test02</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼ŒæŒ‰ç…§å¹´é¾„çš„é™åºæ’åºï¼Œè‹¥å¹´é¾„ç›¸åŒï¼Œåˆ™æŒ‰ç…§idå‡åºæ’åº</span></span><br><span class="line">    QueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.orderByDesc(<span class="string">&quot;age&quot;</span>).orderByAsc(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">    List&lt;User&gt; users = userMapper.selectList(queryWrapper);</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç»„è£…åˆ é™¤æ¡ä»¶</strong></p><blockquote><p><strong>æ‰§è¡ŒSQLï¼š</strong>UPDATE t_user SET is_deleted&#x3D;1 WHERE is_deleted&#x3D;0 AND (email IS NULL)</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test03</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//åˆ é™¤é‚®ç®±åœ°å€ä¸ºnullçš„ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    QueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.isNull(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.delete(queryWrapper);</span><br><span class="line">    System.out.println(result &gt; <span class="number">0</span> ? <span class="string">&quot;åˆ é™¤æˆåŠŸï¼&quot;</span> : <span class="string">&quot;åˆ é™¤å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å—å½±å“çš„è¡Œæ•°ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ¡ä»¶çš„ä¼˜å…ˆçº§</strong></p><blockquote><p><strong>æ‰§è¡ŒSQLï¼š</strong>UPDATE t_user SET user_name&#x3D;?, email&#x3D;? WHERE is_deleted&#x3D;0 AND (age &gt; ? AND user_name LIKE ? OR email IS NULL)</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test04</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//å°†ï¼ˆå¹´é¾„å¤§äº20å¹¶ä¸”ç”¨æˆ·åä¸­åŒ…å«æœ‰aï¼‰æˆ–é‚®ç®±ä¸ºnullçš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹</span></span><br><span class="line">    UpdateWrapper&lt;User&gt; updateWrapper = <span class="keyword">new</span> <span class="title class_">UpdateWrapper</span>&lt;&gt;();</span><br><span class="line">    updateWrapper.gt(<span class="string">&quot;age&quot;</span>,<span class="number">20</span>).like(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;a&quot;</span>).or().isNull(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setName(<span class="string">&quot;Oz&quot;</span>);</span><br><span class="line">    user.setEmail(<span class="string">&quot;test@oz6.com&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.update(user, updateWrapper);</span><br><span class="line">    System.out.println(result &gt; <span class="number">0</span> ? <span class="string">&quot;ä¿®æ”¹æˆåŠŸï¼&quot;</span> : <span class="string">&quot;ä¿®æ”¹å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å—å½±å“çš„è¡Œæ•°ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ‰§è¡ŒSQLï¼š</strong>UPDATE t_user SET username&#x3D;?, email&#x3D;? WHERE is_deleted&#x3D;0 AND (username LIKE ? AND (age &gt; ? OR email IS NULL))</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test05</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//å°†ç”¨æˆ·åä¸­åŒ…å«æœ‰aå¹¶ä¸”ï¼ˆå¹´é¾„å¤§äº20æˆ–é‚®ç®±ä¸ºnullï¼‰çš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹</span></span><br><span class="line">    UpdateWrapper&lt;User&gt; updateWrapper = <span class="keyword">new</span> <span class="title class_">UpdateWrapper</span>&lt;&gt;();</span><br><span class="line">    updateWrapper.like(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;a&quot;</span>).and(i-&gt;i.gt(<span class="string">&quot;age&quot;</span>,<span class="number">20</span>).or().isNull(<span class="string">&quot;email&quot;</span>));</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setName(<span class="string">&quot;Vz7797&quot;</span>);</span><br><span class="line">    user.setEmail(<span class="string">&quot;test@ss8o.com&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.update(user, updateWrapper);</span><br><span class="line">    System.out.println(result &gt; <span class="number">0</span> ? <span class="string">&quot;ä¿®æ”¹æˆåŠŸï¼&quot;</span> : <span class="string">&quot;ä¿®æ”¹å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å—å½±å“çš„è¡Œæ•°ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç»„è£…selectå­å¥</strong></p><blockquote><p><strong>æ‰§è¡ŒSQLï¼š</strong>SELECT username,age,email FROM t_user WHERE is_deleted&#x3D;0</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test06</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢ç”¨æˆ·çš„ç”¨æˆ·åã€å¹´é¾„ã€é‚®ç®±ä¿¡æ¯</span></span><br><span class="line">    QueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.select(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;age&quot;</span>,<span class="string">&quot;email&quot;</span>);</span><br><span class="line">    List&lt;Map&lt;String, Object&gt;&gt; maps = userMapper.selectMaps(queryWrapper);</span><br><span class="line">    maps.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>å®ç°å­æŸ¥è¯¢</strong></p><blockquote><p><strong>æ‰§è¡ŒSQLï¼š</strong>SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user WHERE is_deleted&#x3D;0 AND (uid IN (select uid from t_user where uid &lt;&#x3D; 100))</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test07</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢idå°äºç­‰äº100çš„ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    QueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.inSql(<span class="string">&quot;uid&quot;</span>, <span class="string">&quot;select uid from t_user where uid &lt;= 100&quot;</span>);</span><br><span class="line">    List&lt;User&gt; list = userMapper.selectList(queryWrapper);</span><br><span class="line">    list.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-UpdateWrapper"><a href="#3-UpdateWrapper" class="headerlink" title="3.UpdateWrapper"></a>3.UpdateWrapper</h2><blockquote><p>UpdateWrapperä¸ä»…æ‹¥æœ‰QueryWrapperçš„ç»„è£…æ¡ä»¶åŠŸèƒ½ï¼Œè¿˜æä¾›äº†setæ–¹æ³•è¿›è¡Œä¿®æ”¹å¯¹åº”æ¡ä»¶çš„æ•°æ®åº“ä¿¡æ¯</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test08</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//å°†ç”¨æˆ·åä¸­åŒ…å«æœ‰aå¹¶ä¸”ï¼ˆå¹´é¾„å¤§äº20æˆ–é‚®ç®±ä¸ºnullï¼‰çš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹</span></span><br><span class="line">    UpdateWrapper&lt;User&gt; updateWrapper = <span class="keyword">new</span> <span class="title class_">UpdateWrapper</span>&lt;&gt;();</span><br><span class="line">    updateWrapper.like(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;a&quot;</span>).and( i -&gt; i.gt(<span class="string">&quot;age&quot;</span>,<span class="number">20</span>).or().isNull(<span class="string">&quot;email&quot;</span>)).set(<span class="string">&quot;email&quot;</span>,<span class="string">&quot;svip@qq.com&quot;</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.update(<span class="literal">null</span>, updateWrapper);</span><br><span class="line">    System.out.println(result &gt; <span class="number">0</span> ? <span class="string">&quot;ä¿®æ”¹æˆåŠŸï¼&quot;</span> : <span class="string">&quot;ä¿®æ”¹å¤±è´¥ï¼&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å—å½±å“çš„è¡Œæ•°ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-condition"><a href="#4-condition" class="headerlink" title="4.condition"></a>4.condition</h2><blockquote><p>åœ¨çœŸæ­£å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œç»„è£…æ¡ä»¶æ˜¯å¸¸è§çš„åŠŸèƒ½ï¼Œè€Œè¿™äº›æ¡ä»¶æ•°æ®æ¥æºäºç”¨æˆ·è¾“å…¥ï¼Œæ˜¯å¯é€‰çš„ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ç»„è£…è¿™äº›æ¡ä»¶æ—¶ï¼Œ<strong>å¿…é¡»å…ˆåˆ¤æ–­ç”¨æˆ·æ˜¯å¦é€‰æ‹©äº†è¿™äº›æ¡ä»¶ï¼Œè‹¥é€‰æ‹©åˆ™éœ€è¦ç»„è£…è¯¥æ¡ä»¶</strong>ï¼Œè‹¥æ²¡æœ‰é€‰æ‹©åˆ™ä¸€å®šä¸èƒ½ç»„è£…ï¼Œä»¥å…å½±å“SQLæ‰§è¡Œçš„ç»“æœ</p></blockquote><ul><li><p><strong>æ€è·¯ä¸€</strong></p><blockquote><p><strong>æ‰§è¡ŒSQLï¼š</strong>SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user WHERE is_deleted&#x3D;0 AND (user_name LIKE ? AND age &lt;&#x3D; ?)</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test09</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">ageBegin</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">ageEnd</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line">    QueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(StringUtils.isNotBlank(username))&#123;</span><br><span class="line">        <span class="comment">//isNotBlankåˆ¤æ–­æŸä¸ªå­—ç¬¦åˆ›æ˜¯å¦ä¸ä¸ºç©ºå­—ç¬¦ä¸²ã€ä¸ä¸ºnullã€ä¸ä¸ºç©ºç™½ç¬¦</span></span><br><span class="line">        queryWrapper.like(<span class="string">&quot;user_name&quot;</span>, username);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ageBegin != <span class="literal">null</span>)&#123;</span><br><span class="line">        queryWrapper.ge(<span class="string">&quot;age&quot;</span>, ageBegin);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ageEnd != <span class="literal">null</span>)&#123;</span><br><span class="line">        queryWrapper.le(<span class="string">&quot;age&quot;</span>, ageEnd);</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;User&gt; list = userMapper.selectList(queryWrapper);</span><br><span class="line">    list.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ€è·¯äºŒ</strong></p><blockquote><p>ä¸Šé¢çš„å®ç°æ–¹æ¡ˆæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä»£ç æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¦conditionå‚æ•°çš„é‡è½½æ–¹æ³•æ„å»ºæŸ¥è¯¢æ¡ä»¶ï¼Œç®€åŒ–ä»£ç çš„ç¼–å†™</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test10</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">ageBegin</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">ageEnd</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line">    QueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.like(StringUtils.isNotBlank(username), <span class="string">&quot;user_name&quot;</span>, username)</span><br><span class="line">        .ge(ageBegin != <span class="literal">null</span>, <span class="string">&quot;age&quot;</span>, ageBegin)</span><br><span class="line">        .le(ageEnd != <span class="literal">null</span>, <span class="string">&quot;age&quot;</span>, ageEnd);</span><br><span class="line">    List&lt;User&gt; list = userMapper.selectList(queryWrapper);</span><br><span class="line">    list.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="5-LambdaQueryWrapper"><a href="#5-LambdaQueryWrapper" class="headerlink" title="5.LambdaQueryWrapper"></a>5.LambdaQueryWrapper</h2><blockquote><p>åŠŸèƒ½ç­‰åŒäºQueryWrapperï¼Œæä¾›äº†Lambdaè¡¨è¾¾å¼çš„è¯­æ³•å¯ä»¥é¿å…å¡«é”™åˆ—åã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test11</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">ageBegin</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">ageEnd</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line">    LambdaQueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.like(StringUtils.isNotBlank(username), User::getName, username)</span><br><span class="line">        .ge(ageBegin != <span class="literal">null</span>, User::getAge, ageBegin)</span><br><span class="line">        .le(ageEnd != <span class="literal">null</span>, User::getAge, ageEnd);</span><br><span class="line">    List&lt;User&gt; list = userMapper.selectList(queryWrapper);</span><br><span class="line">    list.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-LambdaUpdateWrapper"><a href="#6-LambdaUpdateWrapper" class="headerlink" title="6.LambdaUpdateWrapper"></a>6.LambdaUpdateWrapper</h2><blockquote><p>åŠŸèƒ½ç­‰åŒäºUpdateWrapperï¼Œæä¾›äº†Lambdaè¡¨è¾¾å¼çš„è¯­æ³•å¯ä»¥é¿å…å¡«é”™åˆ—åã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test12</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//å°†ç”¨æˆ·åä¸­åŒ…å«æœ‰aå¹¶ä¸”ï¼ˆå¹´é¾„å¤§äº20æˆ–é‚®ç®±ä¸ºnullï¼‰çš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹</span></span><br><span class="line">    LambdaUpdateWrapper&lt;User&gt; updateWrapper = <span class="keyword">new</span> <span class="title class_">LambdaUpdateWrapper</span>&lt;&gt;();</span><br><span class="line">    updateWrapper.like(User::getName, <span class="string">&quot;a&quot;</span>)</span><br><span class="line">        .and(i -&gt; i.gt(User::getAge, <span class="number">20</span>).or().isNull(User::getEmail));</span><br><span class="line">    updateWrapper.set(User::getName, <span class="string">&quot;å°é»‘&quot;</span>).set(User::getEmail,<span class="string">&quot;abc@atguigu.com&quot;</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.update(<span class="literal">null</span>, updateWrapper);</span><br><span class="line">    System.out.println(<span class="string">&quot;resultï¼š&quot;</span>+result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å…­ã€å¸¸ç”¨æ’ä»¶"><a href="#å…­ã€å¸¸ç”¨æ’ä»¶" class="headerlink" title="å…­ã€å¸¸ç”¨æ’ä»¶"></a>å…­ã€å¸¸ç”¨æ’ä»¶</h1><h2 id="1-åˆ†é¡µæ’ä»¶"><a href="#1-åˆ†é¡µæ’ä»¶" class="headerlink" title="1.åˆ†é¡µæ’ä»¶"></a>1.åˆ†é¡µæ’ä»¶</h2><blockquote><p>MyBatis Plusè‡ªå¸¦åˆ†é¡µæ’ä»¶ï¼Œåªè¦ç®€å•çš„é…ç½®å³å¯å®ç°åˆ†é¡µåŠŸèƒ½</p></blockquote><ul><li><p><strong>æ·»åŠ é…ç½®ç±»<code>MyBatisPlusConfig</code></strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.atguigu.mybatisplus.mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisPlusConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        <span class="comment">//æ·»åŠ åˆ†é¡µæ’ä»¶</span></span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>(DbType.MYSQL));</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™æµ‹è¯•æ–¹æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testPage</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//new Page()ä¸­çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯å½“å‰é¡µç ï¼Œæ¯é¡µæ˜¾ç¤ºæ•°é‡</span></span><br><span class="line">    Page&lt;User&gt; page = userMapper.selectPage(<span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(<span class="number">1</span>, <span class="number">2</span>), <span class="literal">null</span>);</span><br><span class="line">    List&lt;User&gt; users = page.getRecords();</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="2-è‡ªå®šä¹‰åˆ†é¡µ"><a href="#2-è‡ªå®šä¹‰åˆ†é¡µ" class="headerlink" title="2.è‡ªå®šä¹‰åˆ†é¡µ"></a>2.è‡ªå®šä¹‰åˆ†é¡µ</h2><blockquote><p>ä¸Šé¢è°ƒç”¨çš„æ˜¯MyBatis-Plusæä¾›çš„å¸¦æœ‰åˆ†é¡µçš„æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„æ–¹æ³•å¦‚ä½•å®ç°åˆ†é¡µå‘¢ï¼Ÿ</p></blockquote><ul><li><p><strong>åœ¨<code>UserMapper</code>æ¥å£ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æ ¹æ®å¹´é¾„æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼Œåˆ†é¡µæ˜¾ç¤º </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> page åˆ†é¡µå¯¹è±¡,xmlä¸­å¯ä»¥ä»é‡Œé¢è¿›è¡Œå–å€¼,ä¼ é€’å‚æ•° Page å³è‡ªåŠ¨åˆ†é¡µ,å¿…é¡»æ”¾åœ¨ç¬¬ä¸€ä½ </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> age å¹´é¾„ </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">Page&lt;User&gt; <span class="title function_">selectPageVo</span><span class="params">(<span class="meta">@Param(&quot;page&quot;)</span> Page&lt;User&gt; page,<span class="meta">@Param(&quot;age&quot;)</span> Integer age)</span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>åœ¨<code>UserMapper.xml</code>ä¸­ç¼–å†™SQLå®ç°è¯¥æ–¹æ³•</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectPageVo&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">    select id,username as name,age,email from t_user where age &gt; #&#123;age&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™æµ‹è¯•æ–¹æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testPageVo</span><span class="params">()</span>&#123;</span><br><span class="line">    Page&lt;User&gt; page = userMapper.selectPageVo(<span class="keyword">new</span> <span class="title class_">Page</span>&lt;User&gt;(<span class="number">1</span>,<span class="number">2</span>), <span class="number">20</span>);</span><br><span class="line">    List&lt;User&gt; users = page.getRecords();</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-ä¹è§‚é”"><a href="#3-ä¹è§‚é”" class="headerlink" title="3.ä¹è§‚é”"></a>3.ä¹è§‚é”</h2><blockquote><p><strong>ä½œç”¨ï¼šå½“è¦æ›´æ–°ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå¸Œæœ›è¿™æ¡è®°å½•æ²¡æœ‰è¢«åˆ«äººæ›´æ–°</strong></p></blockquote><p>ä¹è§‚é”çš„å®ç°æ–¹å¼ï¼š</p><ul><li>å–å‡ºè®°å½•æ—¶ï¼Œè·å–å½“å‰ version</li><li>æ›´æ–°æ—¶ï¼Œå¸¦ä¸Šè¿™ä¸ª version</li><li>æ‰§è¡Œæ›´æ–°æ—¶ï¼Œ set version &#x3D; newVersion where version &#x3D; oldVersion</li><li>å¦‚æœ version ä¸å¯¹ï¼Œå°±æ›´æ–°å¤±è´¥</li></ul><h3 id="3-1åœºæ™¯"><a href="#3-1åœºæ™¯" class="headerlink" title="3.1åœºæ™¯"></a>3.1åœºæ™¯</h3><hr><ul><li>ä¸€ä»¶å•†å“ï¼Œæˆæœ¬ä»·æ˜¯80å…ƒï¼Œå”®ä»·æ˜¯100å…ƒã€‚è€æ¿å…ˆæ˜¯é€šçŸ¥å°æï¼Œè¯´ä½ å»æŠŠå•†å“ä»·æ ¼å¢åŠ 50å…ƒã€‚å°ææ­£åœ¨ç©æ¸¸æˆï¼Œè€½æäº†ä¸€ä¸ªå°æ—¶ã€‚æ­£å¥½ä¸€ä¸ªå°æ—¶åï¼Œè€æ¿è§‰å¾—å•†å“ä»·æ ¼å¢åŠ åˆ°150å…ƒï¼Œä»·æ ¼å¤ªé«˜ï¼Œå¯èƒ½ä¼šå½±å“é”€é‡ã€‚åˆé€šçŸ¥å°ç‹ï¼Œä½ æŠŠå•†å“ä»·æ ¼é™ä½30å…ƒã€‚</li><li>æ­¤æ—¶ï¼Œå°æå’Œå°ç‹åŒæ—¶æ“ä½œå•†å“åå°ç³»ç»Ÿã€‚å°ææ“ä½œçš„æ—¶å€™ï¼Œç³»ç»Ÿå…ˆå–å‡ºå•†å“ä»·æ ¼100å…ƒï¼›å°ç‹ä¹Ÿåœ¨æ“ä½œï¼Œå–å‡ºçš„å•†å“ä»·æ ¼ä¹Ÿæ˜¯100å…ƒã€‚å°æå°†ä»·æ ¼åŠ äº†50å…ƒï¼Œå¹¶å°†100+50&#x3D;150å…ƒå­˜å…¥äº†æ•°æ®åº“ï¼›å°ç‹å°†å•†å“å‡äº†30å…ƒï¼Œå¹¶å°†100-30&#x3D;70å…ƒå­˜å…¥äº†æ•°æ®åº“ã€‚æ˜¯çš„ï¼Œå¦‚æœæ²¡æœ‰é”ï¼Œå°æçš„æ“ä½œå°±å®Œå…¨è¢«å°ç‹çš„è¦†ç›–äº†ã€‚</li><li>ç°åœ¨å•†å“ä»·æ ¼æ˜¯70å…ƒï¼Œæ¯”æˆæœ¬ä»·ä½10å…ƒã€‚å‡ åˆ†é’Ÿåï¼Œè¿™ä¸ªå•†å“å¾ˆå¿«å‡ºå”®äº†1åƒå¤šä»¶å•†å“ï¼Œè€æ¿äº1ä¸‡å¤šã€‚</li></ul><h3 id="3-2ä¹è§‚é”ä¸æ‚²è§‚é”"><a href="#3-2ä¹è§‚é”ä¸æ‚²è§‚é”" class="headerlink" title="3.2ä¹è§‚é”ä¸æ‚²è§‚é”"></a>3.2ä¹è§‚é”ä¸æ‚²è§‚é”</h3><hr><ul><li>ä¸Šé¢çš„æ•…äº‹ï¼Œå¦‚æœæ˜¯ä¹è§‚é”ï¼Œå°ç‹ä¿å­˜ä»·æ ¼å‰ï¼Œä¼šæ£€æŸ¥ä¸‹ä»·æ ¼æ˜¯å¦è¢«äººä¿®æ”¹è¿‡äº†ã€‚å¦‚æœè¢«ä¿®æ”¹è¿‡äº†ï¼Œåˆ™é‡æ–°å–å‡ºçš„è¢«ä¿®æ”¹åçš„ä»·æ ¼ï¼Œ150å…ƒï¼Œè¿™æ ·ä»–ä¼šå°†120å…ƒå­˜å…¥æ•°æ®åº“ã€‚</li><li>å¦‚æœæ˜¯æ‚²è§‚é”ï¼Œå°æå–å‡ºæ•°æ®åï¼Œå°ç‹åªèƒ½ç­‰å°ææ“ä½œå®Œä¹‹åï¼Œæ‰èƒ½å¯¹ä»·æ ¼è¿›è¡Œæ“ä½œï¼Œä¹Ÿä¼šä¿è¯æœ€ç»ˆçš„ä»·æ ¼æ˜¯120å…ƒã€‚</li></ul><h3 id="3-3æ¨¡æ‹Ÿä¿®æ”¹å†²çª"><a href="#3-3æ¨¡æ‹Ÿä¿®æ”¹å†²çª" class="headerlink" title="3.3æ¨¡æ‹Ÿä¿®æ”¹å†²çª"></a>3.3æ¨¡æ‹Ÿä¿®æ”¹å†²çª</h3><hr><ul><li><p><strong>æ•°æ®åº“ä¸­å¢åŠ å•†å“è¡¨</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t_product ( </span><br><span class="line">    id <span class="type">BIGINT</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ä¸»é”®ID&#x27;</span>, </span><br><span class="line">    NAME <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å•†å“åç§°&#x27;</span>, </span><br><span class="line">    price <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="number">0</span> COMMENT <span class="string">&#x27;ä»·æ ¼&#x27;</span>, </span><br><span class="line">    VERSION <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="number">0</span> COMMENT <span class="string">&#x27;ä¹è§‚é”ç‰ˆæœ¬å·&#x27;</span>, </span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id) </span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ ä¸€æ¡æ•°æ®</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t_product (id, NAME, price) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;å¤–æ˜Ÿäººç¬”è®°æœ¬&#x27;</span>, <span class="number">100</span>);</span><br></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ ä¸€ä¸ªå®ä½“ç±»<code>Product</code></strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer price;</span><br><span class="line">    <span class="keyword">private</span> Integer version;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ ä¸€ä¸ªMapperæ¥å£<code>ProductMapper</code></strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Product&gt; &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æµ‹è¯•æ–¹æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testProduct01</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//1.å°æè·å–å•†å“ä»·æ ¼</span></span><br><span class="line">    <span class="type">Product</span> <span class="variable">productLi</span> <span class="operator">=</span> productMapper.selectById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å°æè·å–çš„å•†å“ä»·æ ¼ä¸ºï¼š&quot;</span> + productLi.getPrice());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.å°ç‹è·å–å•†å“ä»·æ ¼</span></span><br><span class="line">    <span class="type">Product</span> <span class="variable">productWang</span> <span class="operator">=</span> productMapper.selectById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å°æè·å–çš„å•†å“ä»·æ ¼ä¸ºï¼š&quot;</span> + productWang.getPrice());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.å°æä¿®æ”¹å•†å“ä»·æ ¼+50</span></span><br><span class="line">    productLi.setPrice(productLi.getPrice()+<span class="number">50</span>);</span><br><span class="line">    productMapper.updateById(productLi);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.å°ç‹ä¿®æ”¹å•†å“ä»·æ ¼-30</span></span><br><span class="line">    productWang.setPrice(productWang.getPrice()-<span class="number">30</span>);</span><br><span class="line">    productMapper.updateById(productWang);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.è€æ¿æŸ¥è¯¢å•†å“ä»·æ ¼</span></span><br><span class="line">    <span class="type">Product</span> <span class="variable">productBoss</span> <span class="operator">=</span> productMapper.selectById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;è€æ¿è·å–çš„å•†å“ä»·æ ¼ä¸ºï¼š&quot;</span> + productBoss.getPrice());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ‰§è¡Œç»“æœ</strong></p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521225803162.png" alt="image-20220521225803162"></p></li></ul><h3 id="3-4ä¹è§‚é”è§£å†³é—®é¢˜"><a href="#3-4ä¹è§‚é”è§£å†³é—®é¢˜" class="headerlink" title="3.4ä¹è§‚é”è§£å†³é—®é¢˜"></a>3.4ä¹è§‚é”è§£å†³é—®é¢˜</h3><hr><ul><li><p><strong>å®ä½“ç±»<code>version</code>å­—æ®µæ·»åŠ æ³¨è§£<code>@Version</code></strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer price;</span><br><span class="line">    <span class="meta">@Version</span></span><br><span class="line">    <span class="keyword">private</span> Integer version;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ ä¹è§‚é”æ’ä»¶é…ç½®</strong>(åœ¨é…ç½®ç±»ä¸­æ·»åŠ )</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">    <span class="comment">//æ·»åŠ åˆ†é¡µæ’ä»¶</span></span><br><span class="line">    interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>(DbType.MYSQL));</span><br><span class="line">    <span class="comment">//æ·»åŠ ä¹è§‚é”æ’ä»¶</span></span><br><span class="line">    interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">OptimisticLockerInnerInterceptor</span>());</span><br><span class="line">    <span class="keyword">return</span> interceptor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>å†æ¬¡æ‰§è¡Œæµ‹è¯•æ–¹æ³•</strong></p><blockquote><p>å°ææŸ¥è¯¢å•†å“ä¿¡æ¯ï¼š</p><p>â€‹SELECT id,name,price,version FROM t_product WHERE id&#x3D;?</p><p>å°ç‹æŸ¥è¯¢å•†å“ä¿¡æ¯ï¼š</p><p>â€‹SELECT id,name,price,version FROM t_product WHERE id&#x3D;?</p><p>å°æä¿®æ”¹å•†å“ä»·æ ¼ï¼Œè‡ªåŠ¨å°†version+1</p><p>â€‹UPDATE t_product SET name&#x3D;?, price&#x3D;?, version&#x3D;? WHERE id&#x3D;? AND version&#x3D;?</p><p>â€‹Parameters: å¤–æ˜Ÿäººç¬”è®°æœ¬(String), 150(Integer), 1(Integer), 1(Long), 0(Integer)</p><p>å°ç‹ä¿®æ”¹å•†å“ä»·æ ¼ï¼Œæ­¤æ—¶versionå·²æ›´æ–°ï¼Œæ¡ä»¶ä¸æˆç«‹ï¼Œä¿®æ”¹å¤±è´¥</p><p>â€‹UPDATE t_product SET name&#x3D;?, price&#x3D;?, version&#x3D;? WHERE id&#x3D;? AND version&#x3D;?</p><p>â€‹Parameters: å¤–æ˜Ÿäººç¬”è®°æœ¬(String), 70(Integer), 1(Integer), 1(Long), 0(Integer)</p><p>æœ€ç»ˆï¼Œå°ç‹ä¿®æ”¹å¤±è´¥ï¼ŒæŸ¥è¯¢ä»·æ ¼ï¼š150</p><p>â€‹SELECT id,name,price,version FROM t_product WHERE id&#x3D;?</p></blockquote></li><li><p><strong>ä¼˜åŒ–æ‰§è¡Œæµç¨‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testProduct01</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//1.å°æè·å–å•†å“ä»·æ ¼</span></span><br><span class="line">    <span class="type">Product</span> <span class="variable">productLi</span> <span class="operator">=</span> productMapper.selectById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å°æè·å–çš„å•†å“ä»·æ ¼ä¸ºï¼š&quot;</span> + productLi.getPrice());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.å°ç‹è·å–å•†å“ä»·æ ¼</span></span><br><span class="line">    <span class="type">Product</span> <span class="variable">productWang</span> <span class="operator">=</span> productMapper.selectById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å°æè·å–çš„å•†å“ä»·æ ¼ä¸ºï¼š&quot;</span> + productWang.getPrice());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.å°æä¿®æ”¹å•†å“ä»·æ ¼+50</span></span><br><span class="line">    productLi.setPrice(productLi.getPrice()+<span class="number">50</span>);</span><br><span class="line">    productMapper.updateById(productLi);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.å°ç‹ä¿®æ”¹å•†å“ä»·æ ¼-30</span></span><br><span class="line">    productWang.setPrice(productWang.getPrice()-<span class="number">30</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> productMapper.updateById(productWang);</span><br><span class="line">    <span class="keyword">if</span>(result == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">//æ“ä½œå¤±è´¥ï¼Œé‡è¯•</span></span><br><span class="line">        <span class="type">Product</span> <span class="variable">productNew</span> <span class="operator">=</span> productMapper.selectById(<span class="number">1</span>);</span><br><span class="line">        productNew.setPrice(productNew.getPrice()-<span class="number">30</span>);</span><br><span class="line">        productMapper.updateById(productNew);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.è€æ¿æŸ¥è¯¢å•†å“ä»·æ ¼</span></span><br><span class="line">    <span class="type">Product</span> <span class="variable">productBoss</span> <span class="operator">=</span> productMapper.selectById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;è€æ¿è·å–çš„å•†å“ä»·æ ¼ä¸ºï¼š&quot;</span> + productBoss.getPrice());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521230448577.png" alt="image-20220521230448577"></p></li></ul><h1 id="ä¸ƒã€é€šç”¨æšä¸¾"><a href="#ä¸ƒã€é€šç”¨æšä¸¾" class="headerlink" title="ä¸ƒã€é€šç”¨æšä¸¾"></a>ä¸ƒã€é€šç”¨æšä¸¾</h1><blockquote><p>è¡¨ä¸­çš„æœ‰äº›å­—æ®µå€¼æ˜¯å›ºå®šçš„ï¼Œä¾‹å¦‚æ€§åˆ«ï¼ˆç”·æˆ–å¥³ï¼‰ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨MyBatis-Plusçš„é€šç”¨æšä¸¾æ¥å®ç°</p></blockquote><ul><li><p><strong>æ•°æ®åº“è¡¨æ·»åŠ å­—æ®µ<code>sex</code></strong></p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521231317777.png" alt="image-20220521231317777"></p></li><li><p><strong>åˆ›å»ºé€šç”¨æšä¸¾ç±»å‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">SexEnum</span> &#123;</span><br><span class="line">    MALE(<span class="number">1</span>, <span class="string">&quot;ç”·&quot;</span>),</span><br><span class="line">    FEMALE(<span class="number">2</span>, <span class="string">&quot;å¥³&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@EnumValue</span> <span class="comment">//å°†æ³¨è§£æ‰€æ ‡è¯†çš„å±æ€§çš„å€¼å­˜å‚¨åˆ°æ•°æ®åº“ä¸­</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> sex;</span><br><span class="line">    <span class="keyword">private</span> String sexName;</span><br><span class="line"></span><br><span class="line">    SexEnum(Integer sex, String sexName) &#123;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">        <span class="built_in">this</span>.sexName = sexName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>Userå®ä½“ç±»ä¸­æ·»åŠ å±æ€§sex</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@TableField(&quot;username&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableLogic</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> isDeleted;  <span class="comment">//é€»è¾‘åˆ é™¤</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SexEnum sex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½®æ‰«æé€šç”¨æšä¸¾</strong></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#MyBatis-Plusç›¸å…³é…ç½®</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="comment">#æŒ‡å®šmapperæ–‡ä»¶æ‰€åœ¨çš„åœ°å€</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment">#é…ç½®æ—¥å¿—</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">banner:</span> <span class="string">off</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="comment">#é…ç½®mpçš„ä¸»é”®ç­–ç•¥ä¸ºè‡ªå¢</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">auto</span></span><br><span class="line">      <span class="comment"># è®¾ç½®å®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨çš„ç»Ÿä¸€å‰ç¼€</span></span><br><span class="line">      <span class="attr">table-prefix:</span> <span class="string">t_</span></span><br><span class="line">  <span class="comment">#é…ç½®ç±»å‹åˆ«åæ‰€å¯¹åº”çš„åŒ…</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.atguigu.mybatisplus.pojo</span></span><br><span class="line">  <span class="comment"># æ‰«æé€šç”¨æšä¸¾çš„åŒ…</span></span><br><span class="line">  <span class="attr">type-enums-package:</span> <span class="string">com.atguigu.mybatisplus.enums</span></span><br></pre></td></tr></table></figure></li><li><p><strong>æ‰§è¡Œæµ‹è¯•æ–¹æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setName(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">    user.setAge(<span class="number">33</span>);</span><br><span class="line">    user.setSex(SexEnum.MALE);</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.insert(user);</span><br><span class="line">    System.out.println(<span class="string">&quot;result:&quot;</span>+result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="å…«ã€å¤šæ•°æ®æº"><a href="#å…«ã€å¤šæ•°æ®æº" class="headerlink" title="å…«ã€å¤šæ•°æ®æº"></a>å…«ã€å¤šæ•°æ®æº</h1><blockquote><p>é€‚ç”¨äºå¤šç§åœºæ™¯ï¼šçº¯ç²¹å¤šåº“ã€ è¯»å†™åˆ†ç¦»ã€ ä¸€ä¸»å¤šä»ã€ æ··åˆæ¨¡å¼ç­‰</p></blockquote><p>åœºæ™¯è¯´æ˜ï¼š</p><p>æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªåº“ï¼Œåˆ†åˆ«ä¸ºï¼š<code>mybatis_plus</code>ï¼ˆä»¥å‰çš„åº“ä¸åŠ¨ï¼‰ä¸<code>mybatis_plus_1</code>ï¼ˆæ–°å»ºï¼‰ï¼Œå°†mybatis_plusåº“çš„<code>product</code>è¡¨ç§»åŠ¨åˆ°mybatis_plus_1åº“ï¼Œè¿™æ ·æ¯ä¸ªåº“ä¸€å¼ è¡¨ï¼Œé€šè¿‡ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹åˆ†åˆ«è·å–ç”¨æˆ·æ•°æ®ä¸å•†å“æ•°æ®ï¼Œå¦‚æœè·å–åˆ°è¯´æ˜å¤šåº“æ¨¡æ‹ŸæˆåŠŸ</p><h2 id="1-åˆ›å»ºæ•°æ®åº“åŠè¡¨"><a href="#1-åˆ›å»ºæ•°æ®åº“åŠè¡¨" class="headerlink" title="1.åˆ›å»ºæ•°æ®åº“åŠè¡¨"></a>1.åˆ›å»ºæ•°æ®åº“åŠè¡¨</h2><ul><li><p><strong>åˆ›å»ºæ•°æ®åº“<code>mybatis_plus_1</code>å’Œè¡¨&#96;product</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `mybatis_plus_1` <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span>;</span><br><span class="line">use `mybatis_plus_1`; </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> product ( </span><br><span class="line">    id <span class="type">BIGINT</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ä¸»é”®ID&#x27;</span>, </span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å•†å“åç§°&#x27;</span>, </span><br><span class="line">    price <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="number">0</span> COMMENT <span class="string">&#x27;ä»·æ ¼&#x27;</span>, </span><br><span class="line">    version <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="number">0</span> COMMENT <span class="string">&#x27;ä¹è§‚é”ç‰ˆæœ¬å·&#x27;</span>, </span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id) </span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ æµ‹è¯•æ•°æ®</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> product (id, NAME, price) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;å¤–æ˜Ÿäººç¬”è®°æœ¬&#x27;</span>, <span class="number">100</span>);</span><br></pre></td></tr></table></figure></li><li><p><strong>åˆ é™¤<code>mybatis_plus</code>åº“ä¸­çš„<code>product</code>è¡¨</strong> </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use mybatis_plus; </span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> product;</span><br></pre></td></tr></table></figure></li></ul><h2 id="2-æ–°å»ºå·¥ç¨‹å¼•å…¥ä¾èµ–"><a href="#2-æ–°å»ºå·¥ç¨‹å¼•å…¥ä¾èµ–" class="headerlink" title="2.æ–°å»ºå·¥ç¨‹å¼•å…¥ä¾èµ–"></a>2.æ–°å»ºå·¥ç¨‹å¼•å…¥ä¾èµ–</h2><blockquote><p><strong>è‡ªè¡Œæ–°å»ºä¸€ä¸ªSpring Bootå·¥ç¨‹å¹¶é€‰æ‹©MySQLé©±åŠ¨åŠLombokä¾èµ–</strong></p></blockquote><p><strong>å¼•å…¥MyBaits-Plusçš„ä¾èµ–åŠå¤šæ•°æ®æºçš„ä¾èµ–</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dynamic-datasource-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-ç¼–å†™é…ç½®æ–‡ä»¶"><a href="#3-ç¼–å†™é…ç½®æ–‡ä»¶" class="headerlink" title="3.ç¼–å†™é…ç½®æ–‡ä»¶"></a>3.ç¼–å†™é…ç½®æ–‡ä»¶</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="comment"># é…ç½®æ•°æ®æºä¿¡æ¯</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">dynamic:</span></span><br><span class="line">      <span class="comment"># è®¾ç½®é»˜è®¤çš„æ•°æ®æºæˆ–è€…æ•°æ®æºç»„,é»˜è®¤å€¼å³ä¸ºmaster</span></span><br><span class="line">      <span class="attr">primary:</span> <span class="string">master</span></span><br><span class="line">      <span class="comment"># ä¸¥æ ¼åŒ¹é…æ•°æ®æº,é»˜è®¤false.trueæœªåŒ¹é…åˆ°æŒ‡å®šæ•°æ®æºæ—¶æŠ›å¼‚å¸¸,falseä½¿ç”¨é»˜è®¤æ•°æ®æº</span></span><br><span class="line">      <span class="attr">strict:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">datasource:</span></span><br><span class="line">        <span class="attr">master:</span></span><br><span class="line">          <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line">          <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">          <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">          <span class="attr">password:</span> <span class="number">132537</span></span><br><span class="line">        <span class="attr">slave_1:</span></span><br><span class="line">          <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/mybatis_plus_1?characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line">          <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">          <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">          <span class="attr">password:</span> <span class="number">132537</span></span><br></pre></td></tr></table></figure><h2 id="4-åˆ›å»ºå®ä½“ç±»"><a href="#4-åˆ›å»ºå®ä½“ç±»" class="headerlink" title="4.åˆ›å»ºå®ä½“ç±»"></a>4.åˆ›å»ºå®ä½“ç±»</h2><ul><li><p>æ–°å»ºä¸€ä¸ª<code>User</code>å®ä½“ç±»ï¼ˆå¦‚æœæ•°æ®åº“è¡¨åæœ‰t_å‰ç¼€è®°å¾—é…ç½®ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–°å»ºä¸€ä¸ªå®ä½“ç±»<code>Product</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer price;</span><br><span class="line">    <span class="keyword">private</span> Integer version;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="5-åˆ›å»ºMapperåŠService"><a href="#5-åˆ›å»ºMapperåŠService" class="headerlink" title="5.åˆ›å»ºMapperåŠService"></a>5.åˆ›å»ºMapperåŠService</h2><ul><li><p>æ–°å»ºæ¥å£<code>UserMapper</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–°å»ºæ¥å£<code>ProductMapper</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Product&gt; &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–°å»ºServiceæ¥å£<code>UserService</code>æŒ‡å®šæ“ä½œçš„æ•°æ®æº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DS(&quot;master&quot;)</span> <span class="comment">//æŒ‡å®šæ“ä½œçš„æ•°æ®æºï¼Œmasterä¸ºuserè¡¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;User&gt; &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–°å»ºServiceæ¥å£<code>ProductService</code>æŒ‡å®šæ“ä½œçš„æ•°æ®æº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DS(&quot;slave_1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Product&gt; &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>è‡ªè¡Œå»ºç«‹Serviceçš„å®ç°ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">...</span><br></pre></td></tr></table></figure></li></ul><h2 id="6-ç¼–å†™æµ‹è¯•æ–¹æ³•"><a href="#6-ç¼–å†™æµ‹è¯•æ–¹æ³•" class="headerlink" title="6.ç¼–å†™æµ‹è¯•æ–¹æ³•"></a>6.ç¼–å†™æµ‹è¯•æ–¹æ³•</h2><blockquote><p><strong>è®°å¾—åœ¨å¯åŠ¨ç±»ä¸­æ·»åŠ æ³¨è§£<code>@MapperScan()</code></strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestDatasourceApplicationTests</span> &#123;</span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line">UserService userService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line">ProductService productService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">contextLoads</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getById(<span class="number">1L</span>);</span><br><span class="line"><span class="type">Product</span> <span class="variable">product</span> <span class="operator">=</span> productService.getById(<span class="number">1L</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;User = &quot;</span> + user);</span><br><span class="line">System.out.println(<span class="string">&quot;Product = &quot;</span> + product);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522113049945.png" alt="image-20220522113049945"></p><h1 id="ä¹ã€MyBatisXæ’ä»¶"><a href="#ä¹ã€MyBatisXæ’ä»¶" class="headerlink" title="ä¹ã€MyBatisXæ’ä»¶"></a>ä¹ã€MyBatisXæ’ä»¶</h1><blockquote><p>MyBatis-Plusä¸ºæˆ‘ä»¬æä¾›äº†å¼ºå¤§çš„mapperå’Œserviceæ¨¡æ¿ï¼Œèƒ½å¤Ÿå¤§å¤§çš„æé«˜å¼€å‘æ•ˆç‡ã€‚</p><p>ä½†æ˜¯åœ¨çœŸæ­£å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒMyBatis-Pluså¹¶ä¸èƒ½ä¸ºæˆ‘ä»¬è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œä¾‹å¦‚ä¸€äº›å¤æ‚çš„SQLï¼Œå¤šè¡¨è”æŸ¥ï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±å»ç¼–å†™ä»£ç å’ŒSQLè¯­å¥ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•å¿«é€Ÿçš„è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨MyBatisXæ’ä»¶ã€‚</p><p>MyBatisXä¸€æ¬¾åŸºäº IDEA çš„å¿«é€Ÿå¼€å‘æ’ä»¶ï¼Œä¸ºæ•ˆç‡è€Œç”Ÿã€‚</p></blockquote><h2 id="1-å®‰è£…MyBatisXæ’ä»¶"><a href="#1-å®‰è£…MyBatisXæ’ä»¶" class="headerlink" title="1.å®‰è£…MyBatisXæ’ä»¶"></a>1.å®‰è£…MyBatisXæ’ä»¶</h2><blockquote><p><strong>æ‰“å¼€IDEAï¼ŒFile-&gt; Setteings-&gt;Plugins-&gt;MyBatisXï¼Œæœç´¢æ æœç´¢MyBatisXç„¶åå®‰è£…ã€‚</strong></p></blockquote><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522115718361.png" alt="image-20220522115718361"></p><h2 id="2-å¿«é€Ÿç”Ÿæˆä»£ç "><a href="#2-å¿«é€Ÿç”Ÿæˆä»£ç " class="headerlink" title="2.å¿«é€Ÿç”Ÿæˆä»£ç "></a>2.å¿«é€Ÿç”Ÿæˆä»£ç </h2><ul><li><p>æ–°å»ºä¸€ä¸ªSpring Booté¡¹ç›®å¼•å…¥ä¾èµ–ï¼ˆåˆ›å»ºå·¥ç¨‹æ—¶è®°å¾—å‹¾é€‰lombokåŠmysqlé©±åŠ¨ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dynamic-datasource-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>é…ç½®æ•°æ®æºä¿¡æ¯</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.zaxxer.hikari.HikariDataSource</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">132537</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨IDEAä¸­ä¸æ•°æ®åº“å»ºç«‹é“¾æ¥</p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522120758740.png" alt="image-20220522120758740"></p></li><li><p>å¡«å†™æ•°æ®åº“ä¿¡æ¯å¹¶ä¿å­˜</p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522121434468.png" alt="image-20220522121434468"></p></li><li><p>æ‰¾åˆ°æˆ‘ä»¬éœ€è¦ç”Ÿæˆçš„è¡¨ç‚¹å‡»å³é”®</p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522121613909.png" alt="image-20220522121613909"></p></li><li><p>å¡«å†™å®Œä¿¡æ¯ä»¥åä¸‹ä¸€æ­¥</p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522122127649.png" alt="image-20220522122127649"></p></li><li><p>ç»§ç»­å¡«å†™ä¿¡æ¯</p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522122525598.png" alt="image-20220522122525598"></p></li><li><p><strong>å¤§åŠŸå‘Šæˆï¼ˆçœŸç‰¹ä¹ˆå¥½ç”¨yydsï¼‰</strong></p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522122612334.png" alt="image-20220522122612334"></p></li></ul><h2 id="3-å¿«é€Ÿç”ŸæˆCRUD"><a href="#3-å¿«é€Ÿç”ŸæˆCRUD" class="headerlink" title="3.å¿«é€Ÿç”ŸæˆCRUD"></a>3.å¿«é€Ÿç”ŸæˆCRUD</h2><blockquote><p>MyBaitsXå¯ä»¥æ ¹æ®æˆ‘ä»¬åœ¨Mapperæ¥å£ä¸­è¾“å…¥çš„æ–¹æ³•åå¿«é€Ÿå¸®æˆ‘ä»¬ç”Ÿæˆå¯¹åº”çš„sqlè¯­å¥</p></blockquote><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522123143852.png" alt="image-20220522123143852"></p><p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522123202310.png" alt="image-20220522123202310"></p><h1 id="åã€è‡´è°¢"><a href="#åã€è‡´è°¢" class="headerlink" title="åã€è‡´è°¢"></a>åã€è‡´è°¢</h1><p>æ„Ÿè°¢å°šç¡…è°·æ¨åšè¶…è€å¸ˆï¼š<a href="https://www.bilibili.com/video/BV12R4y157Be?p=1">https://www.bilibili.com/video/BV12R4y157Be?p=1</a></p><p>æ„Ÿè°¢MyBatis-Plusä½œè€…è‹ç±³è±†ï¼š<a href="https://baomidou.com/">https://baomidou.com/</a></p><p>æ„Ÿè°¢è‡ªå·±åˆåšæŒå­¦ä¹ äº†ä¸€é—¨è¯¾ç¨‹ï¼š<a href="https://www.oz6.cn/">https://www.oz6.cn/</a></p><h1 id="ä»£ç ç”Ÿæˆå™¨ï¼š"><a href="#ä»£ç ç”Ÿæˆå™¨ï¼š" class="headerlink" title="ä»£ç ç”Ÿæˆå™¨ï¼š"></a>ä»£ç ç”Ÿæˆå™¨ï¼š</h1><h2 id="MyBatis-Plus-é€†å‘ç¨‹ä¾èµ–ï¼š"><a href="#MyBatis-Plus-é€†å‘ç¨‹ä¾èµ–ï¼š" class="headerlink" title="MyBatis-Plus é€†å‘ç¨‹ä¾èµ–ï¼š"></a>MyBatis-Plus é€†å‘ç¨‹ä¾èµ–ï¼š</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--MyBatis-Plus é€†å‘å·¥ç¨‹ä¾èµ–ä»£ç ç”Ÿæˆå™¨çš„æ ¸å¿ƒä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¸€ä¸ªæ¨¡æ¿çš„ä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.freemarker<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.31<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆä»£ç ï¼š"><a href="#ç”Ÿæˆä»£ç ï¼š" class="headerlink" title="ç”Ÿæˆä»£ç ï¼š"></a>ç”Ÿæˆä»£ç ï¼š</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FastAutoGeneratorTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®æˆ‘ä»¬éœ€è¦åˆ›å»ºåœ¨å“ªçš„è·¯å¾„</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> <span class="string">&quot;/Users/luxiaogen/Documents/RoadTo2w/Java/å°šç¡…è°·/MyBatisPlus-2022/demo&quot;</span>;</span><br><span class="line">        <span class="comment">// è¿™é‡Œæˆ‘æ˜¯mysql8 5ç‰ˆæœ¬å¯ä»¥æ¢æˆ jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line">        FastAutoGenerator.create(<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis_plus?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8&amp;useSSL=false&quot;</span>, <span class="string">&quot;root&quot;</span>, <span class="string">&quot;root&quot;</span>)</span><br><span class="line">                .globalConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.author(<span class="string">&quot;atguigu&quot;</span>) <span class="comment">// è®¾ç½®ä½œè€…</span></span><br><span class="line">                    <span class="comment">// .enableSwagger() // å¼€å¯ swagger æ¨¡å¼</span></span><br><span class="line">                    .fileOverride() <span class="comment">// è¦†ç›–å·²ç”Ÿæˆæ–‡ä»¶</span></span><br><span class="line">                    .outputDir(path); <span class="comment">// æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">                &#125;)</span><br><span class="line">                .packageConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.parent(<span class="string">&quot;com.atguigu&quot;</span>) <span class="comment">// è®¾ç½®çˆ¶åŒ…å</span></span><br><span class="line">                            .moduleName(<span class="string">&quot;mybatisplus&quot;</span>) <span class="comment">// è®¾ç½®çˆ¶åŒ…æ¨¡å—å</span></span><br><span class="line">                            .pathInfo(Collections.singletonMap(OutputFile.mapperXml, path)); <span class="comment">// è®¾ç½®mapperXmlç”Ÿæˆè·¯å¾„</span></span><br><span class="line">                &#125;)</span><br><span class="line">                .strategyConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.addInclude(<span class="string">&quot;t_user&quot;</span>) <span class="comment">// è®¾ç½®éœ€è¦ç”Ÿæˆçš„è¡¨å</span></span><br><span class="line">                            .addTablePrefix(<span class="string">&quot;t_&quot;</span>, <span class="string">&quot;c_&quot;</span>); <span class="comment">// è®¾ç½®è¿‡æ»¤è¡¨å‰ç¼€</span></span><br><span class="line">                &#125;).templateEngine(<span class="keyword">new</span> <span class="title class_">FreemarkerTemplateEngine</span>()) <span class="comment">// ä½¿ç”¨Freemarker å¼•æ“æ¨¡æ¿ï¼Œé»˜è®¤çš„æ˜¯Velocityå¼•æ“æ¨¡æ¿</span></span><br><span class="line">                .execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å°ç»“ï¼š"><a href="#å°ç»“ï¼š" class="headerlink" title="å°ç»“ï¼š"></a>å°ç»“ï¼š</h1><h4 id="MyBatisPlus-æ·»åŠ æ–°çš„å®ä½“ï¼š"><a href="#MyBatisPlus-æ·»åŠ æ–°çš„å®ä½“ï¼š" class="headerlink" title="MyBatisPlus æ·»åŠ æ–°çš„å®ä½“ï¼š"></a>MyBatisPlus æ·»åŠ æ–°çš„å®ä½“ï¼š</h4><p>â€‹1.åœ¨entityåŒ…ä¸­ç¼–å†™å®ä½“ç±»ï¼Œæ·»åŠ @Dateæ³¨è§£</p><p>â€‹2.åœ¨mapperåŒ…ä¸­æ·»åŠ å¯¹åº”çš„mapperæ¥å£</p><p>â€‹éœ€è¦ç»§æ‰¿BaseMapperï¼šextends BaseMapper&lt;å®ä½“ç±»å&gt;</p><p>å› ä¸ºåœ¨éœ€è¦å¯¹æ•°æ®åº“è¿›è¡Œå®ä½“ç±»ç›¸åº”çš„è¡¨çš„æŸ¥è¯¢æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°xxMapperçš„å®ç°ç±»ï¼Œ</p><p>ç„¶è€ŒxxMapperæ˜¯æ¥å£ï¼Œæ²¡æœ‰å®ç°ç±»ï¼Œå› æ­¤æˆ‘ä»¬åœ¨@Autowiredå®šä¹‰çš„å®ç°ç±»åä¼šæŠ¥é”™ï¼Œ</p><p>å› æ­¤æˆ‘ä»¬éœ€è¦<strong>åœ¨Mapperæ¥å£ä¸­æ·»åŠ @Repositoryæ³¨è§£</strong></p><p>â€‹3.</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MyBatis-Plus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaæ ¸å¿ƒå·ç ”è¯»</title>
      <link href="/2023/05/26/java%E6%A0%B8%E5%BF%83%E5%8D%B7%E7%A0%94%E8%AF%BB/"/>
      <url>/2023/05/26/java%E6%A0%B8%E5%BF%83%E5%8D%B7%E7%A0%94%E8%AF%BB/</url>
      
        <content type="html"><![CDATA[<h1 id="javaæ ¸å¿ƒå·ç ”è¯»ï¼š"><a href="#javaæ ¸å¿ƒå·ç ”è¯»ï¼š" class="headerlink" title="javaæ ¸å¿ƒå·ç ”è¯»ï¼š"></a>javaæ ¸å¿ƒå·ç ”è¯»ï¼š</h1><h2 id="https-docs-oracle-com-en-java-javase-17-docs-api"><a href="#https-docs-oracle-com-en-java-javase-17-docs-api" class="headerlink" title="https://docs.oracle.com/en/java/javase/17/docs/api/"></a><a href="https://docs.oracle.com/en/java/javase/17/docs/api/">https://docs.oracle.com/en/java/javase/17/docs/api/</a></h2><h2 id="chapter3â€”â€”Javaçš„åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„"><a href="#chapter3â€”â€”Javaçš„åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„" class="headerlink" title="chapter3â€”â€”Javaçš„åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„"></a>chapter3â€”â€”Javaçš„åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„</h2><h3 id="3-1ä¸€ä¸ªç®€å•çš„javaç¨‹åº"><a href="#3-1ä¸€ä¸ªç®€å•çš„javaç¨‹åº" class="headerlink" title="3.1ä¸€ä¸ªç®€å•çš„javaç¨‹åº"></a>3.1ä¸€ä¸ªç®€å•çš„javaç¨‹åº</h3><p>â€‹javaç¼–è¯‘å™¨å¯¹.javaæ–‡ä»¶è¿›è¡Œç¼–è¯‘(javac ç±»å.java)ï¼Œç”Ÿæˆå¯¹åº”çš„.classæ–‡ä»¶ï¼›&#x2F;&#x2F;é€šè¿‡javacå·¥å…·ç¼–è¯‘  .classæ–‡ä»¶ä¸­å­˜çš„æ˜¯å­—èŠ‚ç </p><p>â€‹ä½¿ç”¨javaå‘½ä»¤è¿è¡Œ.classæ–‡ä»¶(java ç±»å)*æ— åç¼€åï¼ï¼  &#x2F;&#x2F;jvmåªèƒ½ç†è§£.classæ–‡ä»¶ä¸­çš„å†…å®¹ å³å­—èŠ‚ç </p><p>.java -&gt; .class è¿™ä¸ªè¿‡ç¨‹ä½¿ç”¨ javac æ˜¯<strong>ç¼–è¯‘</strong>(ä¸€æ¬¡æ€§å°†ä»£ç è½¬æ¢ä¸ºå­—èŠ‚ç )</p><p>.class -&gt; æœºå™¨ç (ç›´æ¥è¢«cpuæ‰§è¡Œ) è¿™ä¸ªè¿‡ç¨‹ç”±JVMé€å¥<strong>è§£é‡Š</strong></p><p>â€‹javaä¸­ä½¿ç”¨æ–¹æ³•çš„è¯­æ³•ä¸ºï¼š</p><ul><li>object.method.(parametersâ€¦);</li></ul><h3 id="3-2æ³¨é‡Š"><a href="#3-2æ³¨é‡Š" class="headerlink" title="3.2æ³¨é‡Š"></a>3.2æ³¨é‡Š</h3><ul><li><ol><li>&#x2F;&#x2F;</li></ol></li><li><ol start="2"><li>&#x2F;*    *&#x2F;</li></ol></li><li><ol start="3"><li>&#x2F;**</li></ol></li><li>â€‹          *</li><li>â€‹          *</li><li>â€‹          *&#x2F;</li></ul><h3 id="3-3æ•°æ®ç±»å‹"><a href="#3-3æ•°æ®ç±»å‹" class="headerlink" title="3.3æ•°æ®ç±»å‹"></a>3.3æ•°æ®ç±»å‹</h3><h4 id="å…«å¤§åŸºæœ¬æ•°æ®ç±»å‹"><a href="#å…«å¤§åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="å…«å¤§åŸºæœ¬æ•°æ®ç±»å‹"></a>å…«å¤§åŸºæœ¬æ•°æ®ç±»å‹</h4><table><thead><tr><th align="center">ç±»å‹</th><th align="center">å­˜å‚¨éœ€æ±‚</th><th align="center">å–å€¼èŒƒå›´</th></tr></thead><tbody><tr><td align="center">int</td><td align="center">4å­—èŠ‚</td><td align="center">-2147483648ï½2147483647(ç•¥é«˜äº20äº¿)</td></tr><tr><td align="center">short</td><td align="center">2å­—èŠ‚</td><td align="center">-32768ï½32767</td></tr><tr><td align="center">long</td><td align="center">8å­—èŠ‚</td><td align="center">-9223372036854775808ï½9223372036854775807</td></tr><tr><td align="center">byte</td><td align="center">1å­—èŠ‚</td><td align="center">-128ï½127</td></tr><tr><td align="center">float</td><td align="center">4å­—èŠ‚</td><td align="center">æ­£è´Ÿ3.4*10^38       6~7ä½æœ‰æ•ˆæ•°å­—</td></tr><tr><td align="center">double</td><td align="center">8å­—èŠ‚</td><td align="center">æ­£è´Ÿ1.79*10^308     15ä½æœ‰æ•ˆæ•°å­—</td></tr><tr><td align="center">char</td><td align="center">2å­—èŠ‚</td><td align="center">0ï½65535</td></tr><tr><td align="center">boolean</td><td align="center">booleanå˜é‡ï¼š4å­—èŠ‚(åº•å±‚ä½¿ç”¨int)<br />booleanæ•°ç»„ä¸­ï¼š1å­—èŠ‚(åº•å±‚ä½¿ç”¨Byte)</td><td align="center">trueã€fasle</td></tr></tbody></table><p>*æˆ‘ä»¬å¯ä»¥ä¸ºæ•°å­—å­—é¢é‡æ·»åŠ ä¸‹åˆ’çº¿(æ–¹ä¾¿çœ‹) å¦‚ï¼š1_000_000 è¡¨ç¤º100ä¸‡  â€”-&gt;  ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å»é™¤ä¸‹åˆ’çº¿</p><ul><li><p>javaä¸­æ²¡æœ‰æ— ç¬¦å·æ•°çš„è¯´æ³•â€”â€”éƒ½æ˜¯(æ­£)(è´Ÿ+1)å‚åŠ</p></li><li><p>é»˜è®¤çš„å°æ•°ä¸ºdoubleç±»å‹</p></li><li><p>æµ®ç‚¹ç±»å‹çš„æ•°æ®è¿ç®—ä¸€å®šä¼šå¸¦æ¥è¯¯å·® (æˆ‘ä»¬éœ€è¦è°¨æ…å¯¹æµ®ç‚¹æ•°è¿›è¡Œ &#x3D;&#x3D; ã€ !&#x3D; æ“ä½œ) </p><p>â€”â€”æ ¹æœ¬åŸå› æ˜¯æµ®ç‚¹æ•°é‡‡ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼ŒäºŒè¿›åˆ¶ç³»ç»Ÿä¸­æ— æ³•ç²¾ç¡®åœ°è¡¨ç¤ºåˆ†æ•°1&#x2F;10ï¼Œå› æ­¤é™¤äº†äºŒè¿›åˆ¶èƒ½å®Œå…¨è¡¨ç¤ºçš„æ•°å­—ï¼Œéƒ½ä¼šäº§ç”Ÿè¯¯å·®</p><p><strong>ğŸŒŸåŒæ ·ï¼Œæˆ‘ä»¬ä¸è¦åœ¨forå¾ªç¯ã€whileå¾ªç¯ä¸­ä½¿ç”¨æµ®ç‚¹æ•°ä½œä¸ºæˆ‘ä»¬çš„è®¡æ•°å™¨ï¼Œå¦‚æœä»¥ &#x3D;&#x3D; ä¸ºç»ˆæ­¢æ¡ä»¶çš„è¯ï¼Œä¼šå¯¼è‡´å¾ªç¯æ— æ³•ç»ˆæ­¢ğŸŒŸ</strong></p></li></ul><h4 id="Unicodeè½¬ä¹‰åºåˆ—ï¼š"><a href="#Unicodeè½¬ä¹‰åºåˆ—ï¼š" class="headerlink" title="Unicodeè½¬ä¹‰åºåˆ—ï¼š"></a>Unicodeè½¬ä¹‰åºåˆ—ï¼š</h4><p>â€‹\uxxxx (\u+Unicodeåºå·ï¼Œ4ä½16è¿›åˆ¶æ•°)å¯ä»¥ç”¨è¿™ç§å½¢å¼æ¥è¡¨ç¤ºå­—ç¬¦</p><p><strong>Unicodeè½¬ä¹‰åºåˆ—ä¼šåœ¨è§£æä»£ç ä¹‹å‰å¤„ç†ï¼š</strong>ç¼–è¯‘å™¨ä¼š<strong>å…ˆ</strong>å°†è½¬ä¹‰åºåˆ—å˜ä¸ºå¯¹åº”çš„å­—ç¬¦ï¼Œå†è¿›è¡Œç¼–è¯‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">javaä¸­ä¸å»ºè®®ä½¿ç”¨charç±»å‹æ•°æ®ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</span><br><span class="line"></span><br><span class="line">å…¶å®ï¼Œ1ä¸ªjavaçš„charå­—ç¬¦å¹¶ä¸å®Œå…¨ç­‰äºä¸€ä¸ªunicodeçš„å­—ç¬¦ã€‚charé‡‡ç”¨çš„UCS-2ç¼–ç ï¼Œæ˜¯ä¸€ç§æ·˜æ±°çš„UTF-16ç¼–ç ï¼Œç¼–ç æ–¹å¼æœ€å¤šæœ‰65536ç§ï¼Œè¿œè¿œå°‘äºå½“ä»ŠUnicodeæ‹¥æœ‰11ä¸‡å­—ç¬¦çš„éœ€æ±‚ã€‚javaåªå¥½å¯¹åæ¥æ–°å¢çš„Unicodeå­—ç¬¦ç”¨2ä¸ªcharæ‹¼å‡º1ä¸ªUnicodeå­—ç¬¦ã€‚å¯¼è‡´Stringä¸­charçš„æ•°é‡ä¸ç­‰äºunicodeå­—ç¬¦çš„æ•°é‡ã€‚Â </span><br><span class="line">ç„¶è€Œï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼Œcharåœ¨Oracleä¸­ï¼Œæ˜¯å›ºå®šå®½åº¦çš„å­—ç¬¦ä¸²ç±»å‹ï¼ˆå³æ‰€è°“çš„å®šé•¿å­—ç¬¦ä¸²ç±»å‹ï¼‰ï¼Œé•¿åº¦ä¸å¤Ÿçš„å°±ä¼šè‡ªåŠ¨ä½¿ç”¨ç©ºæ ¼è¡¥å…¨ã€‚å› æ­¤ï¼Œåœ¨ä¸€äº›ç‰¹æ®Šçš„æŸ¥è¯¢ä¸­ï¼Œå°±ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œè€Œä¸”è¿™ç§é—®é¢˜è¿˜æ˜¯å¾ˆéšè”½çš„ï¼Œå¾ˆéš¾è¢«å¼€å‘äººå‘˜å‘ç°ã€‚ä¸€æ—¦å‘ç°é—®é¢˜çš„æ‰€åœ¨ï¼Œå°±æ„å‘³ç€æ•°æ®ç»“æ„éœ€è¦å˜æ›´ï¼Œå¯æƒ³è€ŒçŸ¥ï¼Œè¿™æ˜¯å¤šä¹ˆå¤§çš„ç¾éš¾å•Šã€‚Â </span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><p>Java åŸºæœ¬æ•°æ®ç±»å‹çš„**<u>åŒ…è£…ç±»å‹</u><strong>çš„å¤§éƒ¨åˆ†éƒ½ç”¨åˆ°äº†</strong><u>ç¼“å­˜æœºåˆ¶</u>**æ¥æå‡æ€§èƒ½ã€‚</p><p><code>Byte</code>,<code>Short</code>,<code>Integer</code>,<code>Long</code> è¿™ 4 ç§åŒ…è£…ç±»é»˜è®¤åˆ›å»ºäº†æ•°å€¼ <u><strong>[-128ï¼Œ127]</strong></u> çš„ç›¸åº”ç±»å‹çš„ç¼“å­˜æ•°æ®ï¼Œ<code>Character</code> åˆ›å»ºäº†æ•°å€¼åœ¨ <strong><u>[0,127]</u></strong> èŒƒå›´çš„ç¼“å­˜æ•°æ®ï¼Œ<code>Boolean</code> ç›´æ¥è¿”å› <code>True</code> or <code>False</code>ã€‚</p><hr><h3 id="3-4å˜é‡ä¸å¸¸é‡"><a href="#3-4å˜é‡ä¸å¸¸é‡" class="headerlink" title="3.4å˜é‡ä¸å¸¸é‡"></a>3.4å˜é‡ä¸å¸¸é‡</h3><h4 id="å˜é‡å‘½åè¦æ±‚ï¼š"><a href="#å˜é‡å‘½åè¦æ±‚ï¼š" class="headerlink" title="å˜é‡å‘½åè¦æ±‚ï¼š"></a>å˜é‡å‘½åè¦æ±‚ï¼š</h4><p>â€‹ç”±å­—æ¯ã€æ•°å­—ã€_ã€å„ç§è´§å¸ç¬¦å·($ ä¸€èˆ¬ç”¨äºç³»ç»Ÿå·¥å…·ç”Ÿæˆå˜é‡çš„å)</p><p>â€‹ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸èƒ½æ˜¯æ•°å­—</p><p>â€‹ä¸èƒ½ä½¿ç”¨å…³é”®å­—ã€ä¿ç•™å­—ä½œä¸ºå˜é‡å</p><p>â€‹ä¸èƒ½å«ç©ºæ ¼</p><ul><li><strong>java10å¼€å§‹ï¼Œå¦‚æœå¯ä»¥ä»å˜é‡çš„åˆå§‹å€¼æ¨æ–­å‡ºå®ƒçš„ç±»å‹ï¼Œå°±ä¸éœ€è¦å£°æ˜ç±»å‹ï¼Œä½¿ç”¨     var   å³å¯ã€‚</strong></li></ul><h4 id="å¸¸é‡ï¼š"><a href="#å¸¸é‡ï¼š" class="headerlink" title="å¸¸é‡ï¼š"></a>å¸¸é‡ï¼š</h4><p>â€‹è¢«finalä¿®é¥°çš„å˜é‡ï¼Œè¡¨ç¤ºå˜é‡<strong>åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡</strong>ï¼Œä¸€æ—¦èµ‹å€¼å°±ä¸èƒ½å†æ›´æ”¹äº†ã€‚</p><p>â€‹å¸¸é‡å‘½åè§„èŒƒï¼šå¸¸é‡åå…¨éƒ¨å¤§å†™ï¼</p><p>æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªå¸¸é‡(ç±»å¸¸é‡)ä»¥ä¾¿åœ¨ç±»ä¸­å¤šä¸ªæ–¹æ³•ä¸­ä½¿ç”¨   å¦‚ï¼šstatic final int CONSTANT &#x3D; 1ï¼›<br>å¦‚æœç±»å¸¸é‡ä¸º public é‚£ä¹ˆå¸¸é‡ä¹Ÿå¯ä»¥è¢«å…¶ä»–ç±»ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¼€å‘ä¸­å•ç‹¬åˆ›å»ºä¸€ä¸ªç±»æ¥å­˜æ”¾æ ¼ä¸­å¸¸é‡ï¼</p><p>â€‹æšä¸¾ç±»å‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Size</span> &#123;</span><br><span class="line">    SMALL,</span><br><span class="line">    MEDIUM,</span><br><span class="line">    LARGE</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Size</span> <span class="variable">size</span> <span class="operator">=</span> Size.MEDIUM;</span><br><span class="line">        System.out.println(size);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="3-5è¿ç®—ç¬¦"><a href="#3-5è¿ç®—ç¬¦" class="headerlink" title="3.5è¿ç®—ç¬¦"></a>3.5è¿ç®—ç¬¦</h3><p>â€‹åœ¨æºæ–‡ä»¶å¼€å¤´åŠ å…¥ <strong>import static java.lang.Math.</strong>* ä¹‹åå°±èƒ½ç›´æ¥ä½¿ç”¨Mathå·¥å…·ç±»ä¸­çš„å¸¸é‡ä¸æ–¹æ³•äº†(æ— éœ€å‰ç¼€Math.)</p><h4 id="æ•°æ®ç±»å‹è½¬æ¢ï¼š"><a href="#æ•°æ®ç±»å‹è½¬æ¢ï¼š" class="headerlink" title="æ•°æ®ç±»å‹è½¬æ¢ï¼š"></a>æ•°æ®ç±»å‹è½¬æ¢ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">æ— ç²¾åº¦æŸå¤±çš„è½¬æ¢ï¼š</span><br><span class="line"><span class="comment">//byte -&gt; short -&gt; int -&gt; long</span></span><br><span class="line"><span class="comment">//float -&gt; double</span></span><br><span class="line"><span class="comment">//int -&gt; double</span></span><br><span class="line"><span class="comment">//char -&gt; int</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æœ‰ç²¾åº¦æŸå¤±çš„è½¬æ¢ï¼š</span><br><span class="line"><span class="comment">//int -&gt; float</span></span><br><span class="line"><span class="comment">//long -&gt; float</span></span><br><span class="line"><span class="comment">//long -&gt; double</span></span><br></pre></td></tr></table></figure><p>!!!! intç±»å‹å˜é‡ <strong>ä¸èƒ½</strong> è½¬æˆ char</p><p>æ•°æ®ç±»å‹è½¬æ¢æœ‰ç²¾åº¦æŸå¤±æ˜¯å› ä¸ºï¼šæµ®ç‚¹å‹æ•°æ®çš„å­˜å‚¨æ–¹å¼ä¸ºï¼šç¬¦å·+æŒ‡æ•°éƒ¨åˆ†+æ•°å€¼éƒ¨åˆ†ï¼Œ</p><p><strong>intã€longçš„æ•°å€¼éƒ¨åˆ†å¤šäºfloatä¸­èƒ½å¤Ÿè¡¨ç¤ºçš„ä½æ•°ï¼Œå› æ­¤é€ æˆç²¾åº¦æŸå¤±</strong>(å› ä¸ºfloatå­˜å‚¨æ—¶ä¼šæŠŠæ•°å­—å˜ä¸º1.xxx âœ–ï¸2çš„xxæ¬¡æ–¹çš„å½¢å¼)</p><ul><li>è¿ç®—æ—¶ï¼Œå¦‚æœè¿ç®—ç¬¦ä¸¤è¾¹çš„ç±»å‹ä¸åŒï¼Œåˆ™ æœ‰æµ®ç‚¹æ•°ï¼Œåˆ™ä¼šè½¬æˆå‡ºç°è¿‡çš„ç²¾åº¦æœ€å¤§çš„æµ®ç‚¹æ•°ï¼Œæ²¡æœ‰æµ®ç‚¹æ•°ï¼Œä¼˜å…ˆlongï¼Œlongä¹Ÿæ²¡å‡ºç°è¿‡ï¼Œåˆ™é»˜è®¤éƒ½è½¬ä¸ºint(å³ä½¿æ˜¯byte + short)</li></ul><p>int x +&#x3D; 1.45 â€”â€”â€”&gt; æ­£ç¡®ï¼Œå› ä¸ºåŸå¼ï¼š x&#x3D;(int)(x + 1.45)</p><p>int x &#x3D; x + 1.45 â€”â€”&gt; é”™è¯¯</p><p>javaä¸­ï¼Œèµ‹å€¼æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œèµ‹å€¼è¯­å¥çš„å€¼ä¸ºå˜é‡è¢«èµ‹çš„é‚£ä¸ªå€¼ </p><p>â€‹å¦‚ï¼šint y &#x3D; x &#x3D; 5;  â€”â€“&gt;  ç»“æœæ˜¯ï¼šy &#x3D; 5;</p><p>+&#x3D;ç­‰æœ‰â€˜&#x3D;â€˜çš„è¿ç®—ç¬¦éƒ½æ˜¯å³ç»“åˆè¿ç®—ç¬¦ï¼Œ</p><p>â€‹    å³ a+&#x3D;b+&#x3D;c  &lt;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt; a+&#x3D;(b+&#x3D;c)</p><h3 id="3-6å­—ç¬¦ä¸²"><a href="#3-6å­—ç¬¦ä¸²" class="headerlink" title="3.6å­—ç¬¦ä¸²"></a>3.6å­—ç¬¦ä¸²</h3><h4 id="å­—ç¬¦ä¸²ä¸å¯å˜ï¼š"><a href="#å­—ç¬¦ä¸²ä¸å¯å˜ï¼š" class="headerlink" title="å­—ç¬¦ä¸²ä¸å¯å˜ï¼š"></a>å­—ç¬¦ä¸²ä¸å¯å˜ï¼š</h4><p>â€‹æˆ‘ä»¬ä¸èƒ½ä¿®æ”¹Stringå¯¹è±¡ä¸­çš„æŸä¸ªå­—ç¬¦ï¼Œåªèƒ½å°†æŒ‡å‘æŸä¸ªStringå¯¹è±¡çš„å¼•ç”¨æŒ‡å‘æ–°çš„Stringå¯¹è±¡æ¥å®ç°å¯¹ç”¨æˆ·è€Œè¨€çš„ä¿®æ”¹å­—ç¬¦ä¸²ã€‚</p><p>â€‹ç”±äºjavaä¸­ä¿®æ”¹å­—ç¬¦ä¸²éœ€è¦é‡æ–°åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æœä¿®æ”¹åçš„å­—ç¬¦ä¸²ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆéœ€è¦é‡æ–°åˆ›å»º(æ•ˆç‡å¾ˆä½)ï¼Œ</p><p>ä½†æ˜¯ä¸å¯å˜å­—ç¬¦ä¸²æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜ç‚¹ï¼š<strong>ç¼–è¯‘å™¨å¯ä»¥è®©å­—ç¬¦ä¸²å…±äº«</strong>ï¼</p><p>â€‹javaè®¾è®¡è€…è®¤ä¸ºï¼šå…±äº«å¸¦æ¥çš„é«˜æ•ˆç‡è¿œè¶…è¿‡ç¼–è¾‘å­—ç¬¦ä¸²å¸¦æ¥çš„ä½æ•ˆç‡</p><h4 id="æ£€æµ‹å­—ç¬¦ä¸²ç›¸ç­‰ï¼š"><a href="#æ£€æµ‹å­—ç¬¦ä¸²ç›¸ç­‰ï¼š" class="headerlink" title="æ£€æµ‹å­—ç¬¦ä¸²ç›¸ç­‰ï¼š"></a>æ£€æµ‹å­—ç¬¦ä¸²ç›¸ç­‰ï¼š</h4><p>â€‹javaä¸­ ä»…ä»…æ˜¯å­—ç¬¦ä¸²å­—é¢é‡æ‰å®ç°äº†å…±äº« (è€Œ+æˆ–substringå¾—åˆ°çš„å­—ç¬¦ä¸²å¹¶ä¸å…±äº«)ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç»ç”±Stringç±»é‡å†™çš„equals()æ–¹æ³•åˆ¤æ–­å­—ç¬¦ä¸²ç›¸ç­‰ï¼Œè€Œä¸æ˜¯â€˜&#x3D;&#x3D;â€™</p><h4 id="String-APIï¼š"><a href="#String-APIï¼š" class="headerlink" title="String APIï¼š"></a>String APIï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨java.lang.StringåŒ…ä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(String other)</span>;<span class="comment">//å¦‚æœå­—ç¬¦ä¸²ä½äºother(å°äºother),åˆ™è¿”å›ä¸€ä¸ªè´Ÿæ•°ï¼Œç›¸ç­‰è¿”å›0,...</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span>;<span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²â€œâ€</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isBlank</span><span class="params">()</span>;<span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸² æˆ– åªç”±ç©ºæ ¼ç»„æˆï¼</span></span><br><span class="line">......</span><br></pre></td></tr></table></figure><h4 id="æ„å»ºå­—ç¬¦ä¸²ï¼š"><a href="#æ„å»ºå­—ç¬¦ä¸²ï¼š" class="headerlink" title="æ„å»ºå­—ç¬¦ä¸²ï¼š"></a>æ„å»ºå­—ç¬¦ä¸²ï¼š</h4><p>â€‹å¦‚æœéœ€è¦ä½¿ç”¨è®¸å¤šçŸ­å­—ç¬¦ä¸²æ„å»ºä¸€ä¸ªé•¿å­—ç¬¦ä¸²ï¼Œå¦‚æœä½¿ç”¨Stringç±»å‹ï¼Œä¼šå¯¼è‡´æ¯æ¬¡æ‹¼æ¥å­—ç¬¦ä¸²éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„Stringå¯¹è±¡â€”â€“è€—æ—¶+è€—ç©ºé—´(åŸç†æ˜¯ä¼šåˆ›å»ºä¸€ä¸ªStringBuilderï¼Œä½¿ç”¨appendï¼Œå†ä½¿ç”¨toStringï¼Œåœ¨java9ä¹‹åè¿›è¡Œäº†ä¼˜åŒ–ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å°½æƒ…ä½¿ç”¨+äº†)</p><p>â€‹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨StringBuilder&#x2F;Buffer(å­—ç¬¦ä¸²æ„é€ å™¨)ç±»é¿å…æ­¤ç±»é—®é¢˜ï¼</p><p>ä»¥ä¸‹ä¸¤ä¸ªAPIä½œç”¨ç›¸åŒ</p><p>â€‹Â· StringBuilderåªé€‚åˆå•çº¿ç¨‹æƒ…å†µï¼Œä½†æ•ˆç‡é«˜</p><p>â€‹Â· StringBufferæ˜¯çº¿ç¨‹å®‰å…¨çš„</p><h4 id="æ–‡æœ¬å—ï¼š"><a href="#æ–‡æœ¬å—ï¼š" class="headerlink" title="æ–‡æœ¬å—ï¼š"></a>æ–‡æœ¬å—ï¼š</h4><p>â€‹å¯ä»¥å®¹æ˜“åœ°æä¾›è·¨å¤šè¡Œçš„å­—ç¬¦ä¸²å­—é¢é‡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ ¼å¼ï¼š</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">hello</span></span><br><span class="line"><span class="string">world!</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">//æ–‡æœ¬å—é€‚åˆåŒ…å«ç”¨å…¶ä»–è¯­è¨€ç¼–å†™çš„ä»£ç ï¼Œå¦‚ SQL å’Œ HTML ä»£ç </span></span><br></pre></td></tr></table></figure><hr><h4 id="String-s1-x3D-new-String-â€œabcâ€-è¿™å¥è¯åˆ›å»ºäº†å‡ ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Ÿ"><a href="#String-s1-x3D-new-String-â€œabcâ€-è¿™å¥è¯åˆ›å»ºäº†å‡ ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Ÿ" class="headerlink" title="String s1 &#x3D; new String(â€œabcâ€);è¿™å¥è¯åˆ›å»ºäº†å‡ ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Ÿ"></a>String s1 &#x3D; new String(â€œabcâ€);è¿™å¥è¯åˆ›å»ºäº†å‡ ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Ÿ</h4><p>â€‹1ã€å¦‚æœå­—ç¬¦ä¸²**å¸¸é‡æ± ä¸­ä¸å­˜åœ¨å­—ç¬¦ä¸²å¯¹è±¡â€œabcâ€<u>çš„å¼•ç”¨</u>**ï¼Œé‚£ä¹ˆä¼šåœ¨å †ä¸­åˆ›å»º 2 ä¸ªå­—ç¬¦ä¸²å¯¹è±¡â€œabcâ€ã€‚</p><p>â€‹2ã€å¦‚æœå­—ç¬¦ä¸²**å¸¸é‡æ± ä¸­å·²å­˜åœ¨å­—ç¬¦ä¸²å¯¹è±¡â€œabcâ€<u>çš„å¼•ç”¨</u>**ï¼Œåˆ™åªä¼šåœ¨å †ä¸­åˆ›å»º 1 ä¸ªå­—ç¬¦ä¸²å¯¹è±¡â€œabcâ€ã€‚</p><hr><h3 id="String-intern-æ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨"><a href="#String-intern-æ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨" class="headerlink" title="String#intern æ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨?"></a>String#intern æ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨?</h3><p>â€‹<code>String.intern()</code> æ˜¯ä¸€ä¸ª nativeï¼ˆæœ¬åœ°ï¼‰æ–¹æ³•ï¼Œå…¶ä½œç”¨æ˜¯å°†æŒ‡å®šçš„å­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨ä¿å­˜åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œå¯ä»¥ç®€å•åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p><ul><li>å¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ä¿å­˜äº†å¯¹åº”çš„å­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨ï¼Œå°±ç›´æ¥è¿”å›è¯¥å¼•ç”¨ã€‚</li><li>å¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ²¡æœ‰ä¿å­˜å¯¹åº”çš„å­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨ï¼Œé‚£å°±åœ¨<strong>å¸¸é‡æ± ä¸­åˆ›å»ºä¸€ä¸ª</strong>æŒ‡å‘è¯¥å­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨å¹¶è¿”å›ã€‚</li></ul><hr><p><strong>å¯¹äºç¼–è¯‘æœŸå¯ä»¥ç¡®å®šå€¼çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯å¸¸é‡å­—ç¬¦ä¸² ï¼Œjvm ä¼šå°†å…¶å­˜å…¥å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚å¹¶ä¸”ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ‹¼æ¥å¾—åˆ°çš„å­—ç¬¦ä¸²å¸¸é‡åœ¨ç¼–è¯‘é˜¶æ®µå°±å·²ç»è¢«å­˜æ”¾å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œè¿™ä¸ªå¾—ç›Šäºç¼–è¯‘å™¨çš„ä¼˜åŒ–ã€‚</strong></p><h3 id="3-7è¾“å…¥ä¸è¾“å‡º"><a href="#3-7è¾“å…¥ä¸è¾“å‡º" class="headerlink" title="3.7è¾“å…¥ä¸è¾“å‡º"></a>3.7è¾“å…¥ä¸è¾“å‡º</h3><h4 id="è¯»å–è¾“å…¥ï¼š"><a href="#è¯»å–è¾“å…¥ï¼š" class="headerlink" title="è¯»å–è¾“å…¥ï¼š"></a>è¯»å–è¾“å…¥ï¼š</h4><p>â€‹1.æ„é€ ä¸â€æ ‡å‡†è¾“å…¥æµâ€ System.in å…³è”çš„Scannerå¯¹è±¡</p><p>â€‹Scanner in &#x3D; new Scanner(System.in);</p><p>â€‹2.ç°åœ¨ï¼Œå¯ä»¥ä½¿ç”¨Scannerç±»çš„inå¯¹è±¡æ¥è°ƒç”¨Scannerç±»ä¸­çš„å„ç§APIæ¥è¯»å–è¾“å…¥äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// in java.util.Scanner</span></span><br><span class="line">nextLine() <span class="comment">//read hole line</span></span><br><span class="line">next()     <span class="comment">//read a word </span></span><br><span class="line">nextInt()  <span class="comment">//read an Integer</span></span><br><span class="line"><span class="comment">//so as nextDouble() and so on...</span></span><br></pre></td></tr></table></figure><h4 id="æ ¼å¼åŒ–è¾“å‡ºï¼š"><a href="#æ ¼å¼åŒ–è¾“å‡ºï¼š" class="headerlink" title="æ ¼å¼åŒ–è¾“å‡ºï¼š"></a>æ ¼å¼åŒ–è¾“å‡ºï¼š</h4><p>â€‹é€šè¿‡ System.out.<strong>printf</strong>() æ–¹æ³• æ¥è‡ªè¡Œå®šåˆ¶è¾“å‡ºçš„ç‰¹æ®Šéœ€æ±‚</p><h4 id="æ–‡ä»¶è¾“å…¥ä¸è¾“å‡ºï¼š"><a href="#æ–‡ä»¶è¾“å…¥ä¸è¾“å‡ºï¼š" class="headerlink" title="æ–‡ä»¶è¾“å…¥ä¸è¾“å‡ºï¼š"></a>æ–‡ä»¶è¾“å…¥ä¸è¾“å‡ºï¼š</h4><p>â€‹<strong>itâ€™s wise to æ ¹æ®æ–‡ä»¶çš„ç¼–ç ç±»å‹é€‰æ‹©å“åº”çš„ç¼–ç æ–¹å¼ï¼Œå¦‚æœä¸å¡«ä¼šä½¿ç”¨ä¸»æœºçš„é»˜è®¤ç¼–ç ï¼Œè¿™å¯èƒ½å¯¼è‡´é”™è¯¯</strong></p><h5 id="æ–‡ä»¶è¾“å…¥ï¼š"><a href="#æ–‡ä»¶è¾“å…¥ï¼š" class="headerlink" title="æ–‡ä»¶è¾“å…¥ï¼š"></a>æ–‡ä»¶è¾“å…¥ï¼š</h5><p>â€‹Scanner in &#x3D; new Scanner(Path.of(â€œthe path of fileâ€), StandardCharsets.UTF_8);</p><h5 id="æ–‡ä»¶å†™å…¥ï¼š"><a href="#æ–‡ä»¶å†™å…¥ï¼š" class="headerlink" title="æ–‡ä»¶å†™å…¥ï¼š"></a>æ–‡ä»¶å†™å…¥ï¼š</h5><p>â€‹æˆ‘ä»¬éœ€è¦æ„é€ PrintWriterå¯¹è±¡ï¼š</p><p>â€‹PrintWriter out &#x3D; new PrintWriter(â€œmyfile.txtâ€, StandardCharsets.UTF_8);&#x2F;&#x2F;æ²¡æœ‰è¯¥æ–‡ä»¶å°±ä¼šè‡ªåŠ¨åˆ›å»ºè¿™ä¸ªåå­—çš„æ–‡ä»¶<br>â€‹è¾“å‡ºå°±out.println(â€œâ€)è¿™ç§å°±å¯ä»¥äº†ï¼</p><ul><li><p>å¦‚æœä½¿ç”¨äº†ç›¸å¯¹è·¯å¾„ï¼Œé‚£ä¹ˆæ–‡ä»¶å°†ç›¸å¯¹äº<strong>å¯åŠ¨javaè™šæ‹Ÿæœºçš„é‚£ä¸ªç›®å½•æ”¾ç½®</strong>ï¼Œ</p><p>â€”â€”â€”â€”â€”â€”æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤æ‰¾åˆ°è¿™ä¸ªç›®å½•çš„ä½ç½®ï¼šString dir &#x3D; System.getProperty(â€œuser.dirâ€);</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java.util.Scanner</span></span><br><span class="line">Scanner(Path p, String encoding);<span class="comment">//æ„é€ ä¸€ä¸ªScannerï¼Œå…¶ä½¿ç”¨ç»™å®šçš„ç¼–ç æ–¹å¼ä»ç»™å®šè·¯å¾„è¯»å–æ•°æ®</span></span><br><span class="line"></span><br><span class="line">Scanner(String data);<span class="comment">//ä»ç»™å®šçš„å­—ç¬¦ä¸²ä¸­è¯»å–æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//java.io.PrintWriter</span></span><br><span class="line">PrintWriter(String fileName);<span class="comment">//æ„é€ ä¸€ä¸ªPrintWriterï¼Œå°†æ•°æ®å†™å…¥æŒ‡å®šæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//java.nio.file.Path</span></span><br><span class="line"><span class="keyword">static</span> Path <span class="title function_">of</span><span class="params">(String pathname)</span>;<span class="comment">//ç”±ç»™å®šè·¯å¾„æ„é€ ä¸€ä¸ªPathå¯¹è±¡</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="3-8æ§åˆ¶æµç¨‹"><a href="#3-8æ§åˆ¶æµç¨‹" class="headerlink" title="3.8æ§åˆ¶æµç¨‹"></a>3.8æ§åˆ¶æµç¨‹</h3><p>â€‹switchè¯­å¥ä¼šä»ä¸é€‰é¡¹å€¼ç›¸åŒ¹é…çš„caseæ ‡ç­¾å¼€å§‹æ‰§è¡Œï¼Œ<strong>ç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªbreakè¯­å¥ç»“æŸ</strong>ã€‚â€”â€”â€“ç©¿é€æ€§ï¼</p><p>â€‹switchè¡¨è¾¾å¼ä¸­ 1.caseåä»¥ï¼šç»“å°¾ï¼Œåˆ™ä¸ºç›´é€šå¼switch  2.caseåä»¥-&gt;ç»“å°¾ï¼Œåˆ™ä¸ºéç›´é€šå¼switch</p><p>â€‹switchæœ‰<strong>è¯­å¥å½¢å¼</strong>(å¦‚æœæ€ä¹ˆæ ·ï¼Œå°±åšä»€ä¹ˆæ“ä½œ)å’Œ<strong>è¡¨è¾¾å¼å½¢å¼</strong>(å¦‚æœæ€ä¹ˆæ ·ï¼Œå°±è¿”å›ä»€ä¹ˆå€¼)</p><p>â€‹æ€§èƒ½æ¯”è¾ƒï¼šå®ç°åŒæ ·çš„åŠŸèƒ½æ—¶ï¼Œ<strong>switchè¡¨è¾¾å¼çš„æ€§èƒ½ä¼˜äºswitchè¯­å¥</strong></p><h3 id="3-9å¤§æ•°"><a href="#3-9å¤§æ•°" class="headerlink" title="3.9å¤§æ•°"></a>3.9å¤§æ•°</h3><p>BigIntegerå’ŒBigDecimalç±»å¯ä»¥å¤„ç†ä»»æ„é•¿åº¦çš„æ•°å­—æ•°åˆ—çš„æ•°å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java.math.BigInteger</span></span><br><span class="line"><span class="comment">//â¬‡ï¸å®ç°å¤§æ•°çš„åŸºæœ¬æ“ä½œï¼ŒåŒ…æ‹¬å¼€æ–¹ã€å–æ¨¡ã€æ¯”è¾ƒç­‰æ“ä½œ</span></span><br><span class="line">BigInteger add/subtract/multiply/divide/mod/sqrt/compareTo(BigInteger other);</span><br><span class="line"><span class="keyword">static</span> BigInteger <span class="title function_">valueOf</span><span class="params">(<span class="type">long</span> x)</span>; å°†æ•´æ•°ç±»å‹è½¬æ¢ä¸ºå¤§æ•°</span><br><span class="line">  <span class="keyword">static</span> BigInteger <span class="title function_">valueOf</span><span class="params">(String str)</span>; å°†Stringç±»å‹è½¬æ¢ä¸ºå¤§æ•°</span><br><span class="line"></span><br><span class="line"><span class="comment">//java.math.BigDecimal</span></span><br><span class="line">  <span class="keyword">static</span> BigDecimal <span class="title function_">valueOf</span><span class="params">(String str)</span>; å°†Stringç±»å‹è½¬æ¢ä¸ºå¤§æ•°</span><br><span class="line">    ğŸŒŸä½¿ç”¨BigDecimalç±»æ—¶ï¼Œæˆ‘ä»¬åº”å½“æ€»æ˜¯ä½¿ç”¨ å¸¦å­—ç¬¦ä¸²çš„æ„é€ å™¨ç”Ÿæˆå¤§æ•°</span><br></pre></td></tr></table></figure><h3 id="3-10æ•°ç»„"><a href="#3-10æ•°ç»„" class="headerlink" title="3.10æ•°ç»„"></a>3.10æ•°ç»„</h3><h4 id="å£°æ˜æ•°ç»„"><a href="#å£°æ˜æ•°ç»„" class="headerlink" title="å£°æ˜æ•°ç»„:"></a>å£°æ˜æ•°ç»„:</h4><p>â€‹å¯ä»¥ä½¿ç”¨ int[] arr &#x3D; {1,2,3,4};</p><p>â€‹è€Œä¸å¿… int[]arr &#x3D; new int[] {1,2,3,4};</p><h4 id="æ•°ç»„æ‹·è´ï¼š"><a href="#æ•°ç»„æ‹·è´ï¼š" class="headerlink" title="æ•°ç»„æ‹·è´ï¼š"></a>æ•°ç»„æ‹·è´ï¼š</h4><h5 id="Arrays-copy-çš„ä½¿ç”¨"><a href="#Arrays-copy-çš„ä½¿ç”¨" class="headerlink" title="Arrays.copy()çš„ä½¿ç”¨"></a><strong>Arrays.copy()çš„ä½¿ç”¨</strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.ä½¿ç”¨Arrays.copy(åŸæ•°ç»„ï¼ŒåŸæ•°ç»„çš„å‰nä½ å¦‚æœn &gt; åŸæ•°ç»„é•¿åº¦ï¼Œåˆ™ä¸å¤Ÿçš„è¡¥é»˜è®¤å€¼)è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„</span></span><br></pre></td></tr></table></figure><h5 id="System-arraycopy-çš„ä½¿ç”¨"><a href="#System-arraycopy-çš„ä½¿ç”¨" class="headerlink" title="System.arraycopy()çš„ä½¿ç”¨"></a>System.arraycopy()çš„ä½¿ç”¨</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>      src      the source array. æºæ•°ç»„</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>      srcPos   starting position in the source array. æºæ•°ç»„çš„èµ·å§‹ä½ç½®</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>      dest     the destination array. ç›®æ ‡æ•°ç»„</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>      destPos  starting position in the destination data. ç›®æ ‡æ•°ç»„çš„èµ·å§‹ä½ç½®</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>      length   the number of array elements to be copied. å¤åˆ¶çš„é•¿åº¦</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">arraycopy(Object src,<span class="type">int</span> srcPos,Object dest, <span class="type">int</span> destPos, <span class="type">int</span> length)ï¼›</span><br></pre></td></tr></table></figure><ul><li>å¤šç»´æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå› è€Œå¤šç»´æ•°ç»„çš„å„ä¸ªå…ƒç´ çš„ç»“æ„ä¸å¿…ç›¸åŒï¼Œä¾‹å¦‚äºŒç»´æ•°ç»„æ¯è¡Œçš„é•¿åº¦å¯ä»¥ä¸ç›¸åŒï¼</li></ul><p>â€‹</p><h2 id="Chapter4â€”â€”å¯¹è±¡ä¸ç±»"><a href="#Chapter4â€”â€”å¯¹è±¡ä¸ç±»" class="headerlink" title="Chapter4â€”â€”å¯¹è±¡ä¸ç±»"></a>Chapter4â€”â€”å¯¹è±¡ä¸ç±»</h2><h3 id="4-1é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡æ¦‚è¿°"><a href="#4-1é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡æ¦‚è¿°" class="headerlink" title="4.1é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡æ¦‚è¿°"></a>4.1é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡æ¦‚è¿°</h3><h4 id="OOPä¸‰å¤§ç‰¹æ€§ï¼š"><a href="#OOPä¸‰å¤§ç‰¹æ€§ï¼š" class="headerlink" title="OOPä¸‰å¤§ç‰¹æ€§ï¼š"></a>OOPä¸‰å¤§ç‰¹æ€§ï¼š</h4><h5 id="å°è£…ï¼š"><a href="#å°è£…ï¼š" class="headerlink" title="å°è£…ï¼š"></a>å°è£…ï¼š</h5><p>â€‹å°†æ•°æ®å’Œè¡Œä¸ºç»„åˆåœ¨ä¸€ä¸ªåŒ…ä¸­ï¼Œå¹¶å¯¹å¯¹è±¡çš„ä½¿ç”¨è€…éšè—å…·ä½“çš„å®ç°ç»†èŠ‚ã€‚</p><h5 id="ç»§æ‰¿ï¼š"><a href="#ç»§æ‰¿ï¼š" class="headerlink" title="ç»§æ‰¿ï¼š"></a>ç»§æ‰¿ï¼š</h5><p>â€‹é€šè¿‡æ‰©å±•ä¸€ä¸ªç±»æ¥å¾—åˆ°å¦å¤–ä¸€ä¸ªç±»</p><h5 id="å¤šæ€ï¼š"><a href="#å¤šæ€ï¼š" class="headerlink" title="å¤šæ€ï¼š"></a>å¤šæ€ï¼š</h5><p>â€‹</p><h4 id="å¯¹è±¡çš„ä¸‰ä¸ªç‰¹æ€§ï¼š"><a href="#å¯¹è±¡çš„ä¸‰ä¸ªç‰¹æ€§ï¼š" class="headerlink" title="å¯¹è±¡çš„ä¸‰ä¸ªç‰¹æ€§ï¼š"></a>å¯¹è±¡çš„ä¸‰ä¸ªç‰¹æ€§ï¼š</h4><ul><li>behaviorï¼šå¯ä»¥å¯¹å¯¹è±¡åšå“ªäº›æ“ä½œ</li><li>stateï¼šå¯¹è±¡ä¿å­˜ç€å½“å‰çŠ¶æ€çš„ä¿¡æ¯ï¼›âš ï¸<strong>å¯¹è±¡çš„çŠ¶æ€åªèƒ½é€šè¿‡è°ƒç”¨æ–¹æ³•è€Œæ”¹å˜</strong>ï¼Œå¦åˆ™å°±è¿èƒŒäº†ç±»çš„<strong>å°è£…æ€§</strong></li><li>identityï¼šç”¨äºåŒºåˆ†å…·æœ‰ç›¸åŒè¡Œä¸ºå’ŒçŠ¶æ€çš„ä¸åŒå¯¹è±¡</li></ul><h3 id="4-2ä½¿ç”¨é¢„å®šä¹‰ç±»"><a href="#4-2ä½¿ç”¨é¢„å®šä¹‰ç±»" class="headerlink" title="4.2ä½¿ç”¨é¢„å®šä¹‰ç±»"></a>4.2ä½¿ç”¨é¢„å®šä¹‰ç±»</h3><p>ä½¿ç”¨ å¯¹è±¡å˜é‡ å¼•ç”¨ å®é™…åˆ›å»ºå¯¹è±¡çš„ç©ºé—´</p><ul><li>javaä¸­<strong>æ‰€æœ‰å¯¹è±¡éƒ½å­˜å‚¨åœ¨å †ä¸­</strong>ï¼Œå½“ä¸€ä¸ªå¯¹è±¡åŒ…å«å¦ä¸€å¯¹è±¡å˜é‡æ—¶ï¼Œå®ƒåªæ˜¯åŒ…å«äº†å¦ä¸€ä¸ªå †ä¸­å¯¹è±¡çš„æŒ‡é’ˆã€‚</li></ul><p><strong><u>è®¿é—®å™¨</u>æ–¹æ³•</strong>ï¼šåªè®¿é—®å¯¹è±¡è€Œä¸ä¿®æ”¹å¯¹è±¡çš„æ–¹æ³•æ¯”å¦‚LocalDateçš„plusDaysæ–¹æ³•ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡è€Œä¸æ˜¯åœ¨åŸå¯¹è±¡ä¸Šä¿®æ”¹</p><p><strong><u>æ›´æ”¹å™¨</u>æ–¹æ³•</strong>ï¼šä¼šä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€çš„æ–¹æ³•</p><h3 id="4-3è‡ªå®šä¹‰ç±»"><a href="#4-3è‡ªå®šä¹‰ç±»" class="headerlink" title="4.3è‡ªå®šä¹‰ç±»"></a>4.3è‡ªå®šä¹‰ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¼–è¯‘æµç¨‹ï¼šå½“ç¼–è¯‘å™¨å‘ç°EmployeeTest.javaä¸­ä½¿ç”¨äº†Employeeç±»æ—¶ï¼Œå®ƒä¼šæŸ¥æ‰¾åä¸ºEmployee.classçš„.classæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šè‡ªåŠ¨æœç´¢Employee.javaæ–‡ä»¶å¹¶å¯¹å…¶è¿›è¡Œç¼–è¯‘(ç¼–è¯‘æˆ.classæ–‡ä»¶)</span></span><br></pre></td></tr></table></figure><p> Java10 åŠä»¥åï¼Œå¯ä»¥ä½¿ç”¨varå£°æ˜å±€éƒ¨å˜é‡(if ç­‰å·å³è¾¹çš„æ•°æ®ç±»å‹å¾ˆæ˜ç¡®)    è¿™å¾ˆæ–¹ä¾¿(å‡å°‘äº†å†™ç±»åçš„æ¬¡æ•°)</p><h4 id="nullå¼•ç”¨ï¼š"><a href="#nullå¼•ç”¨ï¼š" class="headerlink" title="nullå¼•ç”¨ï¼š"></a>nullå¼•ç”¨ï¼š</h4><p>â€‹å¯¹äºè‡ªå®šä¹‰ç±»ä¸­çš„å‚æ•°ï¼Œå¦‚æœå«æœ‰å¯¹è±¡å¼•ç”¨ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡ç±»æ—¶å°±åº”å½“æ˜ç¡®æ˜¯å¦èƒ½æ¥å—è¯¥å¼•ç”¨å€¼ä¸ºnullçš„æƒ…å†µ(å› ä¸ºè‹¥å¯¹è±¡å¼•ç”¨ä¸ºnullå¯èƒ½é€ æˆNullPointerExceptionå¼‚å¸¸ï¼Œè€Œæˆ‘ä»¬ä¸å®¹æ˜“å¯Ÿè§‰å‡ºé”™çš„åŸå› )ï¼Œå¦‚æœæˆ‘ä»¬æ˜ç¡®åœ°å¸Œæœ›å¯¹è±¡å¼•ç”¨ä¸ä¸ºnullï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼š</p><p>ä»¥å¯¹è±¡å¼•ç”¨â€œnameâ€ä¸ºä¾‹ï¼š</p><ul><li>name &#x3D; Objects.requireNonNullElse(n, â€œunknownâ€)&#x2F;&#x2F;nä¸ºæ„é€ å™¨ä¸­å¯¹åº”çš„å½¢å‚ ï¼Œè¿™ç§æ–¹å¼æ„é€ å‡ºçš„å¯¹è±¡çš„nameå¦‚æœä¸ºnullï¼Œä¼šæœ‰é»˜è®¤å€¼â€œunknownâ€</li><li>name &#x3D; Objects.requireNonNull(n, â€œThe name cannot be nullâ€);     &#x2F;&#x2F;è¿™ç§æ–¹å¼åœ¨æ„é€ å‡ºname &#x3D; nullçš„å¯¹è±¡æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ˜ç¡®æŒ‡å‡ºè¯¥é—®é¢˜</li></ul><h4 id="éšå¼å‚æ•°ä¸æ˜¾å¼å‚æ•°ï¼š"><a href="#éšå¼å‚æ•°ä¸æ˜¾å¼å‚æ•°ï¼š" class="headerlink" title="éšå¼å‚æ•°ä¸æ˜¾å¼å‚æ•°ï¼š"></a>éšå¼å‚æ•°ä¸æ˜¾å¼å‚æ•°ï¼š</h4><p>â€‹å¯¹äºç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒå«æœ‰éšå¼å‚æ•°å’Œæ˜¾å¼å‚æ•°ä¸¤ç§å‚æ•°ï¼Œæ˜¾å¼å‚æ•°åŠæˆ‘ä»¬å¸¸å†™çš„å½¢å‚ï¼›<strong>éšå¼å‚æ•°</strong>æ˜¯æ–¹æ³•çš„è°ƒç”¨è€…&#x2F;æ¥æ”¶è€…ï¼Œåœ¨æ¯ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œå…³é”®è¯thisæŒ‡ç¤ºéšå¼å‚æ•°ã€‚</p><h4 id="finalå­—æ®µï¼š"><a href="#finalå­—æ®µï¼š" class="headerlink" title="finalå­—æ®µï¼š"></a>finalå­—æ®µï¼š</h4><p>å¿…é¡»åœ¨æ„é€ å¯¹è±¡æ—¶åˆå§‹åŒ–</p><p><strong>å¦‚æœfinalä¿®é¥°äº†ä¸€ä¸ªå¼•ç”¨å˜é‡ï¼Œé‚£ä¹ˆè¯¥å˜é‡æŒ‡å‘çš„åœ°å€ä¸ä¼šæ”¹å˜ï¼Œä½†æ˜¯è¯¥åœ°å€è¡¨ç¤ºçš„å¯¹è±¡ç©ºé—´ä¸­çš„å†…å®¹æ˜¯å¯ä»¥æ”¹å˜çš„ï¼</strong></p><p>ä¾‹å¦‚final int[] arrï¼› &#x2F;&#x2F;arrçš„åœ°å€ä¸ä¼šå˜äº†ï¼Œä½†æ˜¯arræ•°ç»„ä¸­çš„å†…å®¹ä»å¯å˜</p><h3 id="4-4é™æ€å­—æ®µå’Œé™æ€æ–¹æ³•"><a href="#4-4é™æ€å­—æ®µå’Œé™æ€æ–¹æ³•" class="headerlink" title="4.4é™æ€å­—æ®µå’Œé™æ€æ–¹æ³•"></a>4.4é™æ€å­—æ®µå’Œé™æ€æ–¹æ³•</h3><h4 id="é™æ€å­—æ®µï¼š"><a href="#é™æ€å­—æ®µï¼š" class="headerlink" title="é™æ€å­—æ®µï¼š"></a>é™æ€å­—æ®µï¼š</h4><p>â€‹ç±»ä¸­çš„é™æ€å­—æ®µåªæœ‰ä¸€ä¸ªå‰¯æœ¬</p><p>â€‹<strong>é™æ€å­—æ®µå±äºç±»</strong>è€Œä¸ä¸å¯¹è±¡ç›¸å…³ï¼</p><p>â€‹Systemç±»ä¸­çš„ out å°±æ˜¯ä¸€ä¸ªé™æ€çš„å­—æ®µ(ç±»å‹ä¸º PrintStream )</p><h4 id="é™æ€æ–¹æ³•ï¼š"><a href="#é™æ€æ–¹æ³•ï¼š" class="headerlink" title="é™æ€æ–¹æ³•ï¼š"></a>é™æ€æ–¹æ³•ï¼š</h4><p>â€‹é™æ€æ–¹æ³•æ˜¯<strong>ä¸æ“ä½œå¯¹è±¡</strong>çš„æ–¹æ³•( æ¢å¥è¯è¯´ï¼Œé™æ€æ–¹æ³•ä¸­æ²¡æœ‰éšå¼å‚æ•°ï¼)</p><p>â€‹åªèƒ½è°ƒç”¨é™æ€å­—æ®µ</p><h4 id="å·¥å‚æ–¹æ³•ï¼š"><a href="#å·¥å‚æ–¹æ³•ï¼š" class="headerlink" title="å·¥å‚æ–¹æ³•ï¼š"></a>å·¥å‚æ–¹æ³•ï¼š</h4><p>â€‹å¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³•ä½œä¸ºå·¥å‚æ–¹æ³•â€”-&gt;é€šè¿‡è¯¥æ–¹æ³•è€Œä¸æ˜¯æ„é€ å™¨æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºå¯¹è±¡</p><p>â€‹å¥½å¤„ï¼šå› ä¸ºæˆ‘ä»¬å¯ä»¥æ„é€ å‡ºå…¶å­ç±»(æ„é€ å™¨åªèƒ½åˆ›å»ºæœ¬ç±»çš„å¯¹è±¡)ï¼Œå¹¶ä¸”å¦‚æœä½¿ç”¨é™æ€æ–¹æ³•å°±å¯ä»¥è®¾ç½®åˆé€‚çš„åå­—ä¸è¯¥å­ç±»çš„åŠŸèƒ½ç›¸å»åˆ;</p><h3 id="4-5æ–¹æ³•å‚æ•°"><a href="#4-5æ–¹æ³•å‚æ•°" class="headerlink" title="4.5æ–¹æ³•å‚æ•°"></a>4.5æ–¹æ³•å‚æ•°</h3><h4 id="å€¼è°ƒç”¨-call-by-value"><a href="#å€¼è°ƒç”¨-call-by-value" class="headerlink" title="å€¼è°ƒç”¨(call by value)"></a>å€¼è°ƒç”¨(call by value)</h4><h4 id="å¼•ç”¨è°ƒç”¨-call-by-reference"><a href="#å¼•ç”¨è°ƒç”¨-call-by-reference" class="headerlink" title="å¼•ç”¨è°ƒç”¨(call by reference)"></a>å¼•ç”¨è°ƒç”¨(call by reference)</h4><p>â€‹Â·æ–¹æ³•æ¥æ”¶è°ƒç”¨è€…æä¾›çš„å˜é‡ä½ç½®</p><p>â€‹æœ¬è´¨æ˜¯ï¼šæ–¹æ³•åˆ›å»ºäº†å‰¯æœ¬ï¼Œå‰¯æœ¬ä¿å­˜äº†è°ƒç”¨è€…æä¾›çš„å˜é‡ä½ç½®ï¼Œä¸ä¼ å…¥çš„å®å‚æŒ‡å‘äº†ç›¸åŒçš„ä½ç½®(è¿™é‡ŒæŒ‡çš„æ˜¯å¯¹è±¡çš„ç©ºé—´)</p><p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<strong>å› æ­¤ï¼</strong>åœ¨æ–¹æ³•ä¸­äº¤æ¢ä¸¤ä¸ªæ¥æ”¶åˆ°çš„å½¢å‚æ˜¯ä¸èµ·ä½œç”¨çš„(å¯¹è°ƒç”¨è€…æ— å½±å“ï¼)ï¼Œ<strong>å› ä¸ºäº¤æ¢çš„æ˜¯å‰¯æœ¬</strong>ï¼ï¼&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p><p>æ€»ç»“ï¼š</p><ul><li>æ–¹æ³•ä¸èƒ½ä¿®æ”¹åŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°(å› ä¸ºæ˜¯å€¼è°ƒç”¨!)</li><li>æ–¹æ³•å¯ä»¥æ”¹å˜å¯¹è±¡å‚æ•°çš„çŠ¶æ€(æ”¹å˜å¯¹è±¡ä¸­çš„å­—æ®µå€¼ å³ æ”¹å˜å¯¹è±¡çŠ¶æ€)</li><li>æ–¹æ³•ä¸èƒ½è®©ä¸€ä¸ªå¯¹è±¡å‚æ•°å¼•ç”¨ä¸€ä¸ªæ–°çš„å¯¹è±¡(å› ä¸ºæœ¬è´¨æ˜¯å‰¯æœ¬æŒ‡å‘äº†æ–°çš„ä½ç½®ï¼Œè€Œå®å‚å¹¶æœªäº§ç”Ÿæ”¹å˜)</li></ul><h3 id="4-6å¯¹è±¡æ„é€ "><a href="#4-6å¯¹è±¡æ„é€ " class="headerlink" title="4.6å¯¹è±¡æ„é€ "></a>4.6å¯¹è±¡æ„é€ </h3><h4 id="é‡è½½ï¼š"><a href="#é‡è½½ï¼š" class="headerlink" title="é‡è½½ï¼š"></a>é‡è½½ï¼š</h4><p>â€‹æ–¹æ³•å…·æœ‰ç›¸åŒæ–¹æ³•åä½†æ˜¯æœ‰ä¸åŒçš„å‚æ•°</p><p>â€‹åœ¨javaä¸­ï¼Œ(æ–¹æ³•å+æ–¹æ³•ä½¿ç”¨çš„å‚æ•°)&#x3D;&#x3D;ç§°ä¸ºæ–¹æ³•ç­¾åï¼Œå¯ä»¥å”¯ä¸€ç¡®å®šä¸€ä¸ªæ–¹æ³•ã€‚è€Œæ–¹æ³•çš„è¿”å›å€¼ä¸å±äºæ–¹æ³•ç­¾åï¼Œå› æ­¤<strong>é‡è½½ä¸èƒ½åªæ˜¯è¿”å›å€¼ä¸åŒ</strong>(å› ä¸ºç¼–è¯‘å™¨æ— æ³•åˆ†è¾¨åº”å½“ä½¿ç”¨å“ªä¸ªæ–¹æ³•)</p><h4 id="é‡å†™ï¼š"><a href="#é‡å†™ï¼š" class="headerlink" title="é‡å†™ï¼š"></a>é‡å†™ï¼š</h4><p>â€‹é‡å†™å‘ç”Ÿåœ¨è¿è¡ŒæœŸï¼Œæ˜¯å­ç±»å¯¹çˆ¶ç±»çš„<strong>å…è®¸è®¿é—®çš„æ–¹æ³•</strong>çš„å®ç°è¿‡ç¨‹è¿›è¡Œé‡æ–°ç¼–å†™ã€‚</p><ol><li><u>æ–¹æ³•åã€å‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒ</u>ï¼Œå­ç±»æ–¹æ³•è¿”å›å€¼ç±»å‹åº”æ¯”çˆ¶ç±»æ–¹æ³•è¿”å›å€¼ç±»å‹<u>æ›´å°æˆ–ç›¸ç­‰</u>ï¼ŒæŠ›å‡ºçš„<u>å¼‚å¸¸èŒƒå›´å°äºç­‰äºçˆ¶ç±»</u>ï¼Œ<u>è®¿é—®ä¿®é¥°ç¬¦èŒƒå›´å¤§äºç­‰äºçˆ¶ç±»</u>ã€‚</li><li>å¦‚æœçˆ¶ç±»æ–¹æ³•è®¿é—®ä¿®é¥°ç¬¦ä¸º <code>private/final/static</code> åˆ™å­ç±»å°±ä¸èƒ½é‡å†™è¯¥æ–¹æ³•ï¼Œä½†æ˜¯è¢« <code>static</code> ä¿®é¥°çš„æ–¹æ³•èƒ½å¤Ÿè¢«å†æ¬¡å£°æ˜ã€‚</li><li>æ„é€ æ–¹æ³•æ— æ³•è¢«é‡å†™</li></ol><h4 id="é»˜è®¤å­—æ®µåˆå§‹åŒ–ï¼š"><a href="#é»˜è®¤å­—æ®µåˆå§‹åŒ–ï¼š" class="headerlink" title="é»˜è®¤å­—æ®µåˆå§‹åŒ–ï¼š"></a>é»˜è®¤å­—æ®µåˆå§‹åŒ–ï¼š</h4><p>â€‹åœ¨å¯¹è±¡åˆ›å»ºæ—¶ï¼Œå¦‚æœæ„é€ å™¨æ²¡æœ‰å¯¹æŸäº›å­—æ®µèµ‹å€¼ï¼Œé‚£ä¹ˆè¿™äº›å­—æ®µå°†ä¼šè¢«èµ‹é»˜è®¤å€¼(0ã€falseã€null)</p><h4 id="æ— å‚æ„é€ å™¨ï¼š"><a href="#æ— å‚æ„é€ å™¨ï¼š" class="headerlink" title="æ— å‚æ„é€ å™¨ï¼š"></a>æ— å‚æ„é€ å™¨ï¼š</h4><p>â€‹å¦‚æœä½ å†™çš„ç±»<strong>æ²¡æœ‰æ„é€ å™¨</strong>ï¼Œç³»ç»Ÿä¼š<strong>æä¾›é»˜è®¤æ— å‚æ„é€ å™¨</strong>ï¼Œä½†æ˜¯ä½†å‡¡ä½ å†™äº†ä¸€ä¸ªæ„é€ å™¨ï¼Œç³»ç»Ÿå°±ä¸ä¼šä¸ºä½ æä¾›é»˜è®¤æ— å·®æ„é€ å™¨ï¼</p><h4 id="æ˜¾å¼å­—æ®µåˆå§‹åŒ–ï¼š"><a href="#æ˜¾å¼å­—æ®µåˆå§‹åŒ–ï¼š" class="headerlink" title="æ˜¾å¼å­—æ®µåˆå§‹åŒ–ï¼š"></a>æ˜¾å¼å­—æ®µåˆå§‹åŒ–ï¼š</h4><p>â€‹å¯ä»¥ç›´æ¥å¯¹ç±»ä¸­çš„å­—ç¬¦æ®µèµ‹å€¼</p><h4 id="è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨ï¼š"><a href="#è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨ï¼š" class="headerlink" title="è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨ï¼š"></a>è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨ï¼š</h4><p>â€‹å¯ä»¥**<u><em>åœ¨æ„é€ å™¨çš„ç¬¬ä¸€è¡Œæ·»åŠ this(å‚æ•°å)æ¥è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨</em></u>**ï¼Œè¿™æ ·å°±å¯ä»¥æå–å…¬å…±æ„é€ ä»£ç ï¼</p><h4 id="åˆå§‹ä»£ç å—ï¼š"><a href="#åˆå§‹ä»£ç å—ï¼š" class="headerlink" title="åˆå§‹ä»£ç å—ï¼š"></a>åˆå§‹ä»£ç å—ï¼š</h4><p>â€‹ä¸åˆå§‹åŒ–ç»™å®šå€¼å¹³çº§ï¼Œè°åœ¨åé¢å¬è°çš„</p><h4 id="å¯¹è±¡çš„åˆå§‹åŒ–æµç¨‹ï¼š"><a href="#å¯¹è±¡çš„åˆå§‹åŒ–æµç¨‹ï¼š" class="headerlink" title="å¯¹è±¡çš„åˆå§‹åŒ–æµç¨‹ï¼š"></a>å¯¹è±¡çš„åˆå§‹åŒ–æµç¨‹ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.åœ¨æ–¹æ³•åŒºåŠ è½½è¯¥ç±»çš„æ¨¡å—(è¯¥ç±»ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶)</span><br><span class="line">2.åœ¨å †ä¸­ä¸ºå¯¹è±¡åˆ†é…å†…å­˜ç©ºé—´(è¿™æ—¶å€™ä¼šç»™å±æ€§èµ‹é»˜è®¤å€¼ 0ã€nullç­‰)</span><br><span class="line">3.å…ˆæ˜¾å¼åˆå§‹åŒ–(å®šä¹‰å±æ€§æ—¶ï¼Œç»™å…¶èµ‹çš„å€¼)ï¼Œå†ä½¿ç”¨æ„é€ å™¨åˆå§‹åŒ– (int a = 9;</span><br><span class="line">//å…ˆç­‰äºé»˜è®¤å€¼0ï¼Œå†ç­‰äºæ˜¾å¼é»˜è®¤å€¼9ï¼Œå†ç­‰äºæ„é€ å™¨ä¸­çš„éé»˜è®¤åˆå§‹åŒ–å€¼)</span><br><span class="line">===============æ­¤æ—¶ç­‰å·å³è¾¹çš„newç»“æŸ==================</span><br><span class="line">4.å†åœ¨æ ˆä¸­åˆ›å»ºå¯¹è±¡å(å¯¹è±¡å¼•ç”¨)ï¼Œå¹¶æŒ‡å‘æ ˆä¸­çš„ç©ºé—´ </span><br></pre></td></tr></table></figure><h3 id="4-7è®°å½•"><a href="#4-7è®°å½•" class="headerlink" title="4.7è®°å½•"></a>4.7è®°å½•</h3><h3 id="4-8åŒ…"><a href="#4-8åŒ…" class="headerlink" title="4.8åŒ…"></a>4.8åŒ…</h3><h3 id="4-9JARæ–‡ä»¶"><a href="#4-9JARæ–‡ä»¶" class="headerlink" title="4.9JARæ–‡ä»¶"></a>4.9JARæ–‡ä»¶</h3><h3 id="4-10æ–‡æ¡£æ³¨é‡Š"><a href="#4-10æ–‡æ¡£æ³¨é‡Š" class="headerlink" title="4.10æ–‡æ¡£æ³¨é‡Š"></a>4.10æ–‡æ¡£æ³¨é‡Š</h3><h3 id="4-11ç±»è®¾è®¡æŠ€å·§"><a href="#4-11ç±»è®¾è®¡æŠ€å·§" class="headerlink" title="4.11ç±»è®¾è®¡æŠ€å·§"></a>4.11ç±»è®¾è®¡æŠ€å·§</h3><p>hashmapåˆå§‹å¤§å°ä¸º16 16ä¸ªæ¡¶</p><p>åªè¦æœ‰ä¸€ä¸ªæ¡¶ä¸­å…ƒç´ åˆ°è¾¾8ï¼Œåˆ™çœ‹çœ‹æ¡¶æ˜¯å¦è¾¾åˆ°64ï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™æ¡¶æ•°é‡ç¿»å€ï¼Œè‹¥æœ‰ï¼Œåˆ™å°†é“¾è¡¨è½¬æ¢æˆçº¢é»‘æ ‘</p><p>hashmapä¸­çš„æ€»å…ƒç´ è¾¾åˆ° è´Ÿè½½å› å­*æ¡¶æ€»æ•°æ—¶ï¼Œéœ€è¦æ‰©å®¹</p><p>æ‰©å®¹ä¸ºæ¡¶çš„æ•°é‡*2ï¼Œ</p><p>10000 -&gt; 100000</p><p>å¦‚ä½•è·å–å…ƒç´ åœ¨å“ªä¸ªæ¡¶ä¸­ï¼Ÿ</p><p>é€šè¿‡ 10000 - 1 &#x3D; 01111 &amp;å“ˆå¸Œå€¼</p><p>å†è½¬å›10è¿›åˆ¶å¾—åˆ°ä¸‹æ ‡</p><p>&#x2F;&#x2F;è¿™å°±æ˜¯hashmapçš„æ¡¶å®¹é‡ä¸º2^4,å¹¶ä¸”æ¯æ¬¡æ‰©å®¹éƒ½æ˜¯å®¹é‡*2å¸¦æ¥çš„å¥½å¤„ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p><p>æ‰©å®¹åçš„æ–°ä¸‹æ ‡ä¹Ÿå¾ˆå®¹æ˜“è·å¾—ï¼š10000(åŸå¤§å°) &amp; hash &#x3D;&#x3D;&#x3D;&gt;è‹¥ä¸º0ï¼Œåˆ™ä¸‹æ ‡ä¸å˜ï¼›ä¸º1åˆ™ä¸‹æ ‡+&#x3D;åŸå¤§å°</p><h2 id="Chapter12â€”â€”å¹¶å‘ï¼š"><a href="#Chapter12â€”â€”å¹¶å‘ï¼š" class="headerlink" title="Chapter12â€”â€”å¹¶å‘ï¼š"></a>Chapter12â€”â€”å¹¶å‘ï¼š</h2><h3 id="12-1-ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼š"><a href="#12-1-ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼š" class="headerlink" title="12.1.ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼š"></a><u>12.1.ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼š</u></h3><ul><li><p>æ¯ä¸ªè¿›ç¨‹æ‹¥æœ‰å„è‡ªçš„ä¸€å¥—å˜é‡</p></li><li><p>ä¸€ä¸ªç¨‹åºå¯ä»¥è¿è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹é—´å…±äº«æ•°æ®</p></li></ul><p>â€‹<strong>Runnable</strong>æ¥å£ï¼šéœ€è¦å®ç°run()æ–¹æ³•ï¼Œä½¿ç”¨ä½ å¸Œæœ›æ‰§è¡Œçš„ä¸šåŠ¡</p><p>â€‹<strong>Thread</strong>ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java.lang.Threadç±»çš„é‡è¦ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Thread ç±»çš„æ„é€ å‡½æ•°ï¼Œå½¢å‚ä¸ºä¸€ä¸ªRunnableç±»å‹çš„å¼•ç”¨ï¼Œç”¨äºå¾—åˆ°threadå¯¹è±¡</span></span><br><span class="line">Thread(Runnable target);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯åŠ¨çº¿ç¨‹ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨runæ–¹æ³•</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒåŠ¨ç›¸å…³Runnableçš„è¢«å®ç°çš„runæ–¹æ³•</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¼‘çœ æŒ‡å®šçš„æ¯«ç§’æ•°</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">(<span class="type">long</span> millis)</span></span><br></pre></td></tr></table></figure><ul><li><strong>ä¸è¦ç›´æ¥è°ƒç”¨Threadæˆ–Runnableä¸­çš„runæ–¹æ³•ï¼Œå› ä¸ºè¿™æ ·ä¸ä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹</strong></li><li><u><strong>åº”å½“åˆ›å»ºThreadå¯¹è±¡ï¼Œè¿è¡Œå…¶startæ–¹æ³•æ¥åˆ›å»ºæ–°çš„çº¿ç¨‹</strong></u></li></ul><h3 id="12-2-çº¿ç¨‹çŠ¶æ€ï¼š"><a href="#12-2-çº¿ç¨‹çŠ¶æ€ï¼š" class="headerlink" title="12.2.çº¿ç¨‹çŠ¶æ€ï¼š"></a><u>12.2.çº¿ç¨‹çŠ¶æ€ï¼š</u></h3><p>â€‹çº¿ç¨‹å¯ä»¥æœ‰ä»¥ä¸‹6ç§çŠ¶æ€ï¼š</p><table><thead><tr><th>New(æ–°å»º)</th><th>Runnable(å¯è¿è¡Œ)</th><th>Blocked(é˜»å¡)</th><th>Waiting(ç­‰å¾…)</th><th>Time waiting(è®¡æ—¶ç­‰å¾…)</th><th>Terminated(ç»ˆæ­¢)</th></tr></thead></table><h4 id="newï¼š"><a href="#newï¼š" class="headerlink" title="newï¼š"></a>newï¼š</h4><p>â€‹newäº†Threadå¯¹è±¡ï¼Œä»…æ­¤è€Œå·²ã€‚</p><h4 id="Runnableï¼š"><a href="#Runnableï¼š" class="headerlink" title="Runnableï¼š"></a>Runnableï¼š</h4><p>â€‹çº¿ç¨‹è°ƒç”¨äº†startæ–¹æ³•åï¼Œå°±ä¼šå¤„äºå¯è¿è¡ŒçŠ¶æ€ã€‚</p><h4 id="Blocked-and-Waiting-and-Time-waiting"><a href="#Blocked-and-Waiting-and-Time-waiting" class="headerlink" title="Blocked and Waiting and Time waiting:"></a>Blocked and Waiting and Time waiting:</h4><ul><li>å½“çº¿ç¨‹è¯•å›¾è·å–ä¸€ä¸ªå†…éƒ¨å¯¹è±¡é”ï¼Œè€Œé”è¢«å…¶ä»–çº¿ç¨‹å æœ‰æ—¶ï¼Œçº¿ç¨‹**é˜»å¡(Blocked)**ï¼Œå½“æ‰€æœ‰å…¶ä»–çº¿ç¨‹éƒ½ä¸å æœ‰è¿™ä¸ªé”&amp;çº¿ç¨‹è°ƒåº¦å™¨å…è®¸è¯¥çº¿ç¨‹æŒæœ‰è¿™ä¸ªé”æ—¶ï¼Œå˜å›RunnableçŠ¶æ€ã€‚</li><li>å½“çº¿ç¨‹ç­‰å¾…å¦ä¸€çº¿ç¨‹é€šçŸ¥è°ƒåº¦å™¨å‡ºç°æŸä¸ªæ¡ä»¶æ—¶ï¼Œè¯¥çº¿ç¨‹ä¼šè¿›å…¥**ç­‰å¾…(Waiting)**çŠ¶æ€ã€‚</li><li>æŸäº›æ–¹æ³•è®¾ç½®äº†è¶…æ—¶å‚æ•°ï¼Œè°ƒç”¨è¿™äº›æ–¹æ³•ä¼šè¿›å…¥**è®¡æ—¶ç­‰å¾…(Time waiting)**çŠ¶æ€ï¼Œè¶…æ—¶æœŸæ»¡æˆ–æ”¶åˆ°é€‚å½“çš„é€šçŸ¥æ‰ä¼šå›åˆ°RunnableçŠ¶æ€ã€‚</li></ul><h4 id="Terminatedï¼š"><a href="#Terminatedï¼š" class="headerlink" title="Terminatedï¼š"></a>Terminatedï¼š</h4><ul><li>çº¿ç¨‹æ­£å¸¸æ‰§è¡Œå®Œrunæ–¹æ³•ï¼Œè‡ªç„¶ç»ˆæ­¢</li><li>çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°äº†ä¸€ä¸ªæœªæ•è·çš„å¼‚å¸¸ï¼Œä¼šå¯¼è‡´çº¿ç¨‹æ„å¤–ç»ˆæ­¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java.lang.Threadç±»ä¸­çš„ç›¸å…³æ–¹æ³•</span></span><br><span class="line"><span class="comment">//ä½¿å½“å‰æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹å‘å¦ä¸€çº¿ç¨‹äº¤å‡ºè¿è¡Œæƒ</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">yield</span><span class="params">()</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//ç­‰å¾…æŒ‡å®šçš„çº¿ç¨‹ç»ˆæ­¢</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">join</span><span class="params">()</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//ç­‰å¾…æŒ‡å®šçš„çº¿ç¨‹ç»ˆæ­¢,æˆ–ç­‰å¾…ç»è¿‡æŒ‡å®šçš„æ¯«ç§’æ•°</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">join</span><span class="params">(<span class="type">long</span> millis)</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//è·å–çº¿ç¨‹çš„çŠ¶æ€,å–å€¼ä¸ºï¼šNewã€Runnableã€Blockedã€Waitingã€Time waitingã€Terminated</span></span><br><span class="line">Thread.State <span class="title function_">getState</span><span class="params">()</span></span><br></pre></td></tr></table></figure><h3 id="12-3-çº¿ç¨‹å±æ€§"><a href="#12-3-çº¿ç¨‹å±æ€§" class="headerlink" title="12.3.çº¿ç¨‹å±æ€§"></a><u>12.3.çº¿ç¨‹å±æ€§</u></h3><h4 id="ä¸­æ–­çº¿ç¨‹ï¼š-çº¿ç¨‹çš„ä¸€ä¸ªå±æ€§â€”â€”ä¸­æ–­çŠ¶æ€"><a href="#ä¸­æ–­çº¿ç¨‹ï¼š-çº¿ç¨‹çš„ä¸€ä¸ªå±æ€§â€”â€”ä¸­æ–­çŠ¶æ€" class="headerlink" title="ä¸­æ–­çº¿ç¨‹ï¼š(çº¿ç¨‹çš„ä¸€ä¸ªå±æ€§â€”â€”ä¸­æ–­çŠ¶æ€)"></a>ä¸­æ–­çº¿ç¨‹ï¼š(çº¿ç¨‹çš„ä¸€ä¸ªå±æ€§â€”â€”ä¸­æ–­çŠ¶æ€)</h4><p>â€‹æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ª<strong>ä¸­æ–­çŠ¶æ€å±æ€§</strong>(booleanç±»å‹),æ¯ä¸ªçº¿ç¨‹éƒ½åº”è¯¥ä¸æ—¶åœ°æ£€æŸ¥è¿™ä¸ªå±æ€§ï¼Œä»¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­</p><p>â€‹å¦‚æœåœ¨ä¸€ä¸ª<strong>è¢«sleepæˆ–waitæ–¹æ³•è°ƒç”¨é˜»å¡çš„çº¿ç¨‹</strong>è°ƒç”¨äº†interruptæ–¹æ³•(è®¾ç½®ä¸­æ–­çŠ¶æ€)ï¼Œ<br>â€‹é‚£ä¹ˆ<strong>è¯¥çº¿ç¨‹çš„é˜»å¡è°ƒç”¨å°†è¢«InterruptedExceptionå¼‚å¸¸ä¸­æ–­</strong>ã€‚</p><p>â€‹å¦‚æœçº¿ç¨‹è®¾ç½®äº†ä¸­æ–­**(ä¸­æ–­çŠ¶æ€ä¸ºtrue)<strong>åæˆ‘ä»¬ä½¿ç”¨sleepç­‰æ–¹æ³•è°ƒç”¨é˜»å¡ï¼Œå®é™…ä¸Šä¼š</strong>æ¸…é™¤ä¸­æ–­çŠ¶æ€(å°†ä¸­æ–­çŠ¶æ€ç½®ä¸ºfalse)**å¹¶æŠ›å‡ºInterruptedExceptionå¼‚å¸¸ï¼Œ<u>å› æ­¤å¦‚æœæˆ‘ä»¬éœ€è¦å¯¹æ­¤æƒ…å†µè¿›è¡Œå¤„ç†ï¼Œæˆ‘ä»¬éœ€è¦å¯¹InterruptedExceptionå¼‚å¸¸è¿›è¡Œæ•è·ï¼Œè€Œä¸æ˜¯æ£€æŸ¥ä¸­æ–­çŠ¶æ€</u></p><p>ğŸŒŸå¦‚æœæˆ‘ä»¬æƒ³è®©çº¿ç¨‹çš„è°ƒç”¨è€…å¯Ÿè§‰åˆ°â¬†ï¸ä¸Šé¢æƒ…å†µçš„å‘ç”Ÿï¼Œæœ‰2ç§æ–¹å¼ï¼š</p><ul><li>catch InterruptedExceptionå¼‚å¸¸åï¼Œå°†ä¸­æ–­çŠ¶æ€å†æ¬¡è®¾ç½®ä¸ºtrue(å®é™…ä¸Šå¤šæ­¤ä¸€ä¸¾ï¼Œå› æ­¤æ¨èä¸‹é¢çš„æ–¹æ³•)</li><li>throw InterruptedException å¼‚å¸¸å³å¯ï¼Œè°ƒç”¨è€…å†try-catchå³å¯æ•è·å¼‚å¸¸</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java.lang.Threadç±»ä¸­çš„ç›¸å…³æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘çº¿ç¨‹å‘é€ä¸­æ–­è¯·æ±‚ï¼Œçº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€å°†è¢«è®¾ç½®ä¸ºtrueï¼Œæ­¤æ—¶å¦‚æœçº¿ç¨‹å·²ç»è¢«sleepæ–¹æ³•è°ƒç”¨é˜»å¡ï¼Œå°†ä¼šæŠ›å‡ºInterruptedExceptionå¼‚å¸¸</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">interrupt</span><span class="params">()</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//æµ‹è¯•å½“å‰è¿›ç¨‹æ˜¯å¦è¢«ä¸­æ–­â€”â€”é™æ€æ–¹æ³•â€”â€”ä¼šå°†å½“å‰çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€é‡åˆ¶ä¸ºfalseï¼ï¼ï¼</span></span><br><span class="line"><span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">interrupted</span><span class="params">()</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//æµ‹è¯•å½“å‰è¿›ç¨‹æ˜¯å¦è¢«ä¸­æ–­â€”â€”â€”â€”ä¸ä¼šæ”¹å˜çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ï¼</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isInterrupted</span><span class="params">()</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//è¿”å›å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹çš„Threadå¯¹è±¡</span></span><br><span class="line"><span class="keyword">static</span> Thread <span class="title function_">currentThread</span><span class="params">()</span></span><br></pre></td></tr></table></figure><h4 id="å®ˆæŠ¤çº¿ç¨‹-daemon-thread-ï¼š"><a href="#å®ˆæŠ¤çº¿ç¨‹-daemon-thread-ï¼š" class="headerlink" title="å®ˆæŠ¤çº¿ç¨‹(daemon thread)ï¼š"></a>å®ˆæŠ¤çº¿ç¨‹(daemon thread)ï¼š</h4><ul><li>**å¯ä»¥é€šè¿‡è°ƒç”¨ çº¿ç¨‹å.setDaemon(true)**å°†ä¸€ä¸ªçº¿ç¨‹è½¬æ¢ä¸ºå®ˆæŠ¤çº¿ç¨‹</li></ul><p>â€‹å®ˆæŠ¤çº¿ç¨‹ç”¨äºä¸ºå…¶ä»–çº¿ç¨‹æä¾›æœåŠ¡ï¼Œå¦‚ï¼šè®¡æ—¶å™¨çº¿ç¨‹ã€æ¸…ç©ºè¿‡æ—¶ç¼“å­˜é¡¹çš„çº¿ç¨‹</p><p>â€‹å½“åªå‰©ä¸‹å®ˆæŠ¤çº¿ç¨‹æ—¶ï¼Œè™šæ‹Ÿæœºä¼šé€€å‡º</p><h4 id="çº¿ç¨‹åï¼š"><a href="#çº¿ç¨‹åï¼š" class="headerlink" title="çº¿ç¨‹åï¼š"></a>çº¿ç¨‹åï¼š</h4><ul><li>å¯ä»¥é€šè¿‡ <strong>å¯¹è±¡å.setName(â€œnew nameâ€)</strong> å¯¹åˆ›å»ºçš„çº¿ç¨‹å¯¹è±¡è¿›è¡Œé‡å‘½å     â€”â€”â€”â€”åœ¨çº¿ç¨‹è½¬å‚¨æ—¶å¯èƒ½æœ‰å¤§ç”¨å¤„</li></ul><p>â€‹çº¿ç¨‹æœ‰é»˜è®¤çš„åå­—ï¼šThread-1ç­‰</p><h4 id="æœªæ•è·å¼‚å¸¸çš„å¤„ç†å™¨ï¼š"><a href="#æœªæ•è·å¼‚å¸¸çš„å¤„ç†å™¨ï¼š" class="headerlink" title="æœªæ•è·å¼‚å¸¸çš„å¤„ç†å™¨ï¼š"></a>æœªæ•è·å¼‚å¸¸çš„å¤„ç†å™¨ï¼š</h4><p>â€‹çº¿ç¨‹æœ‰ä»¥ä¸‹ä¸¤ä¸ªå±æ€§ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">volatile</span> UncaughtExceptionHandler uncaughtExceptionHandler;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> UncaughtExceptionHandler defaultUncaughtExceptionHandler;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ </p><ul><li><p><strong>Static</strong> void <strong>setDefaultUncaughtExceptionHandler</strong>(Thread.UncaughtExceptionHandler handler)<br>æ¥ä¸ºæ‰€æœ‰çº¿ç¨‹è®¾ç½®é»˜è®¤çš„æœªæ•è·å¼‚å¸¸çš„å¤„ç†å™¨</p></li><li><p>void **setUncaughtExceptionHandler(**Thread.UncaughtExceptionHandler handler)</p><p>æ¥ä¸ºæŸä¸ªçº¿ç¨‹å¯¹è±¡è®¾ç½®æœªæ•è·å¼‚å¸¸çš„å¤„ç†å™¨</p></li></ul><p>æ³¨æ„ï¼š</p><p>â€‹1.<strong>uncaughtExceptionHandlerä¼˜å…ˆçº§ é«˜äº defaultUncaughtExceptionHandler</strong></p><p>â€‹2.ä¼ å…¥çš„handleræ˜¯å®ç°äº†Thread.UncaughtExceptionHandleræ¥å£ä¸­uncaughtExceptionæ–¹æ³•çš„å¯¹è±¡ï¼Œå³æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰æœªæ•è·å¼‚å¸¸çš„å¤„ç†å™¨ï¼Œåœ¨setè¿›çº¿ç¨‹çš„å¯¹åº”å±æ€§é‡Œé¢å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> UncaughtExceptionHandler <span class="title function_">getDefaultUncaughtExceptionHandler</span><span class="params">()</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> defaultUncaughtExceptionHandler;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> UncaughtExceptionHandler <span class="title function_">getUncaughtExceptionHandler</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> uncaughtExceptionHandler != <span class="literal">null</span> ? uncaughtExceptionHandler : group;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çº¿ç¨‹å…ˆæ‰¾è‡ªå·±çš„<strong>uncaughtExceptionHandler</strong>ï¼Œè‹¥ä¸æ˜¯nullï¼Œå°±ç”¨å®ƒ<br>è‹¥æ˜¯nullï¼Œåˆ™æŸ¥çœ‹è¯¥çº¿ç¨‹æ‰€åœ¨çš„groupæ˜¯å¦å®ç°äº†Thread.UncaughtExceptionHandleræ¥å£ä¸­uncaughtExceptionæ–¹æ³•ï¼Œè‹¥å®ç°äº†ï¼Œå°±ç”¨å®ƒå¦åˆ™ä½¿ç”¨çº¿ç¨‹çš„ <strong><u>default</u>UncaughtExceptionHandler</strong>ï¼Œè‹¥ä¸ä¸ºnullï¼Œå°±ç”¨å®ƒ<br>å¦åˆ™å°†ä¿¡æ¯è¾“å‡ºåˆ°System.errä¸­</p><h4 id="çº¿ç¨‹ä¼˜å…ˆçº§ï¼š"><a href="#çº¿ç¨‹ä¼˜å…ˆçº§ï¼š" class="headerlink" title="çº¿ç¨‹ä¼˜å…ˆçº§ï¼š"></a>çº¿ç¨‹ä¼˜å…ˆçº§ï¼š</h4><p>â€‹æœ€é«˜ä¼˜å…ˆçº§ä¸º10ï¼›</p><p>â€‹æœ€ä½ä¼˜å…ˆçº§ä¸º1ï¼›</p><p>â€‹é»˜è®¤ä¼˜å…ˆçº§ä¸º5ï¼›</p><p>å¯ä»¥é€šè¿‡ setPriority(int newPriority)æ¥è‡ªè¡Œè®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§</p><h3 id="12-4-åŒæ­¥ï¼š"><a href="#12-4-åŒæ­¥ï¼š" class="headerlink" title="12.4.åŒæ­¥ï¼š"></a><u>12.4.åŒæ­¥ï¼š</u></h3><p>â€‹ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„çº¿ç¨‹éœ€è¦å…±äº«å­˜å–ç›¸åŒçš„æ•°æ®ï¼Œå½“å¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œä¼šå¯¼è‡´çº¿ç¨‹ç›¸äº’è¦†ç›–(è¿™ç§æƒ…å†µç§°ä¸º ç«æ€æ¡ä»¶)</p><ul><li><strong>ä¸´ç•ŒåŒº</strong>ï¼šæ˜¯ä¸€ä¸ªè®¿é—®å…±ç”¨èµ„æºï¼ˆä¾‹å¦‚ï¼šå…±ç”¨è®¾å¤‡æˆ–æ˜¯å…±ç”¨å­˜å‚¨å™¨ï¼‰çš„ç¨‹åºç‰‡æ®µï¼Œè€Œè¿™äº›å…±ç”¨èµ„æºåˆæ— æ³•åŒæ—¶è¢«å¤šä¸ªçº¿ç¨‹è®¿é—®ã€‚</li></ul><h4 id="ä¸ºäº†é˜²æ­¢å¹¶å‘è®¿é—®-javaæä¾›äº†ä¸¤ç§æœºåˆ¶ï¼š"><a href="#ä¸ºäº†é˜²æ­¢å¹¶å‘è®¿é—®-javaæä¾›äº†ä¸¤ç§æœºåˆ¶ï¼š" class="headerlink" title="ä¸ºäº†é˜²æ­¢å¹¶å‘è®¿é—® javaæä¾›äº†ä¸¤ç§æœºåˆ¶ï¼š"></a><em>ä¸ºäº†é˜²æ­¢å¹¶å‘è®¿é—® javaæä¾›äº†ä¸¤ç§æœºåˆ¶ï¼š</em></h4><h5 id="1-Lock-Condition-é”å¯¹è±¡-æ¡ä»¶å¯¹è±¡"><a href="#1-Lock-Condition-é”å¯¹è±¡-æ¡ä»¶å¯¹è±¡" class="headerlink" title="1.Lock+Condition(é”å¯¹è±¡+æ¡ä»¶å¯¹è±¡)"></a>1.Lock+Condition(é”å¯¹è±¡+æ¡ä»¶å¯¹è±¡)</h5><h6 id="ReentrantLockç±»-é‡å…¥é”-ï¼š"><a href="#ReentrantLockç±»-é‡å…¥é”-ï¼š" class="headerlink" title="ReentrantLockç±»(é‡å…¥é”)ï¼š"></a>ReentrantLockç±»(é‡å…¥é”)ï¼š</h6><p>â€‹é‡å…¥é”ï¼šçº¿ç¨‹å¯ä»¥é‡å¤è·å–å·²ç»è·å¾—çš„é”(é€šè¿‡ä¸€ä¸ªè®¡æ•°å˜é‡å®ç°ï¼šåå¤è·å–ä¸€æ¬¡è®¡æ•°+1ï¼Œé‡Šæ”¾åˆ™-1ï¼Œ</p><p>â€‹å› æ­¤è®¡æ•°ä¸º0æ—¶ï¼Œè¡¨ç¤ºçº¿ç¨‹é‡Šæ”¾äº†é”)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReentrantLock</span> <span class="keyword">implements</span> <span class="title class_">Lock</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯ä»¥åœ¨éœ€è¦ä¸Šé”çš„ç±»ä¸­æ·»åŠ ReentrantLockå¯¹è±¡  Lock k = new ReentrantLock();</span></span><br><span class="line"><span class="comment">//åœ¨éœ€è¦ä¸Šé”çš„æ–¹æ³•å¼€å§‹å‰å…ˆç”¨æ­¤å¯¹è±¡è·å–é”       k.lock()  </span></span><br><span class="line"><span class="comment">//åœ¨æ‰§è¡Œä¸´ç•ŒåŒºä»£ç ï¼š                        try&#123;ä¸´ç•ŒåŒºä»£ç å&#125;finally&#123;k.unlock();&#125;</span></span><br></pre></td></tr></table></figure><ul><li><p>å¿…é¡»æŠŠ unlockæ”¾åœ¨finallyä¸­ï¼Œé˜²æ­¢ä¸´ç•ŒåŒºä»£ç æŠ›å‡ºå¼‚å¸¸ç¨‹åºç»ˆæ­¢ï¼Œå¯¼è‡´é”æ°¸ä¸è¢«é‡Šæ”¾</p></li><li><p>æ³¨æ„ä¸èƒ½ç”±äºæŠ›å‡ºå¼‚å¸¸è€Œç»•è¿‡ä¸´ç•ŒåŒºçš„ä»£ç (æŒ‡ä¸´ç•ŒåŒºä¸­äº§ç”Ÿå¼‚å¸¸ï¼Œæˆ‘ä»¬å°†å…¶æŠ›å‡ºè‡³è°ƒç”¨è€…çš„è¯ï¼Œå°±ä¸ä¼šå†æ‰§è¡Œä¸´ç•ŒåŒºä¸­æ²¡èµ°å®Œçš„ä»£ç ï¼Œå³ç»•è¿‡ä¸´ç•ŒåŒºçš„ä»£ç å—),å› ä¸ºå¦‚æœç»•è¿‡ï¼Œå¯¹è±¡å¯èƒ½å¤„äºè¢«ç ´åçš„çŠ¶æ€(æ“ä½œåšä¸€åŠæœªå®Œæˆ)</p></li></ul><h6 id="æ¡ä»¶å¯¹è±¡ï¼š"><a href="#æ¡ä»¶å¯¹è±¡ï¼š" class="headerlink" title="æ¡ä»¶å¯¹è±¡ï¼š"></a>æ¡ä»¶å¯¹è±¡ï¼š</h6><p>å½“çº¿ç¨‹éœ€è¦æ»¡è¶³æŸäº›æ¡ä»¶æ‰èƒ½è¿›å…¥éœ€è¦é”çš„ä¸´ç•ŒåŒºæ—¶ï¼Œå¯èƒ½ä¼šå‘ç”Ÿè¿™æ ·çš„æƒ…å†µï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. çº¿ç¨‹Aæ»¡è¶³äº†æ¡ä»¶ï¼Œä¸‹ä¸€æ¡è¯­å¥å°±æ˜¯è·å–é”è¿›å…¥ä¸´ç•ŒåŒº</span><br><span class="line">2. çº¿ç¨‹Bä¿®æ”¹äº†çº¿ç¨‹Aä¸­çš„æŸäº›å€¼ï¼Œå¯¼è‡´çº¿ç¨‹Aä¸æ»¡è¶³æ¡ä»¶</span><br><span class="line">3. ç”±äºçº¿ç¨‹Aå·²ç»é€šè¿‡äº†æ¡ä»¶åˆ¤æ–­çš„è¯­å¥ï¼Œä»ç„¶å¯ä»¥è·å–é”ï¼Œè¿›å…¥ä¸´ç•ŒåŒºï¼Œäºæ˜¯ä¾¿å¯¼è‡´äº†é”™è¯¯ã€‚</span><br></pre></td></tr></table></figure><p>javaä¸­å¯ä»¥ä½¿ç”¨æ¡ä»¶å¯¹è±¡æ¥ç®¡ç†é‚£äº›ï¼š<strong>å·²ç»è·å¾—äº†ä¸€ä¸ªé”å´ä¸èƒ½æœ‰æ•ˆå·¥ä½œçš„çº¿ç¨‹</strong></p><p><strong>æ¯ä¸ªé”å¯ä»¥åˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ª</strong>ä¸è¿™ä¸ªé”ç›¸å…³çš„<strong>æ¡ä»¶å¯¹è±¡</strong>ï¼š</p><p>â€‹å½“æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œè¯¥æ¡ä»¶å¯¹è±¡(ä½¿ç”¨ await() æ–¹æ³•)å°†è¯¥çº¿ç¨‹æ”¾å…¥wait setä¸­ï¼Œå³è¯¥çº¿ç¨‹è¢«é˜»å¡</p><p>â€‹å½“æœ‰ä¸€ä¸ªçº¿ç¨‹æ»¡è¶³æ¡ä»¶ï¼Œå¹¶æ‰§è¡Œå®Œä¸´ç•ŒåŒºä¸­çš„ä»£ç åï¼Œå…¶æ¡ä»¶å¯¹è±¡(ä½¿ç”¨ signalAll() æ–¹æ³•)å°†æ‰€æœ‰å¤„äº<strong>è¯¥æ¡ä»¶çš„wait set</strong>ä¸­çš„çº¿ç¨‹æ¿€æ´»ï¼Œè®©ä»–ä»¬é‡æ–°åˆ¤æ–­æ¡ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.å…ˆå£°æ˜æ¡ä»¶å¯¹è±¡</span></span><br><span class="line"><span class="comment">//2.ä½¿ç”¨çº¿ç¨‹çš„é”å¯¹è±¡ç”Ÿæˆæ¡ä»¶å¯¹è±¡</span></span><br><span class="line"><span class="comment">//3.å°†æ¡ä»¶å¯¹è±¡ä¸ä¸šåŠ¡æ¡ä»¶è¿›è¡Œæ­é…ä½¿ç”¨</span></span><br><span class="line">  å¦‚ï¼š</span><br><span class="line">  <span class="comment">//Condition æ¡ä»¶å¯¹è±¡ï¼›</span></span><br><span class="line">  <span class="comment">//æ¡ä»¶å¯¹è±¡ = bankLock.newCondition();</span></span><br><span class="line">  bankLock.lock();</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="keyword">while</span>(account[from] &lt; amount)&#123;</span><br><span class="line">  æ¡ä»¶å¯¹è±¡.await();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//...è·å–é”å¹¶æ‰§è¡Œä¸´ç•ŒåŒºä»£ç </span></span><br><span class="line">      æ¡ä»¶å¯¹è±¡.signalAll();</span><br><span class="line">      &#125;</span><br><span class="line"><span class="keyword">finally</span>&#123;</span><br><span class="line">        bankLock.unlock();</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç›¸å…³æ–¹æ³•ï¼š</span><br><span class="line"><span class="comment">//java.util.concurrent.locks.Lockä¸­ï¼š</span></span><br><span class="line"><span class="comment">//è¿”å›ä¸€ä¸ªä¸è¿™ä¸ªé”ç›¸å…³çš„æ¡ä»¶å¯¹è±¡  </span></span><br><span class="line">Condition <span class="title function_">newCondition</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//java.util.concurrent.Conditionä¸­ï¼š</span></span><br><span class="line"><span class="comment">//å°†è¯¥çº¿ç¨‹æ”¾å…¥è¿™ä¸ªæ¡ä»¶çš„awaité›†ä¸­</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">wait</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//è§£é™¤è¿™ä¸ªæ¡ä»¶ä¸­æ‰€æœ‰çº¿ç¨‹çš„é˜»å¡çŠ¶æ€(å°†æ‰€æœ‰awaité›†ä¸­çš„çº¿ç¨‹æ”¾å‡º)</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">signalAll</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//éšæœºè§£é™¤è¿™ä¸ªæ¡ä»¶ä¸­çš„æŸä¸ªçº¿ç¨‹çš„é˜»å¡çŠ¶æ€</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">signal</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><h5 id="2-synchronizedï¼š"><a href="#2-synchronizedï¼š" class="headerlink" title="2.synchronizedï¼š"></a>2.synchronizedï¼š</h5><h6 id="synchronizedå…³é”®å­—ï¼š"><a href="#synchronizedå…³é”®å­—ï¼š" class="headerlink" title="synchronizedå…³é”®å­—ï¼š"></a>synchronizedå…³é”®å­—ï¼š</h6><p>â€‹javaæä¾›çš„synchronizeå…³é”®å­—å°è£…äº†ä¸Šè¿° é”+æ¡ä»¶å¯¹è±¡ çš„å½¢å¼</p><p>â€‹æˆ‘ä»¬ç›´æ¥å°†éœ€è¦ä¸Šé”çš„æ–¹æ³•å£°æ˜ä¸ºsynchronizedå³ä½¿ç”¨äº†é”</p><p>â€‹æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨<strong>Objectç±»</strong>ä¸­çš„ <strong>wait() notifyAll() notyfy()</strong> æ–¹æ³•æ¥å®ç°æ¡ä»¶å¯¹è±¡çš„ä½œç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æ³¨æ„âš ï¸ï¼š</span><br><span class="line">ä¸ºäº†ä¸ Objectç±»ä¸­çš„ wait()  notifyAll()  notyfy() æ–¹æ³• è¿›è¡ŒåŒºåˆ† åªèƒ½ç”¨åœ¨synchronizedä¿®é¥°çš„æ–¹æ³•ä¸­ï¼Œå…¶ä¸­waitä¸­å¯è¾“å…¥å½¢å‚è¡¨ç¤ºwaitçš„æ—¶é—´</span><br><span class="line">Conditionç±»ä¸­çš„æ–¹æ³•åä¸º await() signalAll()  signal()</span><br></pre></td></tr></table></figure><p>synchronizeåº•å±‚æœºåˆ¶ï¼š</p><p>â€‹<strong>javaä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€æŠŠå†…éƒ¨é”</strong>ï¼Œå½“ä½ ä½¿ç”¨synchronizedä¿®é¥°æ—¶å…¶ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå†…éƒ¨é”å°±ä¼šä¿æŠ¤æ•´ä¸ªæ–¹æ³•</p><p>â€‹<strong><u><em>javaä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…éƒ¨é”ï¼Œå¹¶ä¸”è¿™ä¸ªå†…éƒ¨é”æœ‰ä¸€ä¸ªå†…éƒ¨æ¡ä»¶ï¼›</em></u></strong></p><p>â€‹<strong><u>å†…éƒ¨é”ä¼šç®¡ç†è¯•å›¾è¿›å…¥synchronizedæ–¹æ³•çš„çº¿ç¨‹ï¼Œå†…éƒ¨æ¡ä»¶ä¼šç®¡ç†è°ƒç”¨äº†wait()æ–¹æ³•çš„çº¿ç¨‹ï¼›</u></strong></p><p>â€‹æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†é™æ€æ–¹æ³•å£°æ˜ä¸ºåŒæ­¥(synchronized)ï¼Œè¯¥æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œå…³è”ç±»å¯¹è±¡(ç±»å.classçš„å¯¹è±¡)çš„å†…éƒ¨é”ä¼šä¿æŠ¤è¿™ä¸ªç±»çš„æ‰€æœ‰é™æ€åŒæ­¥æ–¹æ³•ã€‚</p><p>â€‹synchronizedæ–¹æ¡ˆçš„åŠ£åŠ¿ï¼š</p><ul><li>ä¸èƒ½ä¸­æ–­ä¸€ä¸ªæ­£åœ¨å°è¯•è·å¾—é”çš„çº¿ç¨‹ï¼ŒLockæ˜¯æœ‰ä¸­æ–­èƒ½åŠ›çš„</li><li>ä¸èƒ½æŒ‡å®šå°è¯•è·å¾—é”çš„è¶…æ—¶æ—¶é—´ï¼Œ                    ç›¸æ¯”ä¹‹ä¸‹ï¼ŒLockå¯ä»¥è®¾ç½®è¶…æ—¶æ—¶é—´ã€‚</li><li>æ¯ä¸ªé”åªæœ‰ä¸€ä¸ªæ¡ä»¶å¯¹è±¡ï¼Œä½æ•ˆ</li></ul><p>åœ¨å®é™…æƒ…å†µä¸­ï¼Œèƒ½ä¸ç”¨é”å°±ä¸ç”¨é”ï¼Œéè¦ç”¨çš„è¯ä¼˜å…ˆä½¿ç”¨synchronizedï¼Œå¦‚æœæ— æ³•æ»¡è¶³éœ€æ±‚å†ç”¨Lock&#x2F;Condition</p><h6 id="synchronizedä»£ç å—-åŒæ­¥å—ï¼Œsynchronized-block"><a href="#synchronizedä»£ç å—-åŒæ­¥å—ï¼Œsynchronized-block" class="headerlink" title="synchronizedä»£ç å—(åŒæ­¥å—ï¼Œsynchronized block)"></a>synchronizedä»£ç å—(åŒæ­¥å—ï¼Œsynchronized block)</h6><p>â€‹synchronized(obj){</p><p>â€‹   â€¦â€¦.</p><p>â€‹}</p><p>â€‹åŸç†æ˜¯ä½¿ç”¨objå¯¹è±¡çš„å†…éƒ¨é”æ¥è¿›è¡Œé”å®šï¼Œ</p><p>â€‹è¦ä½¿ç”¨åŒæ­¥ä»£ç å—æ—¶ï¼Œéœ€è¦è®©çº¿ç¨‹ä½¿ç”¨ç›¸åŒå¯¹è±¡çš„å†…éƒ¨é”(è¿™æ ·æ‰é”å¾—ä½)ï¼Œè€Œä¸”ä¸èƒ½è®©æ— å…³çº¿ç¨‹è·å–ä½ çš„é”</p><h6 id="ç›‘è§†å™¨-monitor-æ¦‚å¿µï¼š"><a href="#ç›‘è§†å™¨-monitor-æ¦‚å¿µï¼š" class="headerlink" title="ç›‘è§†å™¨(monitor)æ¦‚å¿µï¼š"></a>ç›‘è§†å™¨(monitor)æ¦‚å¿µï¼š</h6><p>â€‹ç›‘è§†å™¨æŒ‡ï¼šåªæœ‰ç§æœ‰å¯¹è±¡çš„ç±»ï¼›ç›‘è§†å™¨ç±»çš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç›¸å…³è”çš„é”ï¼Œ</p><p>â€‹è¿™æ ·çœ‹æ¥synchronizedä¿®é¥°çš„æ–¹æ³•ä¼¼ä¹ä¸ç›‘è§†å™¨ä¸­çš„æ–¹æ³•æœ‰ç›¸åŒçš„ä½œç”¨ã€‚</p><p>ä½†javaå¯¹è±¡ä¸åŒäºç›‘è§†å™¨ï¼š</p><ul><li><p>å­—æ®µä¸è¦æ±‚æ˜¯private</p></li><li><p>æ–¹æ³•ä¸è¦æ±‚æ˜¯synchronized</p></li><li><p>å†…éƒ¨é”å¯ä»¥è¢«ç”¨æˆ·ä½¿ç”¨</p><p>è¿™å‰Šå¼±äº†çº¿ç¨‹å®‰å…¨æ€§</p></li></ul><h6 id="volatileå­—æ®µï¼š"><a href="#volatileå­—æ®µï¼š" class="headerlink" title="volatileå­—æ®µï¼š"></a>volatileå­—æ®µï¼š</h6><p>volatileæ„ä¸ºä¸ç¨³å®šçš„ï¼Œåªèƒ½<strong>ä¿®é¥°ç±»ä¸­çš„å±æ€§</strong>ï¼Œå½“ä¸€ä¸ªå­—æ®µè¢«å£°æ˜ä¸ºvolatileï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å’Œè™šæ‹Ÿæœºå°±ä¼šè€ƒè™‘åˆ°è¯¥å­—æ®µå¯èƒ½è¢«å¦ä¸€çº¿ç¨‹å¹¶å‘æ›´æ–°ã€‚</p><p>â€‹<strong>volatileå…³é”®å­—ä½¿ç³»ç»Ÿä¸­æ‰€æœ‰çº¿ç¨‹å¯¹è¯¥å…³é”®å­—ä¿®é¥°çš„å˜é‡å…±äº«å¯è§ï¼Œå¯ä»¥ç¦æ­¢çº¿ç¨‹çš„å·¥ä½œå†…å­˜å¯¹volatileä¿®é¥°çš„å˜é‡è¿›è¡Œç¼“å­˜ã€‚</strong></p><ul><li><p><strong>å¯è§æ€§</strong>ï¼š</p><p>â€‹    <strong>å½“ä¸€ä¸ªå…±äº«å˜é‡è¢«volatileä¿®é¥°æ—¶ï¼Œå®ƒä¼šä¿è¯ä¿®æ”¹çš„å€¼ä¼šç«‹å³è¢«æ›´æ–°åˆ°ä¸»å­˜ï¼Œå½“æœ‰å…¶ä»–çº¿ç¨‹éœ€è¦è¯»å–æ—¶ï¼Œå®ƒä¼šå»å†…å­˜ä¸­è¯»å–æ–°å€¼ã€‚</strong></p><p>â€‹è€Œæ™®é€šçš„å…±äº«å˜é‡ä¸èƒ½ä¿è¯å¯è§æ€§ï¼Œå› ä¸ºæ™®é€šå…±äº«å˜é‡è¢«ä¿®æ”¹ä¹‹åï¼Œä»€ä¹ˆæ—¶å€™è¢«å†™å…¥ä¸»å­˜æ˜¯ä¸ç¡®å®šçš„ï¼Œå½“å…¶ä»–çº¿ç¨‹å»è¯»å–æ—¶ï¼Œæ­¤æ—¶å†…å­˜ä¸­å¯èƒ½è¿˜æ˜¯åŸæ¥çš„æ—§å€¼ï¼Œå› æ­¤æ— æ³•ä¿è¯å¯è§æ€§ã€‚</p></li><li><p><strong>åŸå­æ€§ï¼š</strong></p></li></ul><p>â€‹ç”±äºç›´æ¥å°†å˜é‡å€¼æ›´æ–°åˆ°ä¸»å­˜ï¼Œvolatileä¿®é¥°çš„ç®€å•æ•°æ®ç±»å‹çš„æ“ä½œå°±ä¼šå˜æˆåŸå­çº§åˆ«çš„</p><p>â€‹æ³¨æ„âš ï¸å£°æ˜ä¸ºvolatileçš„ç®€å•å˜é‡<strong>å¦‚æœå½“å‰å€¼ç”±è¯¥å˜é‡ä»¥å‰çš„å€¼ç›¸å…³</strong>ï¼Œé‚£ä¹ˆvolatileå…³é”®å­—ä¸èµ·ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚ä¸‹çš„è¡¨è¾¾å¼éƒ½ä¸æ˜¯åŸå­æ“ä½œï¼š </p><p>â€‹n &#x3D; n +  1 ;<br>â€‹n ++ ;<br>â€‹n &#x3D; !n;</p><h6 id="finalå˜é‡ï¼š"><a href="#finalå˜é‡ï¼š" class="headerlink" title="finalå˜é‡ï¼š"></a>finalå˜é‡ï¼š</h6><p>â€‹ä¸ºå­—æ®µæ·»åŠ finalä¿®é¥°ç¬¦åï¼Œå…¶ä»–çº¿ç¨‹ä¼šçœ‹åˆ°è¯¥å­—æ®µåˆå§‹åŒ–ä¹‹åçš„å€¼ï¼Œè€Œä¸ä¼šçœ‹åˆ°å­—æ®µåˆå§‹åŒ–æœªå®Œæˆæ—¶é»˜è®¤ç©ºå€¼çš„çŠ¶æ€ï¼</p><h6 id="åŸå­æ€§ï¼š"><a href="#åŸå­æ€§ï¼š" class="headerlink" title="åŸå­æ€§ï¼š"></a>åŸå­æ€§ï¼š</h6><p>â€‹java.util.concurrent.atomicåŒ…ä¸­çš„APIå¯ä»¥å®ç°å„ç§ç±»å‹æ•°æ®ä»¥åŸå­æ–¹å¼å®ç°è‡ªå¢ç­‰æ“ä½œï¼Œ</p><p>â€‹å…¶å¹¶æ²¡æœ‰ä½¿ç”¨åŠ é”çš„æ–¹å¼å®ç°åŸå­æ€§ï¼Œè€Œæ˜¯åœ¨ç¡¬ä»¶å±‚é¢è¿›è¡Œé˜»å¡ï¼Œå› è€Œæ›´åŠ é«˜æ•ˆã€‚</p><h6 id="æ­»é”ï¼š"><a href="#æ­»é”ï¼š" class="headerlink" title="æ­»é”ï¼š"></a>æ­»é”ï¼š</h6><p>â€‹javaä¸­æ²¡æœ‰ä»»ä½•ç‰¹æ€§èƒ½å¤Ÿé¿å…ã€æ‰“ç ´æ­»é”ï¼Œè®¾è®¡ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬è¦ç¡®ä¿ä¸å‡ºç°æ­»é”ã€‚</p><h6 id="ä¸ºä»€ä¹ˆåºŸå¼ƒstopã€suspendæ–¹æ³•ï¼š"><a href="#ä¸ºä»€ä¹ˆåºŸå¼ƒstopã€suspendæ–¹æ³•ï¼š" class="headerlink" title="ä¸ºä»€ä¹ˆåºŸå¼ƒstopã€suspendæ–¹æ³•ï¼š"></a>ä¸ºä»€ä¹ˆåºŸå¼ƒstopã€suspendæ–¹æ³•ï¼š</h6><p>â€‹stopæ–¹æ³•ç«‹å³åœæ­¢çº¿ç¨‹ï¼Œä¼šç»ˆæ­¢è¯¥çº¿ç¨‹æ‰€æœ‰æœªå®Œæˆçš„æ–¹æ³•ï¼Œå¯¼è‡´çº¿ç¨‹å¤„äºä¸ä¸€è‡´çš„çŠ¶æ€ã€‚</p><p>å› ä¸ºçº¿ç¨‹ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å¯ä»¥å®‰å…¨åœ°stopå…¶ä»–çº¿ç¨‹ï¼Œå› æ­¤stopæ˜¯ä¸å®‰å…¨(å¯¼è‡´stopè¢«å¼ƒç”¨)çš„ï¼›</p><p><strong>å› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›åœæ­¢çº¿ç¨‹æ—¶ï¼Œåº”å½“å…ˆä¸­æ–­(interrupt)è¯¥çº¿ç¨‹ï¼Œè¢«ä¸­æ–­çš„çº¿ç¨‹å¯ä»¥åœ¨å®‰å…¨çš„æ—¶å€™ç»ˆæ­¢ã€‚</strong></p><p>â€‹</p><p>â€‹suspendæ–¹æ³•å°†ä¼šæŒ‚èµ·ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™ä¸ªçº¿ç¨‹å¦‚æœæŒæœ‰é”ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªçº¿ç¨‹æ¢å¤è¿è¡Œä¹‹å‰ï¼Œè¿™ä¸ªé”æ˜¯ä¸å¯ç”¨çš„</p><p>ä¸€ç§å¾ˆå¸¸è§çš„æ­»é”ï¼šA å°† æŒæœ‰ä¸€ä¸ªé”çš„B æŒ‚èµ·ï¼Œè€ŒAåˆéœ€è¦Bå æœ‰çš„é”ï¼Œè¿™æ—¶å€™å°±ä¼šå¯¼è‡´æ­»é”ã€‚ã€‚</p><p><strong>å› æ­¤ï¼Œä¸ºäº†å®‰å…¨åœ°æŒ‚èµ·çº¿ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªsuspendRequested(è¯·æ±‚æŒ‚èµ·)å˜é‡ï¼Œåœ¨<u>è¯¥çº¿ç¨‹ä¸æŒæœ‰ä»»ä½•é”çš„ä½ç½®</u>æµ‹è¯•è¯¥å˜é‡ï¼Œå¦‚æœå‘ç°suspendRequestedå˜é‡è¢«è®¾ç½®ä¸ºæŒ‚èµ·ï¼Œåˆ™è®©è¯¥çº¿ç¨‹åœ¨æ­¤å¤„ç­‰å¾…ï¼Œç›´åˆ°è¢«å…¶ä»–çº¿ç¨‹å”¤é†’ï¼</strong></p><h6 id="æŒ‰éœ€åˆå§‹åŒ–ï¼š"><a href="#æŒ‰éœ€åˆå§‹åŒ–ï¼š" class="headerlink" title="æŒ‰éœ€åˆå§‹åŒ–ï¼š"></a>æŒ‰éœ€åˆå§‹åŒ–ï¼š</h6><p>â€‹å¯¹äºæŸäº›æ•°æ®ï¼Œå¦‚æœä½ åªå¸Œæœ›åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨å®ƒçš„æ—¶å€™æ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸å¦¨åˆ©ç”¨è¿™æ ·ä¸€ä¸ªäº‹å®ï¼š<strong>è™šæ‹Ÿæœºä¼šåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æŸä¸ªç±»æ—¶æ‰§è¡Œä¸€ä¸ªé™æ€åˆå§‹åŒ–å™¨ï¼Œå¹¶åªæ‰§è¡Œä¸€æ¬¡</strong>â€”â€”è™šæ‹Ÿæœºåˆ©ç”¨ä¸€ä¸ªé”ç¡®ä¿è¿™ä¸€ç‚¹ã€‚</p><p>â€‹æˆ‘ä»¬éœ€è¦åœ¨è¯¥ç±»çš„<strong>é™æ€</strong>åˆå§‹åŒ–å™¨ä¸Šå†™å…¥éœ€è¦åˆå§‹åŒ–çš„ä»£ç ï¼Œ</p><p>â€‹â€”â€”æˆ‘ä»¬å¿…é¡»ç¡®ä¿ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºè™šæ‹Ÿæœºå¯¹æ¯ä¸ªç±»åªä¼šåˆå§‹åŒ–ä¸€æ¬¡ï¼Œè‹¥æŠ›å‡ºå¼‚å¸¸ï¼Œå¯èƒ½è¿˜æ²¡æ‰§è¡Œåˆå§‹åŒ–è¯­å¥å°±è·³å‡ºäº†ã€‚</p><h6 id="çº¿ç¨‹å±€éƒ¨å˜é‡ï¼š"><a href="#çº¿ç¨‹å±€éƒ¨å˜é‡ï¼š" class="headerlink" title="çº¿ç¨‹å±€éƒ¨å˜é‡ï¼š"></a>çº¿ç¨‹å±€éƒ¨å˜é‡ï¼š</h6><p>â€‹å„ä¸ªçº¿ç¨‹é—´ï¼Œæœ‰æ—¶éœ€è¦é¿å…å…±äº«å˜é‡ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ThreadLocalè¾…åŠ©ç±»ä¸ºå„ä¸ªçº¿ç¨‹æä¾›å„è‡ªçš„å®ä¾‹ã€‚</p><p>æˆ‘ä»¬éœ€è¦åœ¨çº¿ç¨‹ç±»ä¸­åˆ›å»ºThreadLocalå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨è¯¥å¯¹è±¡æ¥ä¸ºæ¯ä¸ªçº¿ç¨‹ç”Ÿæˆå±äºè‡ªå·±çš„å±€éƒ¨å˜é‡</p><p>å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// One implementation</span></span><br><span class="line">ThreadLocal&lt;DateFormat&gt; localFormatter</span><br><span class="line">  = ThreadLocal.withInitial(() -&gt; <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>());</span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="type">DateFormat</span> <span class="variable">formatter</span> <span class="operator">=</span> localFormatter.get();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">java.lang.ThreadLocal&lt;T&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å±€éƒ¨å˜é‡ï¼Œåˆå§‹å€¼é€šè¿‡è°ƒç”¨ç»™å®šçš„æä¾›è€…ç”Ÿæˆ</span></span><br><span class="line"><span class="keyword">static</span> &lt;S&gt; ThreadLocal&lt;S&gt; <span class="title function_">withInitial</span><span class="params">(Supplier&lt;? extends S&gt; supplier)</span></span><br><span class="line">  <span class="comment">//å¾—åˆ°å±äºè¿™ä¸ªçº¿ç¨‹çš„å±€éƒ¨å˜é‡å€¼</span></span><br><span class="line">  T <span class="title function_">get</span><span class="params">()</span></span><br><span class="line">  <span class="comment">//ä¸º è¿™ä¸ªçº¿ç¨‹ çš„ è¿™ä¸ªå±€éƒ¨å˜é‡ è®¾ç½®ä¸€ä¸ªæ–°å€¼ï¼Œè¿™æ ·ä¼šå¯¼è‡´è¿™ä¸ªçº¿ç¨‹çš„å…¶ä»–åœ°æ–¹å¦‚æœè¦è·å–è¯¥å±€éƒ¨å˜é‡ï¼Œä¹Ÿä¼šè·å–æ–°å€¼ï¼</span></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(T t)</span></span><br><span class="line">  <span class="comment">//ç§»é™¤è¯¥çº¿ç¨‹çš„æŸä¸ªå±€éƒ¨å˜é‡</span></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="12-5-çº¿ç¨‹å®‰å…¨çš„é›†åˆï¼š"><a href="#12-5-çº¿ç¨‹å®‰å…¨çš„é›†åˆï¼š" class="headerlink" title="12.5.çº¿ç¨‹å®‰å…¨çš„é›†åˆï¼š"></a><u>12.5.çº¿ç¨‹å®‰å…¨çš„é›†åˆï¼š</u></h3><h4 id="é˜»å¡é˜Ÿåˆ—ï¼š"><a href="#é˜»å¡é˜Ÿåˆ—ï¼š" class="headerlink" title="é˜»å¡é˜Ÿåˆ—ï¼š"></a>é˜»å¡é˜Ÿåˆ—ï¼š</h4><p>â€‹ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—å­˜æ”¾å¾…æ‰§è¡Œçš„æŒ‡ä»¤å¯¹è±¡ (æŒ‡ä»¤ä¼šä¸²è¡Œæ‰§è¡Œ â€”-&gt; ä¸ä¼šé€ æˆçº¿ç¨‹å®‰å…¨é—®é¢˜)</p><p>![image-20230421093013063](&#x2F;Users&#x2F;donn&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230421093013063.png)</p><p><strong>å¦‚æœè¦ä½¿ç”¨é˜Ÿåˆ—ä½œä¸ºçº¿ç¨‹ç®¡ç†å·¥å…·ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<u>put()</u>ã€<u>take()</u>æ–¹æ³•</strong></p><p>peekå’Œpollé€šè¿‡è¿”å›nullæ¥è¡¨ç¤ºæ“ä½œå¤±è´¥ï¼Œæˆ‘ä»¬åˆ‡å¿Œåœ¨æ“ä½œä¸­å‘é˜Ÿåˆ—æ’å…¥nullå…ƒç´ (å¯¼è‡´æ— æ³•åˆ†è¾¨é˜Ÿåˆ—ä¸­å…ƒç´ ä¸ºnullè¿˜æ˜¯å–æ•°å¤±è´¥)</p><h4 id="é«˜æ•ˆçš„æ˜ å°„ã€é›†å’Œé˜Ÿåˆ—"><a href="#é«˜æ•ˆçš„æ˜ å°„ã€é›†å’Œé˜Ÿåˆ—" class="headerlink" title="é«˜æ•ˆçš„æ˜ å°„ã€é›†å’Œé˜Ÿåˆ—"></a>é«˜æ•ˆçš„æ˜ å°„ã€é›†å’Œé˜Ÿåˆ—</h4><p>â€‹java.util.concurrentåŒ…æä¾›<strong>å…è®¸å¹¶å‘è®¿é—®</strong>çš„æ•°æ®ç»“æ„ï¼Œå¦‚ï¼šConcurrentHashMapã€â€¦â€¦</p><p>â€‹â€”â€”ä½¿ç”¨äº†å¤æ‚çš„ç®—æ³•ä½¿è®¿é—®è¿™äº›æ•°æ®ç»“æ„çš„ä¸åŒéƒ¨åˆ†ä»è€Œå‡å°‘ç«äº‰</p><p>â€‹ConcurrentHashMapä¸­æœ‰ size()ä¸mappingCount()æ–¹æ³•å¯ä»¥è®¡ç®—map çš„å¤§å°ï¼š</p><p>â€‹sizeæ–¹æ³•ç”¨Integerè®°å½•å¤§å°å¯èƒ½ä¼šè¶Šç•Œï¼Œ</p><p>â€‹mappingCountä½¿ç”¨Longè®°å½•å¤§å°ï¼Œä¸ä¼šè¶Šç•Œ</p><p>â€‹å¦‚æœå¤šä¸ªçº¿ç¨‹è®¿é—®ConcurrentHashMapä¸­<strong>ä¸åŒçš„æ¡¶</strong>ï¼Œé‚£ä¹ˆå®ƒä»¬éƒ½èƒ½å¤Ÿè®¿é—®è€Œ<strong>ä¸é˜»å¡</strong></p><h4 id="æ˜ å°„æ¡ç›®çš„åŸå­æ›´æ–°ï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½"><a href="#æ˜ å°„æ¡ç›®çš„åŸå­æ›´æ–°ï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½" class="headerlink" title="* æ˜ å°„æ¡ç›®çš„åŸå­æ›´æ–°ï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½"></a>* æ˜ å°„æ¡ç›®çš„åŸå­æ›´æ–°ï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½</h4><h4 id="å¹¶å‘æ•£åˆ—æ˜ å°„çš„æ‰¹æ“ä½œï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½"><a href="#å¹¶å‘æ•£åˆ—æ˜ å°„çš„æ‰¹æ“ä½œï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½" class="headerlink" title="* å¹¶å‘æ•£åˆ—æ˜ å°„çš„æ‰¹æ“ä½œï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½"></a>* å¹¶å‘æ•£åˆ—æ˜ å°„çš„æ‰¹æ“ä½œï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½</h4><h4 id="å¹¶å‘é›†è§†å›¾ï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½"><a href="#å¹¶å‘é›†è§†å›¾ï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½" class="headerlink" title="* å¹¶å‘é›†è§†å›¾ï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½"></a>* å¹¶å‘é›†è§†å›¾ï¼šæš‚æ—¶çœ‹ä¸æ˜ç™½</h4><h4 id="å†™æ—¶æ‹·è´æ•°ç»„ï¼š"><a href="#å†™æ—¶æ‹·è´æ•°ç»„ï¼š" class="headerlink" title="å†™æ—¶æ‹·è´æ•°ç»„ï¼š"></a>å†™æ—¶æ‹·è´æ•°ç»„ï¼š</h4><p>â€‹CopyOnWriteArrayListã€CopyOnWriteArraySetæ˜¯çº¿ç¨‹å®‰å…¨çš„é›†åˆï¼Œæ‰€æœ‰æ›´æ”¹ä¹‹å‰ä¼šå…ˆåˆ›å»ºåº•å±‚æ•°ç»„çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œå› æ­¤ä¸­é€”æ•°ç»„è¢«ä¿®æ”¹äº†ï¼Œè¿­ä»£å™¨ä¹Ÿèƒ½è®¿é—®åŸæœ¬çš„æ•°ç»„(è™½ç„¶å¯èƒ½è¿‡æ—¶ï¼Œä½†å±äºä¸€è‡´çŠ¶æ€ï¼)</p><h4 id="å¹¶è¡Œæ•°ç»„ç®—æ³•"><a href="#å¹¶è¡Œæ•°ç»„ç®—æ³•" class="headerlink" title="* å¹¶è¡Œæ•°ç»„ç®—æ³•"></a>* å¹¶è¡Œæ•°ç»„ç®—æ³•</h4><h4 id="è¾ƒæ—©çš„çº¿ç¨‹å®‰å…¨é›†åˆ"><a href="#è¾ƒæ—©çš„çº¿ç¨‹å®‰å…¨é›†åˆ" class="headerlink" title="* è¾ƒæ—©çš„çº¿ç¨‹å®‰å…¨é›†åˆ"></a>* è¾ƒæ—©çš„çº¿ç¨‹å®‰å…¨é›†åˆ</h4><p>*æœ¬ç« å¾€åçš„éƒ¨åˆ†éƒ½çœ‹å¾—ä¸ç²¾ï¼ŒåŸºç¡€ä¸ç‰¢ï¼Œå…ˆå»çœ‹å‰é¢çš„çŸ¥è¯†äº†</p><h3 id="12-6-ä»»åŠ¡å’Œçº¿ç¨‹æ± "><a href="#12-6-ä»»åŠ¡å’Œçº¿ç¨‹æ± " class="headerlink" title="12.6.ä»»åŠ¡å’Œçº¿ç¨‹æ± "></a><u>12.6.ä»»åŠ¡å’Œçº¿ç¨‹æ± </u></h3><h4 id="Callableå’ŒFuture"><a href="#Callableå’ŒFuture" class="headerlink" title="*Callableå’ŒFuture"></a>*Callableå’ŒFuture</h4><h4 id="æ‰§è¡Œå™¨-Executors-ï¼š"><a href="#æ‰§è¡Œå™¨-Executors-ï¼š" class="headerlink" title="*æ‰§è¡Œå™¨(Executors)ï¼š"></a>*æ‰§è¡Œå™¨(Executors)ï¼š</h4><p>â€‹æ‰§è¡Œå™¨ä¸­æœ‰è®¸å¤šæ„é€ çº¿ç¨‹æ± çš„é™æ€å·¥å‚æ–¹æ³•ï¼Œå¯ä»¥æ„é€ å„ç§çº¿ç¨‹æ± </p><h5 id="ä½¿ç”¨çº¿ç¨‹æ± ä¸€èˆ¬æµç¨‹ï¼š"><a href="#ä½¿ç”¨çº¿ç¨‹æ± ä¸€èˆ¬æµç¨‹ï¼š" class="headerlink" title="ä½¿ç”¨çº¿ç¨‹æ± ä¸€èˆ¬æµç¨‹ï¼š"></a>ä½¿ç”¨çº¿ç¨‹æ± ä¸€èˆ¬æµç¨‹ï¼š</h5><ul><li>è°ƒç”¨Executorä¸­çš„é™æ€æ–¹æ³•newCachedThreadPool æˆ– newFixedThreadPool åˆ›å»ºçº¿ç¨‹æ± </li><li>è°ƒç”¨submitæäº¤Runnableæˆ–Callableå¯¹è±¡ â€”&gt;ç”¨äºå°†ä»»åŠ¡æäº¤ç»™çº¿ç¨‹æ± </li><li>ä¿ç•™è¿”å›çš„Futureå¯¹è±¡ï¼Œä»¥ä¾¿å¾—åˆ°ç»“æœæˆ–å–æ¶ˆä»»åŠ¡</li><li>ä¸æƒ³å†æäº¤ä»»ä½•ä»»åŠ¡æ—¶ï¼Œè°ƒç”¨shutdown()å…³é—­çº¿ç¨‹æ± </li></ul><table><thead><tr><th>newCachedThreadPool</th><th>è¿”å›ä¸€ä¸ªç¼“å­˜çº¿ç¨‹æ± ï¼Œå¿…è¦æ—¶åˆ›å»ºçº¿ç¨‹ï¼Œè‹¥çº¿ç¨‹ç©ºé—²äº†60ç§’åˆ™ç»ˆæ­¢è¯¥çº¿ç¨‹</th></tr></thead><tbody><tr><td>newFixedThreadPool(int threads)</td><td>è¿”å›ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œä½¿ç”¨ç»™å®šæ•°ç›®çš„çº¿ç¨‹æ‰§è¡Œä»»åŠ¡</td></tr></tbody></table><h3 id="12-7-å¼‚æ­¥è®¡ç®—"><a href="#12-7-å¼‚æ­¥è®¡ç®—" class="headerlink" title="12.7.å¼‚æ­¥è®¡ç®—"></a><u>12.7.å¼‚æ­¥è®¡ç®—</u></h3><h3 id="12-8-è¿›ç¨‹"><a href="#12-8-è¿›ç¨‹" class="headerlink" title="12.8.è¿›ç¨‹"></a><u>12.8.è¿›ç¨‹</u></h3>]]></content>
      
      
      <categories>
          
          <category> javaåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•å°ç»“</title>
      <link href="/2023/05/26/%E7%AE%97%E6%B3%95%E5%B0%8F%E7%BB%93/"/>
      <url>/2023/05/26/%E7%AE%97%E6%B3%95%E5%B0%8F%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>åä¸ºç¬”è¯•è€ƒç‚¹ï¼š<a href="http://www.cyc2018.xyz/%E7%AE%97%E6%B3%95/Leetcode%20%E9%A2%98%E8%A7%A3/Leetcode%20%E9%A2%98%E8%A7%A3%20-%20%E7%9B%AE%E5%BD%95.html#%E5%89%8D%E8%A8%80">this</a></p><h1 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h1><p>æœ‰ä¸¤ç§è®¡ç®—ä¸­å€¼ m çš„æ–¹å¼ï¼š</p><ul><li><p>m &#x3D; (l + h) &#x2F; 2</p></li><li><p>m &#x3D; l + (h - l) &#x2F; 2</p><p><strong>l + h å¯èƒ½å‡ºç°åŠ æ³•æº¢å‡º</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´åŠ æ³•çš„ç»“æœå¤§äºæ•´å‹èƒ½å¤Ÿè¡¨ç¤ºçš„èŒƒå›´ã€‚ä½†æ˜¯ l å’Œ h éƒ½ä¸ºæ­£æ•°ï¼Œå› æ­¤ h - l ä¸ä¼šå‡ºç°åŠ æ³•æº¢å‡ºé—®é¢˜ã€‚æ‰€ä»¥ï¼Œæœ€å¥½ä½¿ç”¨ç¬¬äºŒç§è®¡ç®—æ³•æ–¹æ³•ã€‚</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¦‚æœwhileä¸­æ˜¯ l &lt;= h çš„è¯ï¼Œé‚£ä¹ˆä¸‹é¢ä¹Ÿè¦å¯¹åº”çš„ l = m + 1; r = m - 1</span></span><br><span class="line"><span class="comment">//å¦‚ï¼š</span></span><br><span class="line"><span class="keyword">while</span>(l &lt;= h)&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> l + (h - l)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(nums[mid] &lt; target)&#123;</span><br><span class="line">        l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &gt;= target)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] == target)&#123;tag = <span class="literal">true</span>;&#125;</span><br><span class="line">        h = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœæ˜¯  l &lt; h çš„è¯ï¼Œé‚£ä¹ˆä¸‹é¢åªéœ€è¦å‡ºç°ä¸€ä¸ª &#123;l = m + 1  and  r = m&#125;  æˆ–è€…  &#123;l = m  and  r = m - 1&#125;!</span></span><br></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/capacity-to-ship-packages-within-d-days/">1011. åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›</a></p><p>&#x2F;&#x2F;è¿™é¢˜å¥½å¦™ï¼Œæœ¬èœé¸Ÿæ ¹æœ¬æƒ³ä¸åˆ°è¿™é¢˜è¿˜èƒ½äºŒåˆ†ï¼Œé•¿è§è¯†äº†ï¼</p><p>æˆ‘ä»¬å¯¹è¿è½½èƒ½åŠ›è¿›è¡Œè®¨è®ºï¼šå¯¹äºæŸè¿è½½èƒ½åŠ›ï¼Œ</p><ul><li><p>å¦‚æœæ­¤è¿è½½èƒ½åŠ›ä¸‹éœ€è¦çš„å¤©æ•°å¤§äºç³»ç»Ÿæ‰€è¿°çš„å¤©æ•°ï¼Œé‚£ä¹ˆéœ€è¦æé«˜è¿è½½èƒ½åŠ›ï¼›</p></li><li><p>å¦‚æœ    è¿è½½èƒ½åŠ›ä¸‹éœ€è¦çš„å¤©æ•°å°äºç³»ç»Ÿæ‰€è¿°çš„å¤©æ•°ï¼Œé‚£ä¹ˆéœ€è¦é™ä½è¿è½½èƒ½åŠ›ï¼›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">shipWithinDays</span><span class="params">(<span class="type">int</span>[] weights, <span class="type">int</span> days)</span> &#123;</span><br><span class="line">        <span class="comment">// ç¡®å®šäºŒåˆ†æŸ¥æ‰¾å·¦å³è¾¹ç•Œ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> Arrays.stream(weights).max().getAsInt(), right = Arrays.stream(weights).sum();</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right) / <span class="number">2</span>;</span><br><span class="line">            <span class="comment">// need ä¸ºéœ€è¦è¿é€çš„å¤©æ•°</span></span><br><span class="line">            <span class="comment">// cur ä¸ºå½“å‰è¿™ä¸€å¤©å·²ç»è¿é€çš„åŒ…è£¹é‡é‡ä¹‹å’Œ</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">need</span> <span class="operator">=</span> <span class="number">1</span>, cur = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> weight : weights) &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur + weight &gt; mid) &#123;</span><br><span class="line">                    ++need;</span><br><span class="line">                    cur = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                cur += weight;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//å› ä¸ºè¦æ±‚æœ€å°çš„è¿è½½èƒ½åŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å¾—åˆ°ç¬¦åˆæ¡ä»¶æ‰€è¿°å¤©æ•°çš„è¿è½½èƒ½åŠ›æ—¶ï¼Œè¦å†å¾€å°çš„è¿è½½èƒ½åŠ›é‚£è¾¹è¯•è¯•</span></span><br><span class="line">            <span class="keyword">if</span> (need &lt;= days) &#123;</span><br><span class="line">                right = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><p><a href="https://leetcode.cn/problems/minimize-the-maximum-difference-of-pairs/">2616. æœ€å°åŒ–æ•°å¯¹çš„æœ€å¤§å·®å€¼</a></p><p>ä¸ä¸Šä¸€é¢˜æ€è·¯ç›¸åŒï¼š</p><p>â€‹ğŸŒŸçœ‹åˆ°ã€Œ<strong>æœ€å¤§åŒ–æœ€å°å€¼</strong>ã€æˆ–è€…ã€Œ<strong>æœ€å°åŒ–æœ€å¤§å€¼</strong>ã€å°±è¦æƒ³åˆ°<u>äºŒåˆ†ç­”æ¡ˆ</u>ï¼Œè¿™æ˜¯ä¸€ä¸ªå›ºå®šçš„å¥—è·¯ã€‚</p><p>ä¸ºä»€ä¹ˆï¼Ÿä¸€èˆ¬æ¥è¯´ï¼ŒäºŒåˆ†çš„å€¼è¶Šå¤§ï¼Œè¶Šèƒ½&#x2F;ä¸èƒ½æ»¡è¶³è¦æ±‚ï¼›äºŒåˆ†çš„å€¼è¶Šå°ï¼Œè¶Šä¸èƒ½&#x2F;èƒ½æ»¡è¶³è¦æ±‚ï¼Œæœ‰å•è°ƒæ€§ï¼Œå¯ä»¥äºŒåˆ†ã€‚</p><p>åœ¨è¿™ä¸€é¢˜ä¸­ï¼Œæˆ‘ä»¬å¯¹ <strong>æœ€å¤§å·®å€¼çš„æœ€å°å€¼</strong> è¿›è¡ŒäºŒåˆ†(å·¦è¾¹ç•Œä¸º ä¸¤æ•°ç›¸ç­‰çš„å·®å€¼ï¼š0ï¼›å³è¾¹ç•Œä¸ºæœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®å€¼)å¯¹äºæŸä¸€ æœ€å¤§å·®å€¼çš„æœ€å°å€¼ midï¼šå¦‚æœæ»¡è¶³<u>å·®å€¼å°äºmid çš„æ•°å¯¹æ•°é‡</u>å¤§äºpï¼Œåˆ™åº”å½“å‡å°mid(æ»¡è¶³çš„å¤ªå¤šäº†ï¼Œè¦è®©æ¡ä»¶ä¸¥æ ¼ä¸€äº›)ï¼Œå¦åˆ™åä¹‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimizeMax</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> p)</span> &#123;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length, left = -<span class="number">1</span>, right = nums[n - <span class="number">1</span>] - nums[<span class="number">0</span>]; <span class="comment">// å¼€åŒºé—´</span></span><br><span class="line">        <span class="keyword">while</span> (left + <span class="number">1</span> &lt; right) &#123; <span class="comment">// å¼€åŒºé—´</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right) &gt;&gt;&gt; <span class="number">1</span>, cnt = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n - <span class="number">1</span>; ++i)</span><br><span class="line">                <span class="keyword">if</span> (nums[i + <span class="number">1</span>] - nums[i] &lt;= mid) &#123; <span class="comment">// éƒ½é€‰</span></span><br><span class="line">                    ++cnt;</span><br><span class="line">                    ++i;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="keyword">if</span> (cnt &gt;= p) right = mid;</span><br><span class="line">            <span class="keyword">else</span> left = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">ä½œè€…ï¼šendlesscheng</span><br><span class="line">é“¾æ¥ï¼šhttps:<span class="comment">//leetcode.cn/problems/minimize-the-maximum-difference-of-pairs/solution/er-fen-da-an-tan-xin-by-endlesscheng-dlxv/</span></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br></pre></td></tr></table></figure><h1 id="åˆ†æ²»ï¼š"><a href="#åˆ†æ²»ï¼š" class="headerlink" title="åˆ†æ²»ï¼š"></a>åˆ†æ²»ï¼š</h1><p><a href="https://leetcode.cn/problems/different-ways-to-add-parentheses/">241. ä¸ºè¿ç®—è¡¨è¾¾å¼è®¾è®¡ä¼˜å…ˆçº§</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">diffWaysToCompute</span><span class="params">(String input)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; ways = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; input.length(); i++) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> input.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">&#x27;+&#x27;</span> || c == <span class="string">&#x27;-&#x27;</span> || c == <span class="string">&#x27;*&#x27;</span>) &#123;</span><br><span class="line">            List&lt;Integer&gt; left = diffWaysToCompute(input.substring(<span class="number">0</span>, i));</span><br><span class="line">            List&lt;Integer&gt; right = diffWaysToCompute(input.substring(i + <span class="number">1</span>));</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> l : left) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> r : right) &#123;</span><br><span class="line">                    <span class="keyword">switch</span> (c) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                            ways.add(l + r);</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">                            ways.add(l - r);</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                            ways.add(l * r);</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (ways.size() == <span class="number">0</span>) &#123;</span><br><span class="line">        ways.add(Integer.valueOf(input));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ways;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//çœŸçš„å¤ªä¼˜ç¾äº†ï¼</span></span><br></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/unique-binary-search-trees-ii/">95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title function_">generateTrees</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> generate(<span class="number">1</span>,n);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title function_">generate</span><span class="params">(<span class="type">int</span> start, <span class="type">int</span> end)</span>&#123;</span><br><span class="line">        List&lt;TreeNode&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;TreeNode&gt;();</span><br><span class="line">        <span class="keyword">if</span>(start &gt; end)&#123;</span><br><span class="line">            res.add(<span class="literal">null</span>);</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i&lt;=end; i++)&#123;</span><br><span class="line">            List&lt;TreeNode&gt; left = generate(start, i - <span class="number">1</span>);</span><br><span class="line">            List&lt;TreeNode&gt; right = generate(i + <span class="number">1</span>, end);</span><br><span class="line">            <span class="keyword">for</span>(TreeNode l: left)&#123;</span><br><span class="line">                <span class="keyword">for</span>(TreeNode r: right)&#123;</span><br><span class="line">                    <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(i);</span><br><span class="line">                    root.left = l;</span><br><span class="line">                    root.right = r;</span><br><span class="line">                    res.add(root);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>åšå®Œè¿™ä¸¤é“ï¼Œæ„Ÿè§‰å·²ç»æ‘¸æ¸…äº†åˆ†æ²»çš„åº•ç»†ï¼ éå†ç‰¹å¾ç‚¹ï¼Œå·¦è¾¹å’Œå³è¾¹çš„ä¸åŒæƒ…å†µæ’åˆ—ç»„åˆå¾—åˆ°å¤šç§ç»“æœ</p><h1 id="æœç´¢ï¼š"><a href="#æœç´¢ï¼š" class="headerlink" title="æœç´¢ï¼š"></a>æœç´¢ï¼š</h1><h2 id="BFSï¼š"><a href="#BFSï¼š" class="headerlink" title="BFSï¼š"></a>BFSï¼š</h2><p>â€‹åœ¨ç¨‹åºå®ç° BFS æ—¶éœ€è¦è€ƒè™‘ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li><strong>é˜Ÿåˆ—</strong>ï¼šç”¨æ¥å­˜å‚¨æ¯ä¸€è½®éå†å¾—åˆ°çš„èŠ‚ç‚¹ï¼›</li><li><strong>æ ‡è®°</strong>ï¼šå¯¹äºéå†è¿‡çš„èŠ‚ç‚¹ï¼Œåº”è¯¥å°†å®ƒæ ‡è®°ï¼Œé˜²æ­¢é‡å¤éå†ã€‚</li></ul><p>LinkedList&lt;&gt;() çš„APIï¼š<strong>poll</strong>è·å–å¹¶åˆ é™¤é˜Ÿå¤´å…ƒç´ ï¼›<strong>offer</strong>å‘é˜Ÿå°¾æ·»åŠ å…ƒç´ </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(!wordList.contains(endWord))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (beginWord.equals(endWord))<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//æ ‡è®°</span></span><br><span class="line">        HashSet&lt;String&gt; hashset = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//bfs</span></span><br><span class="line">        LinkedList&lt;String&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>();</span><br><span class="line">        queue.offer(beginWord);</span><br><span class="line">        hashset.add(beginWord);</span><br><span class="line">        <span class="keyword">while</span>(queue.size() != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sz</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            res++;</span><br><span class="line">            <span class="keyword">while</span>(sz-- != <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">word</span> <span class="operator">=</span> queue.poll();</span><br><span class="line"><span class="comment">//                if(word.equals(endWord))return res;</span></span><br><span class="line"><span class="comment">//                res++;</span></span><br><span class="line"><span class="comment">//                if(hashset.contains(word))continue;</span></span><br><span class="line">                <span class="keyword">for</span>(String s:wordList)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(judge(word,s) &amp;&amp; !hashset.contains(s))&#123;</span><br><span class="line">                        queue.offer(s);</span><br><span class="line">                        <span class="keyword">if</span>(s.equals(endWord))<span class="keyword">return</span> res;</span><br><span class="line">                        <span class="comment">// System.out.println(word + &quot;-&gt;&quot; +s);</span></span><br><span class="line">                        hashset.add(s);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//éœ€è¦å†™ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å·®å¼‚æ˜¯å¦ä¸ºä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">judge</span> <span class="params">(String s1, String s2)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s1.length() != s2.length())<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s1.length(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s1.charAt(i) != s2.charAt(i))count++;</span><br><span class="line">            <span class="keyword">if</span>(count &gt; <span class="number">1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="DFS"><a href="#DFS" class="headerlink" title="DFS:"></a>DFS:</h2><p>â€‹ä»ä¸€ä¸ªèŠ‚ç‚¹å‡ºå‘ï¼Œä½¿ç”¨ DFS å¯¹ä¸€ä¸ªå›¾è¿›è¡Œéå†æ—¶ï¼Œèƒ½å¤Ÿéå†åˆ°çš„èŠ‚ç‚¹éƒ½æ˜¯ä»åˆå§‹èŠ‚ç‚¹å¯è¾¾çš„ï¼ŒDFS å¸¸ç”¨æ¥æ±‚è§£è¿™ç§ <strong>å¯è¾¾æ€§</strong> é—®é¢˜ã€‚</p><p>åœ¨ç¨‹åºå®ç° DFS æ—¶éœ€è¦è€ƒè™‘ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li><strong>æ ˆ</strong>ï¼šç”¨æ ˆæ¥ä¿å­˜å½“å‰èŠ‚ç‚¹ä¿¡æ¯ï¼Œå½“éå†æ–°èŠ‚ç‚¹è¿”å›æ—¶èƒ½å¤Ÿç»§ç»­éå†å½“å‰èŠ‚ç‚¹ã€‚å¯ä»¥ä½¿ç”¨é€’å½’æ ˆã€‚</li><li><strong>æ ‡è®°</strong>ï¼šå’Œ BFS ä¸€æ ·åŒæ ·éœ€è¦å¯¹å·²ç»éå†è¿‡çš„èŠ‚ç‚¹è¿›è¡Œæ ‡è®°ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¥—è·¯æ ¼å¼</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> [][] direction =  <span class="keyword">new</span> <span class="title class_">int</span>[][]&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;<span class="comment">//æ–¹å‘ï¼Œè§†é¢˜ç›®è€Œå®š</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxAreaOfIsland</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; grid.length; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; grid[<span class="number">0</span>].length; j++)&#123;</span><br><span class="line">                res = Math.max(res, dfs(grid, i, j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> [][] grid, <span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">      <span class="comment">//å‡ºç•Œæˆ–è€…å·²ç»åˆ°è¾¾è¿‡</span></span><br><span class="line">        <span class="keyword">if</span>(i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span> || i &gt;= grid.length || j &gt;= grid[<span class="number">0</span>].length || grid[i][j] == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">addition</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        grid[i][j] = <span class="number">0</span>;<span class="comment">//åˆ°è¾¾è¿‡çš„åœ°ç‚¹å…¨éƒ¨è¿›è¡Œæ ‡è®°(ä¸èƒ½å†æ¬¡åˆ°è¾¾)</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; direction.length; k++)&#123;</span><br><span class="line">            addition += dfs(grid, i + direction[k][<span class="number">0</span>], j + direction[k][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> addition;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å›æº¯ï¼š"><a href="#å›æº¯ï¼š" class="headerlink" title="å›æº¯ï¼š"></a>å›æº¯ï¼š</h2><p>â€‹Backtrackingï¼ˆå›æº¯ï¼‰å±äº DFSã€‚</p><ul><li>æ™®é€š DFS ä¸»è¦ç”¨åœ¨ <strong>å¯è¾¾æ€§é—®é¢˜</strong> ï¼Œè¿™ç§é—®é¢˜åªéœ€è¦æ‰§è¡Œåˆ°ç‰¹ç‚¹çš„ä½ç½®ç„¶åè¿”å›å³å¯ã€‚</li><li>è€Œ Backtracking ä¸»è¦ç”¨äºæ±‚è§£ <strong>æ’åˆ—ç»„åˆ</strong> é—®é¢˜ï¼Œä¾‹å¦‚æœ‰ { â€˜aâ€™,â€™bâ€™,â€™câ€™ } ä¸‰ä¸ªå­—ç¬¦ï¼Œæ±‚è§£æ‰€æœ‰ç”±è¿™ä¸‰ä¸ªå­—ç¬¦æ’åˆ—å¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œè¿™ç§é—®é¢˜åœ¨æ‰§è¡Œåˆ°ç‰¹å®šçš„ä½ç½®è¿”å›ä¹‹åè¿˜ä¼šç»§ç»­æ‰§è¡Œæ±‚è§£è¿‡ç¨‹ã€‚</li></ul><p>å› ä¸º Backtracking ä¸æ˜¯ç«‹å³è¿”å›ï¼Œè€Œè¦ç»§ç»­æ±‚è§£ï¼Œå› æ­¤åœ¨ç¨‹åºå®ç°æ—¶ï¼Œéœ€è¦æ³¨æ„å¯¹å…ƒç´ çš„æ ‡è®°é—®é¢˜ï¼š</p><ul><li>åœ¨è®¿é—®ä¸€ä¸ªæ–°å…ƒç´ è¿›å…¥æ–°çš„é€’å½’è°ƒç”¨æ—¶ï¼Œéœ€è¦å°†æ–°å…ƒç´ æ ‡è®°ä¸ºå·²ç»è®¿é—®ï¼Œè¿™æ ·æ‰èƒ½åœ¨ç»§ç»­é€’å½’è°ƒç”¨æ—¶ä¸ç”¨é‡å¤è®¿é—®è¯¥å…ƒç´ ï¼›</li><li>ä½†æ˜¯åœ¨é€’å½’è¿”å›æ—¶ï¼Œéœ€è¦å°†å…ƒç´ æ ‡è®°ä¸ºæœªè®¿é—®ï¼Œå› ä¸ºåªéœ€è¦ä¿è¯åœ¨ä¸€ä¸ªé€’å½’é“¾ä¸­ä¸åŒæ—¶è®¿é—®ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥è®¿é—®å·²ç»è®¿é—®è¿‡ä½†æ˜¯ä¸åœ¨å½“å‰é€’å½’é“¾ä¸­çš„å…ƒç´ ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å¯¹äºä¸€å®šè§„åˆ™ä¸‹çš„æ’åˆ—ç»„åˆé—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨å›æº¯æ³•è¿›è¡Œæ±‚è§£</span><br><span class="line">å›æº¯æ³• = dfs+å›æº¯æ“ä½œ</span><br><span class="line">ä¸€èˆ¬è€Œè¨€void dfsçš„å‚æ•°å¦‚ä¸‹(int n, &lt;T&gt;å­˜å‚¨å½“å‰æ­¥éª¤ç”Ÿæˆçš„ä¸­é—´ç»“æœçš„å˜é‡,ç”¨äºå­˜å‚¨æœ€ç»ˆå„ç§æƒ…å†µçš„å˜é‡[ä¸€èˆ¬ä¸ºä¸€ä¸ªArrayList], å¾…è¿›è¡Œæ“ä½œçš„å…ƒç´ )ï¼›</span><br><span class="line">å¦‚ï¼šdfs(0,new StringBuilder(),res,s);</span><br><span class="line">dfsä¸­åˆšå¼€å§‹å†™ä¸Šç»ˆæ­¢æ¡ä»¶ï¼šnåˆ°è¾¾æŒ‡å®šè½®æ•°æˆ–ä¸æ»¡è¶³å…¶ä»–é™åˆ¶æ¡ä»¶ï¼Œç›´æ¥return</span><br><span class="line">æ¥ä¸‹æ¥æ ¹æ®å½“å‰å­˜å‚¨çš„ä¸­é—´ç»“æœï¼Œå†Â·ç»™ä¸­é—´ç»“æœæ·»åŠ è¿™è½®å¾—åˆ°çš„äº§ç‰© Â·Â·å¯¹å…¶è¿›è¡Œä¸‹ä¸€è½®dfs Â·Â·Â·å°†è¿™è½®çš„äº§ç‰©åˆ å»ï¼Œå¹¶æ¢æˆè¿™ä¸€è½®äº§ç‰©çš„ä¸‹ä¸€ç§æƒ…å†µï¼</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å›æº¯æ¨¡ç‰ˆï¼š</span></span><br><span class="line"><span class="comment">//åœ¨å›æº¯æ—¶ï¼Œå¦‚æœä½¿ç”¨ArrayListç­‰å¼•ç”¨å¯¹è±¡å­˜æ”¾ä½ äº§ç”Ÿçš„ç»“æœï¼Œåœ¨å°†å…¶æ·»åŠ è‡³ç»“æœé›†ä¸­æ—¶éœ€è¦é‡æ–°åˆ›å»ºä¸€ä¸ªä¸å…¶ç›¸åŒçš„å‰¯æœ¬ï¼Œå°†å‰¯æœ¬åŠ å…¥ç»“æœé›†ï¼Œå¦‚æœä¸è¿™æ ·åšï¼Œå›æº¯ååˆ é™¤äº†å…ƒç´ ä¼šå¯¼è‡´ç»“æœé›†ä¸­å…ƒç´ çš„æ”¹å˜ã€‚ã€‚</span></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">permute</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(nums.length == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">   ArrayList&lt;Integer&gt; curNum = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="type">boolean</span>[] tag = <span class="keyword">new</span> <span class="title class_">boolean</span>[nums.length];</span><br><span class="line">        dfs(curNum, tag, res, nums);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(ArrayList&lt;Integer&gt; curNum,<span class="type">boolean</span>[] tag, List&lt;List&lt;Integer&gt;&gt; res, <span class="type">int</span>[] nums)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(curNum.size() == nums.length)&#123;</span><br><span class="line">            res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(curNum));<span class="comment">//##############################å°±è¯´çš„æ˜¯è¿™é‡Œï¼ï¼ï¼ï¼</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!tag[i])&#123;</span><br><span class="line">                curNum.add(nums[i]);</span><br><span class="line">                tag[i] = <span class="literal">true</span>;</span><br><span class="line">                dfs(curNum, tag, res, nums);</span><br><span class="line">                curNum.remove(curNum.size() - <span class="number">1</span>);</span><br><span class="line">                tag[i] = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºæ’åˆ—é—®é¢˜ï¼šæˆ‘ä»¬åªéœ€è¦éå†å¹¶å›æº¯æ‰€æœ‰çš„æƒ…å†µå¹¶è®°å½•å³å¯ï¼Œ</p><p><strong>ç»„åˆé—®é¢˜</strong>ï¼Œç›¸å¯¹äºæ’åˆ—é—®é¢˜è€Œè¨€ï¼Œä¸è®¡è¾ƒä¸€ä¸ªç»„åˆå†…å…ƒç´ çš„é¡ºåºæ€§ï¼ˆå³ [1, 2, 3] ä¸ [1, 3, 2] è®¤ä¸ºæ˜¯åŒä¸€ä¸ªç»„åˆï¼‰ï¼Œå› æ­¤å¾ˆå¤šæ—¶å€™<strong>éœ€è¦æŒ‰æŸç§é¡ºåºå±•å¼€æœç´¢</strong>ï¼Œè¿™æ ·æ‰èƒ½åšåˆ°ä¸é‡ä¸æ¼ã€‚</p><p>æˆ‘ä»¬éœ€è¦æŒ‰ç…§æŸç§é¡ºåº(æ¯”å¦‚å¤§å°é¡ºåº)è¿›è¡Œæœç´¢ï¼Œä¹Ÿå°±æ˜¯â€œå‰ªæâ€</p><p><u>ç¬”è®°çš„å›æº¯ç¬¬11ã€12ã€13ã€14ã€15é¢˜æœªåšï¼</u></p><h1 id="è´ªå¿ƒï¼š"><a href="#è´ªå¿ƒï¼š" class="headerlink" title="è´ªå¿ƒï¼š"></a>è´ªå¿ƒï¼š</h1><h3 id="é€‚ç”¨èŒƒå›´ï¼š"><a href="#é€‚ç”¨èŒƒå›´ï¼š" class="headerlink" title="é€‚ç”¨èŒƒå›´ï¼š"></a>é€‚ç”¨èŒƒå›´ï¼š</h3><p>è´ªå¿ƒç®—æ³•åœ¨<strong>æœ‰æœ€ä¼˜å­ç»“æ„</strong>çš„é—®é¢˜ä¸­å°¤ä¸ºæœ‰æ•ˆã€‚æœ€ä¼˜å­ç»“æ„çš„æ„æ€æ˜¯é—®é¢˜èƒ½å¤Ÿåˆ†è§£æˆå­é—®é¢˜æ¥è§£å†³ï¼Œå­é—®é¢˜çš„æœ€ä¼˜è§£èƒ½é€’æ¨åˆ°æœ€ç»ˆé—®é¢˜çš„æœ€ä¼˜è§£ã€‚</p><h2 id="ä¸¤ç§å¸¸è§æ€è·¯ï¼š"><a href="#ä¸¤ç§å¸¸è§æ€è·¯ï¼š" class="headerlink" title="ä¸¤ç§å¸¸è§æ€è·¯ï¼š"></a>ä¸¤ç§å¸¸è§æ€è·¯ï¼š</h2><h3 id="æ’åºè§£æ³•"><a href="#æ’åºè§£æ³•" class="headerlink" title="æ’åºè§£æ³•"></a>æ’åºè§£æ³•</h3><p>ç”¨æ’åºæ³•å¸¸è§çš„æƒ…å†µæ˜¯è¾“å…¥ä¸€ä¸ªåŒ…å«å‡ ä¸ªï¼ˆä¸€èˆ¬ä¸€åˆ°ä¸¤ä¸ªï¼‰æƒå€¼çš„æ•°ç»„ï¼Œé€šè¿‡æ’åºç„¶åéå†æ¨¡æ‹Ÿè®¡ç®—çš„æ–¹æ³•æ±‚å‡ºæœ€ä¼˜å€¼ã€‚</p><h3 id="åæ‚”è§£æ³•"><a href="#åæ‚”è§£æ³•" class="headerlink" title="åæ‚”è§£æ³•"></a>åæ‚”è§£æ³•</h3><p>æ€è·¯æ˜¯æ— è®ºå½“å‰çš„é€‰é¡¹æ˜¯å¦æœ€ä¼˜éƒ½æ¥å—ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœé€‰æ‹©ä¹‹åä¸æ˜¯æœ€ä¼˜äº†ï¼Œåˆ™åæ‚”ï¼Œèˆå¼ƒæ‰è¿™ä¸ªé€‰é¡¹ï¼›å¦åˆ™ï¼Œæ­£å¼æ¥å—ã€‚å¦‚æ­¤å¾€å¤ã€‚</p><h1 id="åŠ¨æ€è§„åˆ’ï¼"><a href="#åŠ¨æ€è§„åˆ’ï¼" class="headerlink" title="åŠ¨æ€è§„åˆ’ï¼"></a>åŠ¨æ€è§„åˆ’ï¼</h1><p>â€‹å†™åˆ°0-1èƒŒåŒ…ç¬¬ä¸‰é¢˜</p><h1 id="é“¾è¡¨ï¼š"><a href="#é“¾è¡¨ï¼š" class="headerlink" title="é“¾è¡¨ï¼š"></a>é“¾è¡¨ï¼š</h1><h3 id="çº¯é“¾è¡¨æ“ä½œçš„é¢˜ç›®æœ‰å¾ˆå¤šéƒ½å¯ä»¥ä½¿ç”¨-é€’å½’-è§£å†³ï¼"><a href="#çº¯é“¾è¡¨æ“ä½œçš„é¢˜ç›®æœ‰å¾ˆå¤šéƒ½å¯ä»¥ä½¿ç”¨-é€’å½’-è§£å†³ï¼" class="headerlink" title="çº¯é“¾è¡¨æ“ä½œçš„é¢˜ç›®æœ‰å¾ˆå¤šéƒ½å¯ä»¥ä½¿ç”¨ é€’å½’ è§£å†³ï¼"></a>çº¯é“¾è¡¨æ“ä½œçš„é¢˜ç›®æœ‰å¾ˆå¤šéƒ½å¯ä»¥ä½¿ç”¨ <em>é€’å½’</em> è§£å†³ï¼</h3><p>å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¦æ±‚ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">swapPairs</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="literal">null</span> || head.next == <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> head.next;</span><br><span class="line">    head.next = swapPairs(next.next);</span><br><span class="line">    next.next = head;</span><br><span class="line">    <span class="keyword">return</span> next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é™¤äº†é€’å½’å¾ˆå¸¸è§ä»¥å¤–ï¼Œå¿«æ…¢æŒ‡é’ˆçš„æ–¹æ³•-ä¹Ÿå¾ˆå¸¸è§"><a href="#é™¤äº†é€’å½’å¾ˆå¸¸è§ä»¥å¤–ï¼Œå¿«æ…¢æŒ‡é’ˆçš„æ–¹æ³•-ä¹Ÿå¾ˆå¸¸è§" class="headerlink" title="é™¤äº†é€’å½’å¾ˆå¸¸è§ä»¥å¤–ï¼Œå¿«æ…¢æŒ‡é’ˆçš„æ–¹æ³• ä¹Ÿå¾ˆå¸¸è§"></a>é™¤äº†é€’å½’å¾ˆå¸¸è§ä»¥å¤–ï¼Œ<u><em>å¿«æ…¢æŒ‡é’ˆçš„æ–¹æ³•</em></u> ä¹Ÿå¾ˆå¸¸è§</h3><p>å¦‚åˆ¤æ–­é“¾è¡¨æ˜¯å¦å›æ–‡ï¼Œå¯ä»¥ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨çš„ä¸­é—´(å…·ä½“å¥‡å¶ä½å†è€ƒè™‘)ï¼Œå†å°†é“¾è¡¨åˆ†å‰²ä½ä¸¤ä¸ªå­é“¾è¡¨ï¼Œåè½¬å…¶ä¸€ï¼Œå¦‚æœä¸¤ä¸ªå­é“¾è¡¨ç›¸ç­‰åˆ™å›æ–‡ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPalindrome</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head, fast = head.next;</span><br><span class="line">    <span class="keyword">while</span> (fast != <span class="literal">null</span> &amp;&amp; fast.next != <span class="literal">null</span>) &#123;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (fast != <span class="literal">null</span>) slow = slow.next;  <span class="comment">// å¶æ•°èŠ‚ç‚¹ï¼Œè®© slow æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    cut(head, slow);                     <span class="comment">// åˆ‡æˆä¸¤ä¸ªé“¾è¡¨</span></span><br><span class="line">    <span class="keyword">return</span> isEqual(head, reverse(slow));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">cut</span><span class="params">(ListNode head, ListNode cutNode)</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (head.next != cutNode) &#123;</span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">    head.next = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> ListNode <span class="title function_">reverse</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">newHead</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">nextNode</span> <span class="operator">=</span> head.next;</span><br><span class="line">        head.next = newHead;</span><br><span class="line">        newHead = head;</span><br><span class="line">        head = nextNode;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newHead;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isEqual</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (l1 != <span class="literal">null</span> &amp;&amp; l2 != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (l1.val != l2.val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        l1 = l1.next;</span><br><span class="line">        l2 = l2.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ ‘ï¼š"><a href="#æ ‘ï¼š" class="headerlink" title="æ ‘ï¼š"></a>æ ‘ï¼š</h1><h2 id="é€’å½’ï¼š"><a href="#é€’å½’ï¼š" class="headerlink" title="é€’å½’ï¼š"></a>é€’å½’ï¼š</h2><p>ä¸€æ£µæ ‘è¦ä¹ˆæ˜¯ç©ºæ ‘ï¼Œè¦ä¹ˆæœ‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œæ¯ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€æ£µæ ‘ã€‚æ ‘æ˜¯ä¸€ç§é€’å½’ç»“æ„ï¼Œå¾ˆå¤šæ ‘çš„é—®é¢˜å¯ä»¥ä½¿ç”¨<strong>é€’å½’</strong>æ¥å¤„ç†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">å¯¹æ ‘çš„æ“ä½œï¼Œä¸€èˆ¬å¯ä»¥ç”¨é€’å½’è§£å†³ï¼š</span><br><span class="line"><span class="comment">//é€šç”¨æ ¼å¼ï¼š</span></span><br><span class="line">functionname ( TreeNode root )&#123;</span><br><span class="line"><span class="keyword">if</span>(root  == <span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> xx;</span><br><span class="line">  &#125;  </span><br><span class="line">  root.left = functionname(xxx);</span><br><span class="line">  root.right = functionname(xxx);</span><br><span class="line">  <span class="keyword">return</span> xxx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¾‹1:</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">diameterOfBinaryTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    depth(root);</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">depth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">leftDepth</span> <span class="operator">=</span> depth(root.left);</span><br><span class="line">    <span class="type">int</span> <span class="variable">rightDepth</span> <span class="operator">=</span> depth(root.right);</span><br><span class="line">    max = Math.max(max, leftDepth + rightDepth);</span><br><span class="line">    <span class="keyword">return</span> Math.max(leftDepth, rightDepth) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¾‹2:</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">invertTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">null</span>)&#123;<span class="keyword">return</span> root;&#125;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">temp</span> <span class="operator">=</span> root.left;</span><br><span class="line">        root.left = invertTree(root.right);</span><br><span class="line">        root.right = invertTree(temp);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//ä¾‹3:</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">mergeTrees</span><span class="params">(TreeNode root1, TreeNode root2)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(root1 == <span class="literal">null</span> &amp;&amp; root2 == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root1 == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> root2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root2 == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> root1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(root1.val + root2.val);</span><br><span class="line">        res.left = mergeTrees(root1.left, root2.left);</span><br><span class="line">        res.right = mergeTrees(root1.right, root2.right);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¾‹4:ä¸€ç§æœ‰ç‚¹å¦™çš„æ ¼å¼ï¼š</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSubtree</span><span class="params">(TreeNode s, TreeNode t)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> isSubtreeWithRoot(s, t) || isSubtree(s.left, t) || isSubtree(s.right, t);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isSubtreeWithRoot</span><span class="params">(TreeNode s, TreeNode t)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (t == <span class="literal">null</span> &amp;&amp; s == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (t == <span class="literal">null</span> || s == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (t.val != s.val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> isSubtreeWithRoot(s.left, t.left) &amp;&amp; isSubtreeWithRoot(s.right, t.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»§ç»­åšå‰ä¸­ååºéå†!</p><h2 id="å±‚æ¬¡éå†ï¼š"><a href="#å±‚æ¬¡éå†ï¼š" class="headerlink" title="å±‚æ¬¡éå†ï¼š"></a>å±‚æ¬¡éå†ï¼š</h2><p>å¹¿åº¦ä¼˜å…ˆå³å¯</p><h2 id="å‰ä¸­ååºéå†ï¼š"><a href="#å‰ä¸­ååºéå†ï¼š" class="headerlink" title="å‰ä¸­ååºéå†ï¼š"></a>å‰ä¸­ååºéå†ï¼š</h2><h2 id="BSTï¼š"><a href="#BSTï¼š" class="headerlink" title="BSTï¼š"></a>BSTï¼š</h2><h2 id="Trieï¼š"><a href="#Trieï¼š" class="headerlink" title="Trieï¼š"></a>Trieï¼š</h2><h1 id="æ•°ç»„ä¸çŸ©é˜µï¼š"><a href="#æ•°ç»„ä¸çŸ©é˜µï¼š" class="headerlink" title="æ•°ç»„ä¸çŸ©é˜µï¼š"></a>æ•°ç»„ä¸çŸ©é˜µï¼š</h1><p>çœ‹åˆ°ï¼š5. æœ‰åºçŸ©é˜µçš„ Kth Element</p><h1 id="å›¾ï¼š"><a href="#å›¾ï¼š" class="headerlink" title="å›¾ï¼š"></a>å›¾ï¼š</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//javaå»ºå›¾æ¨¡æ¿</span></span><br><span class="line">g = <span class="keyword">new</span> <span class="title class_">ArrayList</span>[n];</span><br><span class="line">Arrays.setAll(g, e -&gt; <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;() );</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> e : edges)&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> e[<span class="number">0</span>], y = e[<span class="number">1</span>];</span><br><span class="line">    g[x].add(y);</span><br><span class="line">    g[y].add(x);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒåˆ†å›¾ï¼š"><a href="#äºŒåˆ†å›¾ï¼š" class="headerlink" title="äºŒåˆ†å›¾ï¼š"></a>äºŒåˆ†å›¾ï¼š</h2><p>â€‹å¦‚æœå¯ä»¥ç”¨ä¸¤ç§é¢œè‰²å¯¹å›¾ä¸­çš„èŠ‚ç‚¹è¿›è¡Œç€è‰²ï¼Œå¹¶ä¸”ä¿è¯ç›¸é‚»çš„èŠ‚ç‚¹é¢œè‰²ä¸åŒï¼Œé‚£ä¹ˆè¿™ä¸ªå›¾å°±æ˜¯äºŒåˆ†å›¾ã€‚</p><p>â€‹&#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦æ˜¯äºŒåˆ†å›¾â¬‡ï¸</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">judge</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBipartite</span><span class="params">(<span class="type">int</span>[][] graph)</span> &#123;</span><br><span class="line">       <span class="comment">//colorè®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„é¢œè‰²ï¼Œ0ä¸ºè¿˜æ²¡è¢«æŸ“è‰²ï¼Œ1ã€2åˆ†åˆ«ä¸ºä¸¤ç§é¢œè‰²</span></span><br><span class="line">       <span class="type">int</span> color[] = <span class="keyword">new</span> <span class="title class_">int</span>[graph.length];</span><br><span class="line">       <span class="comment">//æˆ‘è®¤ä¸ºåº”è¯¥æ·±åº¦éå†è¿™ä¸ªå›¾ï¼Œç»™éå†è¿‡çš„ç»“ç‚¹æŸ“è‰²ï¼Œ</span></span><br><span class="line">       <span class="comment">//å¦‚æœé‡åˆ°å·²ç»æŸ“è‰²çš„ï¼Œçœ‹çœ‹å¦‚æœå’Œè‡ªå·±é¢œè‰²ç›¸åŒï¼Œåˆ™ä¸æ˜¯äºŒåˆ†å›¾ï¼</span></span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; graph.length; i++)&#123;</span><br><span class="line">           <span class="comment">//å¯¹äºæ¯æ£µå­æ ‘ï¼Œå¦‚æœæœ‰ä¸€ä¸ªèŠ‚ç‚¹è¢«dfsè¿‡ï¼Œé‚£ä¹ˆå¦‚æœå¯ä»¥æ„æˆäºŒåˆ†å­å›¾çš„è¯ï¼Œè¿™é¢—å­æ ‘ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹éƒ½ä¸å¿…å†è¿›è¡Œdfsäº†ï¼Œæ•…æ­¤å¤„åªæ‰¾è¿˜æœªè¢«æ¶‚è‰²çš„èŠ‚ç‚¹è¿›è¡Œdfsï¼</span></span><br><span class="line">           <span class="keyword">if</span>(color[i] == <span class="number">0</span>) &#123;</span><br><span class="line">               dfs(graph, i, <span class="number">1</span>, color);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> judge;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] graph, <span class="type">int</span> i, <span class="type">int</span> thisColor, <span class="type">int</span>[] color)</span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(!judge)<span class="keyword">return</span>;</span><br><span class="line">       color[i] = thisColor;</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; graph[i].length; j++)&#123;</span><br><span class="line">           <span class="keyword">if</span>(color[graph[i][j]] == <span class="number">0</span>)&#123;</span><br><span class="line">               dfs(graph, graph[i][j], thisColor==<span class="number">1</span>?<span class="number">2</span>:<span class="number">1</span>, color);</span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               <span class="keyword">if</span>(color[i] == color[graph[i][j]])&#123;</span><br><span class="line">                   judge = <span class="literal">false</span>;</span><br><span class="line">                   <span class="keyword">return</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h2 id="æ‹“æ‰‘æ’åºï¼š"><a href="#æ‹“æ‰‘æ’åºï¼š" class="headerlink" title="æ‹“æ‰‘æ’åºï¼š"></a>æ‹“æ‰‘æ’åºï¼š</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†é‚»æ¥çŸ©é˜µè½¬æ¢ä¸ºé‚»æ¥è¡¨ï¼š</span></span><br><span class="line"><span class="type">int</span>[][] prerequisites <span class="comment">//é‚»æ¥çŸ©é˜µ</span></span><br><span class="line">List&lt;Integer&gt;[] graphic = <span class="keyword">new</span> <span class="title class_">List</span>[numCourses];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">    graphic[i] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span>[] pre : prerequisites) &#123;</span><br><span class="line">    graphic[pre[<span class="number">0</span>]].add(pre[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹æ³•1: æ·±åº¦ä¼˜å…ˆ</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*å®šä¹‰ä¸‰ç§çŠ¶æ€ï¼š0-&gt;æœªæœç´¢ï¼›1-&gt;æœç´¢ä¸­ï¼›2-&gt;å·²å®Œæˆ</span></span><br><span class="line"><span class="comment">*éå†æ‰€æœ‰ç»“ç‚¹ï¼Œå¯¹æœªæœç´¢çš„ç»“ç‚¹è¿›è¡Œdfsï¼Œ</span></span><br><span class="line"><span class="comment">*å¯¹äºdfsï¼šå…ˆå°†è¯¥ç»“ç‚¹ç½®ä¸º1çŠ¶æ€ï¼Œéå†æ‰€æœ‰è¯¥ç»“ç‚¹éœ€è¦çš„ç»“ç‚¹ï¼Œå¦‚æœæ²¡æœ‰ä¾èµ–çš„ç»“ç‚¹æˆ–è€…ä¾èµ–çš„ç»“ç‚¹çš„çŠ¶æ€éƒ½ä¸º2ï¼Œåˆ™è¯¥ç»“ç‚¹ä¹Ÿ</span></span><br><span class="line"><span class="comment">*å¯ä»¥æ ‡è®°æˆ2ï¼›å¦‚æœè¯¥ç»“ç‚¹ä¾èµ–çš„ç»“ç‚¹çŠ¶æ€ä¸º0ï¼Œåˆ™dfsä¾èµ–çš„ç»“ç‚¹ï¼›å¦‚æœä¾èµ–çš„ç»“ç‚¹çš„çŠ¶æ€ä¸º1ï¼Œåˆ™è¯´æ˜å­˜åœ¨ç¯ï¼Œä¸æ»¡è¶³æ‹“æ‰‘æ’</span></span><br><span class="line"><span class="comment">*åºï¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//æ·±åº¦ä¼˜å…ˆåˆ¤æ–­æ‹“æ‰‘æ’åºâ¬‡ï¸</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">loop</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] findOrderByDFS(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites) &#123;</span><br><span class="line">        <span class="comment">//1.æ„å»ºå›¾</span></span><br><span class="line">        List&lt;Integer&gt;[] relation = <span class="keyword">new</span> <span class="title class_">ArrayList</span>[numCourses];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++)&#123;</span><br><span class="line">            relation[i] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>[] arr: prerequisites)&#123;</span><br><span class="line">            relation[arr[<span class="number">0</span>]].add(arr[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ„å»ºæ•°ç»„ï¼Œå­˜æ”¾æ¯é—¨è¯¾ç¨‹çš„çŠ¶æ€0ï¼Œ1ï¼Œ2</span></span><br><span class="line">        <span class="type">int</span>[] status = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">        LinkedList&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();<span class="comment">//ç”¨äºå­˜æ”¾è¯¾ç¨‹</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(status[i] == <span class="number">0</span>)&#123; <span class="comment">//æœªæœç´¢è¿‡ï¼Œäºæ˜¯å¯¹å…¶è¿›è¡Œdfsæœç´¢ï¼</span></span><br><span class="line">                dfs(i, relation, status,stack);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(loop)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> numCourses - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            res[i] = stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> curCourse, List&lt;Integer&gt;[] relation, <span class="type">int</span>[] status, LinkedList&lt;Integer&gt; stack)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(loop)<span class="keyword">return</span>;</span><br><span class="line">        status[curCourse] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> next: relation[curCourse])&#123;</span><br><span class="line">            <span class="keyword">if</span>(status[next] == <span class="number">0</span>)&#123;</span><br><span class="line">                dfs(next, relation, status,stack);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(status[next] == <span class="number">1</span>)&#123;</span><br><span class="line">                loop = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(curCourse);</span><br><span class="line">        status[curCourse] = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹æ³•2: å¹¿åº¦ä¼˜å…ˆ</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*å°†é‚»æ¥çŸ©é˜µè½¬åŒ–ä¸ºé‚»æ¥è¡¨ å…¶ä¸­ï¼šAéœ€è¦B == B-&gt;A å› æ­¤ ä»»åŠ¡Kå…¥åº¦ä¸º0è¡¨ç¤ºKå¯ä»¥ç›´æ¥å®Œæˆï¼</span></span><br><span class="line"><span class="comment">  *ä½¿ç”¨é˜Ÿåˆ—ï¼Œå°†å…¥åº¦ä¸º0çš„ä»»åŠ¡æ·»åŠ è‡³é˜Ÿåˆ—ï¼Œéå†è¿™äº›ä»»åŠ¡ï¼Œå°†å®ƒä»¬æŒ‡å‘çš„é˜Ÿåˆ—çš„å…¥åº¦--ï¼›å°†æ“ä½œåå…¥åº¦ä¸º0çš„å†æ·»åŠ è¿›é˜Ÿåˆ—</span></span><br><span class="line"><span class="comment">  *ç›´åˆ°é˜Ÿåˆ—ä¸ºç©º(å¦‚æœä»é˜Ÿåˆ—å¼¹å‡ºçš„ä»»åŠ¡æ€»æ•° &lt; æ€»ä»»åŠ¡æ•°ï¼Œåˆ™è¯´æ˜å›¾ä¸­æœ‰ç¯ï¼Œä¸èƒ½æ„æˆæ‹“æ‰‘æ’åº)</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="comment">//å¹¿åº¦ä¼˜å…ˆåˆ¤æ–­æ‹“æ‰‘æ’åº</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] findOrderByBFS(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites) &#123;</span><br><span class="line">        <span class="comment">//1.æ„å»ºå›¾</span></span><br><span class="line">        <span class="comment">//å¹¿åº¦ä¼˜å…ˆï¼Œaéœ€è¦b åˆ™ b-&gt;a</span></span><br><span class="line">        <span class="comment">//æ¯æ¬¡è®°å½•å…¥åº¦ä¸º0çš„è¯¾ç¨‹,å› æ­¤éœ€è¦åˆ›å»ºæ•°ç»„è®°å½•æ¯ä¸ªè¯¾ç¨‹çš„å…¥åº¦</span></span><br><span class="line">        List&lt;Integer&gt;[] relation = <span class="keyword">new</span> <span class="title class_">ArrayList</span>[numCourses];</span><br><span class="line">        <span class="type">int</span> []inDegree = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++)&#123;</span><br><span class="line">            relation[i] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>[] arr: prerequisites)&#123;</span><br><span class="line">            relation[arr[<span class="number">1</span>]].add(arr[<span class="number">0</span>]);</span><br><span class="line">            inDegree[arr[<span class="number">0</span>]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        LinkedList&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//é˜Ÿåˆ—åˆå§‹åŒ–ï¼šå°†æ‰€æœ‰å…¥åº¦ä¸º0çš„è¯¾ç¨‹éƒ½åŠ å…¥queue</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numCourses; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(inDegree[i] == <span class="number">0</span>)&#123;</span><br><span class="line">                queue.offer(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–å®Œæ¯•ï¼Œå¼€å§‹å¸¸è§„bfs</span></span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sz</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            <span class="keyword">while</span>(sz-- &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">curCourse</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i: relation[curCourse])&#123;</span><br><span class="line">                    inDegree[i]--;</span><br><span class="line">                    <span class="keyword">if</span>(inDegree[i] == <span class="number">0</span>)&#123;</span><br><span class="line">                        queue.offer(i);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                res[index++] = curCourse;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> index == numCourses? res: <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="å¹¶æŸ¥é›†ï¼š"><a href="#å¹¶æŸ¥é›†ï¼š" class="headerlink" title="å¹¶æŸ¥é›†ï¼š"></a>å¹¶æŸ¥é›†ï¼š</h2><p>å¹¶æŸ¥é›†å¯ä»¥åŠ¨æ€åœ°è¿é€šä¸¤ä¸ªç‚¹ï¼Œå¹¶ä¸”å¯ä»¥éå¸¸å¿«é€Ÿåœ°åˆ¤æ–­ä¸¤ä¸ªç‚¹æ˜¯å¦è¿é€šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *===============================å¹¶æŸ¥é›†æ¨¡æ¿ï¼Œå¯ç›´æ¥ä½¿ç”¨ï¼ï¼ï¼=====================================</span></span><br><span class="line"><span class="comment"> * æ•°ç»„æ¨¡æ‹Ÿæ ‘ï¼Œå®ç°å¹¶æŸ¥é›†ã€‚æ•°ç»„å†…çš„å…ƒç´ è¡¨ç¤ºçˆ¶äº²çš„ä¸‹è§’è¡¨ï¼Œç›¸å½“äºæŒ‡é’ˆã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UnionFind</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] parent;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UnionFind</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.size = size;</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="title class_">int</span>[size];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> element)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (element != parent[element]) &#123;</span><br><span class="line">            element = parent[element];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> element;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">(<span class="type">int</span> firstElement, <span class="type">int</span> secondElement)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> find(firstElement) == find(secondElement);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unionElements</span><span class="params">(<span class="type">int</span> firstElement, <span class="type">int</span> secondElement)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">firstRoot</span> <span class="operator">=</span> find(firstElement);</span><br><span class="line">        <span class="type">int</span> <span class="variable">secondRoot</span> <span class="operator">=</span> find(secondElement);</span><br><span class="line">        <span class="keyword">if</span> (firstRoot == secondRoot) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        parent[firstRoot] = secondRoot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¹¶æŸ¥é›†çš„åº”ç”¨ï¼š</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] findRedundantConnection(<span class="type">int</span>[][] edges) &#123;</span><br><span class="line">        <span class="type">UnionFind</span> <span class="variable">unionfind</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">UnionFind</span>(edges.length + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>[] edge:edges)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!unionfind.isConnected(edge[<span class="number">0</span>],edge[<span class="number">1</span>]))&#123;</span><br><span class="line">                unionfind.unionElements(edge[<span class="number">0</span>], edge[<span class="number">1</span>]);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> edge;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¯»æ‰¾å›¾ä¸­çš„æœ€å¤§ç¯ï¼š"><a href="#å¯»æ‰¾å›¾ä¸­çš„æœ€å¤§ç¯ï¼š" class="headerlink" title="å¯»æ‰¾å›¾ä¸­çš„æœ€å¤§ç¯ï¼š"></a>å¯»æ‰¾å›¾ä¸­çš„æœ€å¤§ç¯ï¼š</h2><h1 id="è®¡æ•°æ’åº"><a href="#è®¡æ•°æ’åº" class="headerlink" title="è®¡æ•°æ’åº"></a>è®¡æ•°æ’åº</h1><p>ç”¨äº<u><strong>å€¼åŸŸè¾ƒå°çš„å¤§é‡æ•°å­—çš„æ’åº</strong></u>ï¼Œå°†å„ä¸ª<strong>æ•°å­—çš„å€¼</strong>ä¸<strong>ä¸ªæ•°</strong>ä½œä¸ºä¸€ä¸ª<strong>æ•°ç»„çš„ä¸‹æ ‡</strong>å’Œ<strong>å€¼</strong>é€šè¿‡éå†æ•°ç»„ï¼Œç´¯åŠ arr[]çš„å€¼ &#x3D; k<strong>å¾—åˆ°ç¬¬kå°çš„æ•°å­—</strong></p><h1 id="æ¡¶æ’åºï¼š"><a href="#æ¡¶æ’åºï¼š" class="headerlink" title="æ¡¶æ’åºï¼š"></a>æ¡¶æ’åºï¼š</h1><p>â€‹è®¾ç½®è‹¥å¹²ä¸ªæ¡¶ bucket[i] å­˜å‚¨å‡ºç°æ¬¡æ•°ä¸ºiçš„æ•°ï¼Œ bucketå®šä¹‰ä¸º ArrayList[ ] ç±»å‹</p><h1 id="å¿«é€Ÿé€‰æ‹©ï¼š"><a href="#å¿«é€Ÿé€‰æ‹©ï¼š" class="headerlink" title="å¿«é€Ÿé€‰æ‹©ï¼š"></a>å¿«é€Ÿé€‰æ‹©ï¼š</h1><p>å¹³å¸¸äººä»¬<strong>é€‰æ‹©æ•°æ®ä¸­æŸä¸ªç¬¬å‡ å¤§</strong>çš„æ•°æ®ï¼Œå¾€å¾€ä½¿ç”¨å…ˆæ’åºåœ¨é€‰æ‹©çš„æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æœ€å¿«ä¸ºOnlognï¼ˆå¿«æ’æ—¶é—´å¤æ‚åº¦ï¼‰ï¼Œä½†åœ¨æ•°æ®è¾ƒå¤§æ—¶å¾€å¾€ä¼šè¶…å‡ºæ—¶é—´é™åˆ¶ï¼Œæ•…æœ¬æ¬¡ä»‹ç»æ—¶é—´å¤æ‚åº¦ä¸ºOnçš„å¿«é€Ÿé€‰æ‹©æ–¹æ³•</p><p>å¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼šç®—æ³•æ ¸å¿ƒä¸ºé€’å½’å’Œåˆ†æ²»ï¼Œå’Œå¿«é€Ÿæ’åºç®—æ³•æœ‰ä¸€å®šçš„ç›¸ä¼¼åº¦ï¼Œç®—æ³•å¤§æ¦‚è¿‡ç¨‹ä¸º<br>1.å…ˆåˆ¤æ–­åŒºé—´çš„ç«¯ç‚¹l,rå’Œæ¯”è¾ƒæ•°pivot,pivotå¯å–ä¸ºarr[l],arr[r],arr[(l + r) &#x2F; 2)]ã€‚</p><p>2.è¿›è¡Œæ’åºäº¤æ¢ï¼Œä½¿åŒºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå·¦è¾¹éƒ¨åˆ†å°äºç­‰äºpivotï¼Œå³è¾¹éƒ¨åˆ†å¤§äºç­‰äºpivotã€‚</p><p>3.é€’å½’æ’åºå·¦å³è¾¹ï¼Œå½“è¦æ±‚çš„ç¬¬Kä¸ªæ•°,k &gt;&#x3D; slï¼Œåˆ™é€’å½’æ’åºå³è¾¹ï¼Œå¦åˆ™é€’å½’æ’åºå·¦è¾¹ï¼Œå¦‚æœåŒºé—´åªæœ‰ä¸€ä¸ªæ•°åˆ™è¿”å›ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">quickChoose</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> [] arr,<span class="type">int</span> k)</span>&#123;</span><br><span class="line">        <span class="comment">//å¦‚æœå½“å‰åªæœ‰ä¸€ä¸ªæ•°å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span>(l == r)&#123;</span><br><span class="line">           <span class="keyword">return</span> arr[l];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¦åˆ™è¿›è¡Œæ’åºå’ŒæŸ¥æ‰¾</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l - <span class="number">1</span>,j = r + <span class="number">1</span>,pivot = arr[l];</span><br><span class="line">        <span class="comment">//æœ¬æ¬¡è¿”å›j,j + 1</span></span><br><span class="line">        <span class="comment">//å½“å‰å…ƒç´ åŒºé—´ä¸æ­¢ä¸ºä¸€ä¸ªæ•°æ—¶</span></span><br><span class="line">        <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">            <span class="keyword">while</span>(arr[++i] &lt; pivot);</span><br><span class="line">            <span class="keyword">while</span>(arr[--j] &gt; pivot);</span><br><span class="line">            <span class="comment">//å¦‚æœæ»¡è¶³åŒºé—´å…ƒç´ ä¸ä¸º1</span></span><br><span class="line">            <span class="keyword">if</span>(i &lt; j)&#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> arr[j];</span><br><span class="line">                arr[j] = arr[i];</span><br><span class="line">                arr[i] = t;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¦‚æœåœ¨å·¦åŠéƒ¨åˆ†ï¼Œç›´æ¥æ’åºå·¦è¾¹æ±‚è§£</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">s1</span> <span class="operator">=</span> j - l + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(s1 &gt;= k)&#123;</span><br><span class="line">            <span class="keyword">return</span> quickChoose(l,i - <span class="number">1</span>,arr,k);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//å¦åˆ™æ’åºå³è¾¹æ•°ç»„</span></span><br><span class="line">            k = k - s1;</span><br><span class="line">            <span class="keyword">return</span> quickChoose( i,r,arr,k);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h1 id="åŒˆç‰™åˆ©ç®—æ³•ï¼š"><a href="#åŒˆç‰™åˆ©ç®—æ³•ï¼š" class="headerlink" title="åŒˆç‰™åˆ©ç®—æ³•ï¼š"></a>åŒˆç‰™åˆ©ç®—æ³•ï¼š</h1><ul><li><p><strong>åŒˆç‰™åˆ©ç®—æ³•ä¸»è¦ç”¨æ¥è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼šæ±‚äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°å’Œæœ€å°ç‚¹è¦†ç›–æ•°</strong>ã€‚</p><p>æ±‚äºŒåˆ†å›¾æœ€å¤§è¿é€šæ•° æ¨¡ç‰ˆâ¬‡ï¸</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„ç±»åå¿…é¡»ä¸º Main, ä¸è¦æœ‰ä»»ä½• package xxx ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="comment">// æ³¨æ„ hasNext å’Œ hasNextLine çš„åŒºåˆ«</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">        List&lt;Integer&gt; odd = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; even = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">            <span class="keyword">if</span>(temp % <span class="number">2</span> == <span class="number">0</span>)&#123;even.add(temp);&#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;odd.add(temp);&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> [] match = <span class="keyword">new</span> <span class="title class_">int</span> [even.size()];</span><br><span class="line">        <span class="keyword">if</span>(odd.size() == <span class="number">0</span> || even.size() == <span class="number">0</span>)&#123; <span class="comment">//ç¼ºå°‘å¥‡æ•°æˆ–è€…å¶æ•°æ— æ³•æ„æˆç´ æ•°</span></span><br><span class="line">            System.out.println(count);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i: odd)&#123;</span><br><span class="line">            <span class="type">boolean</span> [] used = <span class="keyword">new</span> <span class="title class_">boolean</span> [even.size()];</span><br><span class="line">            <span class="keyword">if</span>(find(i,even, match, used))count++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        System.out.println(count);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> i, List&lt;Integer&gt; even, <span class="type">int</span>[] match,<span class="type">boolean</span> [] used)</span> &#123;</span><br><span class="line">        <span class="comment">// TODO</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; even.size(); j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(isPrime(i + even.get(j)) &amp;&amp; !used[j])&#123;</span><br><span class="line">                used[j] = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span>(match[j] == <span class="number">0</span> || find(match[j], even, match,used))&#123;</span><br><span class="line">                    match[j] = i;  </span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isPrime</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i * i &lt;= n; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(n % i == <span class="number">0</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="å¤šè·¯å½’å¹¶ï¼š"><a href="#å¤šè·¯å½’å¹¶ï¼š" class="headerlink" title="å¤šè·¯å½’å¹¶ï¼š"></a>å¤šè·¯å½’å¹¶ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://lfool.github.io/LFool-Notes/algorithm/å¤šè·¯å½’å¹¶æŠ€å·§æ€»ç»“.html</span><br></pre></td></tr></table></figure><ul><li><p>21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨(ç®€å•)</p></li><li><p>23.åˆå¹¶Kä¸ªå‡åºé“¾è¡¨(<strong>å›°éš¾</strong>)</p><p>æ¯æ¬¡ä»æ‰€æœ‰é“¾è¡¨å¤´ä¸­é€‰æ‹©æ•°å€¼æœ€å°çš„å€¼åŠ å…¥ç»“æœé“¾è¡¨ä¸­å³å¯ã€‚è‡ªå·±åšæ—¶åªä½¿ç”¨äº†éå†çš„æ–¹æ³•ï¼Œä½†æ˜¯å‘ç°å¤§ç¥ä»¬<strong>ä½¿ç”¨å°æ ¹å †</strong>æ¥è·å–æœ€å°çš„é“¾è¡¨å¤´éƒ¨ï¼</p><ul><li>è¿˜å¯ä»¥ä½¿ç”¨å½’å¹¶çš„æ–¹æ³•ï¼Œ(åˆå¹¶nä¸ªé“¾è¡¨â€”â€“åˆ†åŠåˆ†åŠå†åˆ†åŠâ€”â€“&gt;åˆå¹¶2ä¸ªé“¾è¡¨)ï¼Œé’ˆå¯¹åˆå¹¶2ä¸ªé“¾è¡¨ç¼–å†™ä»£ç </li><li>è¿˜å¯ä»¥ä½¿ç”¨PriorityQueue<ListNode>ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå®ƒè‡ªåŠ¨å°†é˜Ÿåˆ—å†…çš„å…ƒç´ æŒ‰ç…§æä¾›çš„é‡å†™çš„compareæ–¹æ³•æ¥æ’åºï¼Œæ¯æ¬¡pollå‡ºæœ€å°çš„ï¼Œå†æŠŠå®ƒçš„next(å¦‚æœæœ‰)æ”¾å…¥é˜Ÿåˆ—</li></ul></li></ul><h1 id="å•è°ƒæ ˆï¼š"><a href="#å•è°ƒæ ˆï¼š" class="headerlink" title="å•è°ƒæ ˆï¼š"></a>å•è°ƒæ ˆï¼š</h1><p>â€‹<strong>ç”¨äºå¤„ç† è·å–é€’å¢å­åºåˆ—ä¹‹ç±»çš„é¢˜ç›®</strong></p><p>â€‹éå†æ‰€ç»™çš„æ•°æ®ï¼Œå¹¶ç»´æŠ¤ä¸€ä¸ªæ ˆï¼Œ</p><p>â€‹æ¯”å¦‚ç°åœ¨éœ€è¦æ‰¾å‡ºé•¿åº¦ä¸ºnçš„æœ€å°å­—å…¸åºå­å­—ç¬¦ä¸²</p><p>â€‹å¦‚æœè·å¾—çš„æ•°æ®æ¯”æ ˆé¡¶çš„å°ï¼Œåˆ™å¼¹å‡ºæ ˆé¡¶ï¼Œç›´åˆ°æ ˆä¸ºç©º æˆ– æ ˆé¡¶å…ƒç´ å°äºæ‰€æŒå…ƒç´ ï¼Œ (è¿™é‡Œè¿˜æ³¨æ„ï¼šå› ä¸ºæˆ‘ä»¬éœ€è¦çš„æ˜¯é•¿åº¦ä¸ºnçš„å­åºåˆ—ï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬æ¯æ¬¡æƒ³è¦popçš„æ—¶å€™éƒ½éœ€è¦åˆ¤æ–­ï¼šæ ˆä¸­å…ƒç´ ä»¥åŠæœªéå†çš„å…ƒç´ æ€»æ•°æ˜¯å¦è¾¾åˆ°äº†äº†nï¼Œè‹¥&gt;nï¼Œåˆ™å…è®¸pop)</p><p>æœ€åå°†æ ˆä¸­çš„æ•°æ®ä¾æ¬¡popï¼Œå†reverseä¸€ä¸‹å³å¯</p><h1 id="TreeSetçš„ä½¿ç”¨ï¼š"><a href="#TreeSetçš„ä½¿ç”¨ï¼š" class="headerlink" title="TreeSetçš„ä½¿ç”¨ï¼š"></a>TreeSetçš„ä½¿ç”¨ï¼š</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        TreeSet&lt;Integer&gt; treeSet = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">        in.next();</span><br><span class="line">        <span class="keyword">while</span> (in.hasNextInt()) &#123; <span class="comment">// æ³¨æ„ while å¤„ç†å¤šä¸ª case</span></span><br><span class="line">            treeSet.add(in.nextInt());           </span><br><span class="line">        &#125;</span><br><span class="line">        Iterator&lt;Integer&gt; tree = treeSet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (tree.hasNext())&#123;</span><br><span class="line">            System.out.println(tree.next());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="System-arraycopy-çš„ä½¿ç”¨"><a href="#System-arraycopy-çš„ä½¿ç”¨" class="headerlink" title="System.arraycopy()çš„ä½¿ç”¨"></a>System.arraycopy()çš„ä½¿ç”¨</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>      src      the source array. æºæ•°ç»„</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>      srcPos   starting position in the source array. æºæ•°ç»„çš„èµ·å§‹ä½ç½®</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>      dest     the destination array. ç›®æ ‡æ•°ç»„</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>      destPos  starting position in the destination data. ç›®æ ‡æ•°ç»„çš„èµ·å§‹ä½ç½®</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>      length   the number of array elements to be copied. å¤åˆ¶çš„é•¿åº¦</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">arraycopy(Object src,<span class="type">int</span> srcPos,Object dest, <span class="type">int</span> destPos, <span class="type">int</span> length)ï¼›</span><br></pre></td></tr></table></figure><h1 id="åŠ¨æ€è§„åˆ’ï¼š"><a href="#åŠ¨æ€è§„åˆ’ï¼š" class="headerlink" title="åŠ¨æ€è§„åˆ’ï¼š"></a>åŠ¨æ€è§„åˆ’ï¼š</h1><h4 id="1031-ä¸¤ä¸ªéé‡å å­æ•°ç»„çš„æœ€å¤§å’Œ"><a href="#1031-ä¸¤ä¸ªéé‡å å­æ•°ç»„çš„æœ€å¤§å’Œ" class="headerlink" title="1031. ä¸¤ä¸ªéé‡å å­æ•°ç»„çš„æœ€å¤§å’Œ"></a><a href="https://leetcode.cn/problems/maximum-sum-of-two-non-overlapping-subarrays/">1031. ä¸¤ä¸ªéé‡å å­æ•°ç»„çš„æœ€å¤§å’Œ</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸¤ä¸ªæ•´æ•° firstLen å’Œ secondLenï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ä¸¤ä¸ªéé‡å  å­æ•°ç»„ ä¸­å…ƒç´ çš„æœ€å¤§å’Œï¼Œé•¿åº¦åˆ†åˆ«ä¸º firstLen å’Œ secondLen ã€‚</span><br><span class="line">é•¿åº¦ä¸º firstLen çš„å­æ•°ç»„å¯ä»¥å‡ºç°åœ¨é•¿ä¸º secondLen çš„å­æ•°ç»„ä¹‹å‰æˆ–ä¹‹åï¼Œä½†äºŒè€…å¿…é¡»æ˜¯ä¸é‡å çš„ã€‚</span><br><span class="line">å­æ•°ç»„æ˜¯æ•°ç»„çš„ä¸€ä¸ª è¿ç»­ éƒ¨åˆ†ã€‚</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨åŠ¨æ€è§„åˆ’ ï¼š</p><ul><li><p>dp1[ i ]è¡¨ç¤ºå‰iä¸ªæ•°ä¸­é•¿åº¦ä¸ºfirstLençš„å­æ•°ç»„çš„æœ€å¤§å€¼ (è‹¥ i &lt; firstLen)åˆ™dp1[ i ] &#x3D; å‰iä¸ªæ•°ä¹‹å’Œ</p></li><li><p>dp2[ i ]è¡¨ç¤ºå‰iä¸ªæ•°ä¸­é•¿åº¦ä¸ºsecondLençš„å­æ•°ç»„çš„æœ€å¤§å€¼</p><p>æˆ‘ä»¬å¾—åˆ°dp1[ ]ä¸dp2[ ]æ•°ç»„åï¼Œå¯¹äºæ¯ä¸ªiï¼Œæˆ‘ä»¬å¯ä»¥è®©res &#x3D; Max{res, æ•°ç»„1(firstLen)åŒ…å«äº†æœ€æ–°çš„ç¬¬iä½ï¼Œæ•°ç»„2(secondLen)åŒ…å«äº†æœ€æ–°çš„ç¬¬iä½}</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxSumTwoNoOverlap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> firstLen, <span class="type">int</span> secondLen)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            nums[i] += nums[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[] arr1 = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">        <span class="type">int</span>[] arr2 = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">        arr1[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        arr2[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            arr1[i] = firstLen&gt;i?nums[i]: Math.max(nums[i] - nums[i - firstLen],arr1[i - <span class="number">1</span>]);</span><br><span class="line">            arr2[i] = secondLen&gt;i?nums[i]: Math.max(nums[i] - nums[i - secondLen],arr2[i - <span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (firstLen + secondLen &gt; i)&#123;</span><br><span class="line">                res = nums[i];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res = Math.max(res, nums[i] - nums[i - firstLen] + arr2[i - firstLen]);</span><br><span class="line">                res = Math.max(res, nums[i] - nums[i - secondLen] + arr1[i - secondLen]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ul><p>**1606è‡ªå·±åšçš„è¶…æ—¶äº†ï¼Œç­”æ¡ˆçš„æ•°æ®ç»“æ„æœ‰ç‚¹å¤æ‚ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æœ‰ç©ºå†çœ‹çœ‹ï½</p><p>**2151 äºŒè¿›åˆ¶æšä¸¾ï¼Œæœ‰ç©ºæ¥å¤ç›˜ï¼</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
